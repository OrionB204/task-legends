var mv=e=>{throw TypeError(e)};var sf=(e,t,r)=>t.has(e)||mv("Cannot "+r);var E=(e,t,r)=>(sf(e,t,"read from private field"),r?r.call(e):t.get(e)),re=(e,t,r)=>t.has(e)?mv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Q=(e,t,r,n)=>(sf(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ue=(e,t,r)=>(sf(e,t,"access private method"),r);var Kl=(e,t,r,n)=>({set _(s){Q(e,t,s,r)},get _(){return E(e,t,n)}});function bC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function T0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var P0={exports:{}},Ku={},R0={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=Symbol.for("react.element"),wC=Symbol.for("react.portal"),_C=Symbol.for("react.fragment"),SC=Symbol.for("react.strict_mode"),jC=Symbol.for("react.profiler"),NC=Symbol.for("react.provider"),CC=Symbol.for("react.context"),EC=Symbol.for("react.forward_ref"),kC=Symbol.for("react.suspense"),TC=Symbol.for("react.memo"),PC=Symbol.for("react.lazy"),gv=Symbol.iterator;function RC(e){return e===null||typeof e!="object"?null:(e=gv&&e[gv]||e["@@iterator"],typeof e=="function"?e:null)}var A0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O0=Object.assign,D0={};function eo(e,t,r){this.props=e,this.context=t,this.refs=D0,this.updater=r||A0}eo.prototype.isReactComponent={};eo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};eo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function I0(){}I0.prototype=eo.prototype;function rm(e,t,r){this.props=e,this.context=t,this.refs=D0,this.updater=r||A0}var nm=rm.prototype=new I0;nm.constructor=rm;O0(nm,eo.prototype);nm.isPureReactComponent=!0;var vv=Array.isArray,M0=Object.prototype.hasOwnProperty,sm={current:null},L0={key:!0,ref:!0,__self:!0,__source:!0};function $0(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)M0.call(t,n)&&!L0.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:kl,type:e,key:a,ref:o,props:s,_owner:sm.current}}function AC(e,t){return{$$typeof:kl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function am(e){return typeof e=="object"&&e!==null&&e.$$typeof===kl}function OC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var yv=/\/+/g;function af(e,t){return typeof e=="object"&&e!==null&&e.key!=null?OC(""+e.key):t.toString(36)}function Tc(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case kl:case wC:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+af(o,0):n,vv(s)?(r="",e!=null&&(r=e.replace(yv,"$&/")+"/"),Tc(s,t,r,"",function(u){return u})):s!=null&&(am(s)&&(s=AC(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(yv,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",vv(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+af(a,l);o+=Tc(a,t,r,c,s)}else if(c=RC(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+af(a,l++),o+=Tc(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Gl(e,t,r){if(e==null)return e;var n=[],s=0;return Tc(e,n,"","",function(a){return t.call(r,a,s++)}),n}function DC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kt={current:null},Pc={transition:null},IC={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:Pc,ReactCurrentOwner:sm};function F0(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Gl,forEach:function(e,t,r){Gl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gl(e,function(){t++}),t},toArray:function(e){return Gl(e,function(t){return t})||[]},only:function(e){if(!am(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=eo;he.Fragment=_C;he.Profiler=jC;he.PureComponent=rm;he.StrictMode=SC;he.Suspense=kC;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IC;he.act=F0;he.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=O0({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=sm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)M0.call(t,c)&&!L0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:kl,type:e.type,key:s,ref:a,props:n,_owner:o}};he.createContext=function(e){return e={$$typeof:CC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:NC,_context:e},e.Consumer=e};he.createElement=$0;he.createFactory=function(e){var t=$0.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:EC,render:e}};he.isValidElement=am;he.lazy=function(e){return{$$typeof:PC,_payload:{_status:-1,_result:e},_init:DC}};he.memo=function(e,t){return{$$typeof:TC,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=Pc.transition;Pc.transition={};try{e()}finally{Pc.transition=t}};he.unstable_act=F0;he.useCallback=function(e,t){return kt.current.useCallback(e,t)};he.useContext=function(e){return kt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return kt.current.useDeferredValue(e)};he.useEffect=function(e,t){return kt.current.useEffect(e,t)};he.useId=function(){return kt.current.useId()};he.useImperativeHandle=function(e,t,r){return kt.current.useImperativeHandle(e,t,r)};he.useInsertionEffect=function(e,t){return kt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return kt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return kt.current.useMemo(e,t)};he.useReducer=function(e,t,r){return kt.current.useReducer(e,t,r)};he.useRef=function(e){return kt.current.useRef(e)};he.useState=function(e){return kt.current.useState(e)};he.useSyncExternalStore=function(e,t,r){return kt.current.useSyncExternalStore(e,t,r)};he.useTransition=function(){return kt.current.useTransition()};he.version="18.3.1";R0.exports=he;var m=R0.exports;const H=T0(m),Gu=bC({__proto__:null,default:H},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MC=m,LC=Symbol.for("react.element"),$C=Symbol.for("react.fragment"),FC=Object.prototype.hasOwnProperty,qC=MC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UC={key:!0,ref:!0,__self:!0,__source:!0};function q0(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)FC.call(t,n)&&!UC.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:LC,type:e,key:a,ref:o,props:s,_owner:qC.current}}Ku.Fragment=$C;Ku.jsx=q0;Ku.jsxs=q0;P0.exports=Ku;var i=P0.exports,U0={exports:{}},tr={},B0={exports:{}},z0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,L){var D=P.length;P.push(L);e:for(;0<D;){var B=D-1>>>1,V=P[B];if(0<s(V,L))P[B]=L,P[D]=V,D=B;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var L=P[0],D=P.pop();if(D!==L){P[0]=D;e:for(var B=0,V=P.length,Z=V>>>1;B<Z;){var ee=2*(B+1)-1,me=P[ee],Ne=ee+1,K=P[Ne];if(0>s(me,D))Ne<V&&0>s(K,me)?(P[B]=K,P[Ne]=D,B=Ne):(P[B]=me,P[ee]=D,B=ee);else if(Ne<V&&0>s(K,D))P[B]=K,P[Ne]=D,B=Ne;else break e}}return L}function s(P,L){var D=P.sortIndex-L.sortIndex;return D!==0?D:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=P)n(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(u)}}function _(P){if(g=!1,w(P),!v)if(r(c)!==null)v=!0,z(S);else{var L=r(u);L!==null&&q(_,L.startTime-P)}}function S(P,L){v=!1,g&&(g=!1,x(C),C=-1),p=!0;var D=h;try{for(w(L),f=r(c);f!==null&&(!(f.expirationTime>L)||P&&!F());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var V=B(f.expirationTime<=L);L=e.unstable_now(),typeof V=="function"?f.callback=V:f===r(c)&&n(c),w(L)}else n(c);f=r(c)}if(f!==null)var Z=!0;else{var ee=r(u);ee!==null&&q(_,ee.startTime-L),Z=!1}return Z}finally{f=null,h=D,p=!1}}var j=!1,N=null,C=-1,k=5,O=-1;function F(){return!(e.unstable_now()-O<k)}function T(){if(N!==null){var P=e.unstable_now();O=P;var L=!0;try{L=N(!0,P)}finally{L?A():(j=!1,N=null)}}else j=!1}var A;if(typeof y=="function")A=function(){y(T)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,M=R.port2;R.port1.onmessage=T,A=function(){M.postMessage(null)}}else A=function(){b(T,0)};function z(P){N=P,j||(j=!0,A())}function q(P,L){C=b(function(){P(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,z(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var D=h;h=L;try{return P()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var D=h;h=P;try{return L()}finally{h=D}},e.unstable_scheduleCallback=function(P,L,D){var B=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?B+D:B):D=B,P){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=D+V,P={id:d++,callback:L,priorityLevel:P,startTime:D,expirationTime:V,sortIndex:-1},D>B?(P.sortIndex=D,t(u,P),r(c)===null&&P===r(u)&&(g?(x(C),C=-1):g=!0,q(_,D-B))):(P.sortIndex=V,t(c,P),v||p||(v=!0,z(S))),P},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(P){var L=h;return function(){var D=h;h=L;try{return P.apply(this,arguments)}finally{h=D}}}})(z0);B0.exports=z0;var BC=B0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC=m,er=BC;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H0=new Set,Vo={};function Sa(e,t){Li(e,t),Li(e+"Capture",t)}function Li(e,t){for(Vo[e]=t,e=0;e<t.length;e++)H0.add(t[e])}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uh=Object.prototype.hasOwnProperty,HC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xv={},bv={};function WC(e){return uh.call(bv,e)?!0:uh.call(xv,e)?!1:HC.test(e)?bv[e]=!0:(xv[e]=!0,!1)}function VC(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function KC(e,t,r,n){if(t===null||typeof t>"u"||VC(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Tt(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ht[e]=new Tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ht[t]=new Tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ht[e]=new Tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ht[e]=new Tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ht[e]=new Tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ht[e]=new Tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ht[e]=new Tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ht[e]=new Tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ht[e]=new Tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var im=/[\-:]([a-z])/g;function om(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(im,om);ht[t]=new Tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(im,om);ht[t]=new Tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(im,om);ht[t]=new Tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ht[e]=new Tt(e,1,!1,e.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ht[e]=new Tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function lm(e,t,r,n){var s=ht.hasOwnProperty(t)?ht[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(KC(t,r,s,n)&&(r=null),n||s===null?WC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $n=zC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ql=Symbol.for("react.element"),Xa=Symbol.for("react.portal"),Ja=Symbol.for("react.fragment"),cm=Symbol.for("react.strict_mode"),dh=Symbol.for("react.profiler"),W0=Symbol.for("react.provider"),V0=Symbol.for("react.context"),um=Symbol.for("react.forward_ref"),fh=Symbol.for("react.suspense"),hh=Symbol.for("react.suspense_list"),dm=Symbol.for("react.memo"),Xn=Symbol.for("react.lazy"),K0=Symbol.for("react.offscreen"),wv=Symbol.iterator;function ho(e){return e===null||typeof e!="object"?null:(e=wv&&e[wv]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,of;function No(e){if(of===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);of=t&&t[1]||""}return`
`+of+e}var lf=!1;function cf(e,t){if(!e||lf)return"";lf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{lf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?No(e):""}function GC(e){switch(e.tag){case 5:return No(e.type);case 16:return No("Lazy");case 13:return No("Suspense");case 19:return No("SuspenseList");case 0:case 2:case 15:return e=cf(e.type,!1),e;case 11:return e=cf(e.type.render,!1),e;case 1:return e=cf(e.type,!0),e;default:return""}}function ph(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ja:return"Fragment";case Xa:return"Portal";case dh:return"Profiler";case cm:return"StrictMode";case fh:return"Suspense";case hh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V0:return(e.displayName||"Context")+".Consumer";case W0:return(e._context.displayName||"Context")+".Provider";case um:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dm:return t=e.displayName||null,t!==null?t:ph(e.type)||"Memo";case Xn:t=e._payload,e=e._init;try{return ph(e(t))}catch{}}return null}function QC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ph(t);case 8:return t===cm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function js(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function G0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YC(e){var t=G0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yl(e){e._valueTracker||(e._valueTracker=YC(e))}function Q0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=G0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Jc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mh(e,t){var r=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function _v(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=js(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Y0(e,t){t=t.checked,t!=null&&lm(e,"checked",t,!1)}function gh(e,t){Y0(e,t);var r=js(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vh(e,t.type,r):t.hasOwnProperty("defaultValue")&&vh(e,t.type,js(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function vh(e,t,r){(t!=="number"||Jc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Co=Array.isArray;function di(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+js(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function yh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(Co(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:js(r)}}function X0(e,t){var r=js(t.value),n=js(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Nv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function J0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?J0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xl,Z0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xl=Xl||document.createElement("div"),Xl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ko(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XC=["Webkit","ms","Moz","O"];Object.keys(Oo).forEach(function(e){XC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oo[t]=Oo[e]})});function eb(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Oo.hasOwnProperty(e)&&Oo[e]?(""+t).trim():t+"px"}function tb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=eb(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var JC=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bh(e,t){if(t){if(JC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function wh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _h=null;function fm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sh=null,fi=null,hi=null;function Cv(e){if(e=Rl(e)){if(typeof Sh!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Zu(t),Sh(e.stateNode,e.type,t))}}function rb(e){fi?hi?hi.push(e):hi=[e]:fi=e}function nb(){if(fi){var e=fi,t=hi;if(hi=fi=null,Cv(e),t)for(e=0;e<t.length;e++)Cv(t[e])}}function sb(e,t){return e(t)}function ab(){}var uf=!1;function ib(e,t,r){if(uf)return e(t,r);uf=!0;try{return sb(e,t,r)}finally{uf=!1,(fi!==null||hi!==null)&&(ab(),nb())}}function Go(e,t){var r=e.stateNode;if(r===null)return null;var n=Zu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var jh=!1;if(An)try{var po={};Object.defineProperty(po,"passive",{get:function(){jh=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{jh=!1}function ZC(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Do=!1,Zc=null,eu=!1,Nh=null,eE={onError:function(e){Do=!0,Zc=e}};function tE(e,t,r,n,s,a,o,l,c){Do=!1,Zc=null,ZC.apply(eE,arguments)}function rE(e,t,r,n,s,a,o,l,c){if(tE.apply(this,arguments),Do){if(Do){var u=Zc;Do=!1,Zc=null}else throw Error(W(198));eu||(eu=!0,Nh=u)}}function ja(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ob(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ev(e){if(ja(e)!==e)throw Error(W(188))}function nE(e){var t=e.alternate;if(!t){if(t=ja(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Ev(s),e;if(a===n)return Ev(s),t;a=a.sibling}throw Error(W(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function lb(e){return e=nE(e),e!==null?cb(e):null}function cb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cb(e);if(t!==null)return t;e=e.sibling}return null}var ub=er.unstable_scheduleCallback,kv=er.unstable_cancelCallback,sE=er.unstable_shouldYield,aE=er.unstable_requestPaint,ze=er.unstable_now,iE=er.unstable_getCurrentPriorityLevel,hm=er.unstable_ImmediatePriority,db=er.unstable_UserBlockingPriority,tu=er.unstable_NormalPriority,oE=er.unstable_LowPriority,fb=er.unstable_IdlePriority,Qu=null,nn=null;function lE(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Qu,e,void 0,(e.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:dE,cE=Math.log,uE=Math.LN2;function dE(e){return e>>>=0,e===0?32:31-(cE(e)/uE|0)|0}var Jl=64,Zl=4194304;function Eo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ru(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Eo(l):(a&=o,a!==0&&(n=Eo(a)))}else o=r&~s,o!==0?n=Eo(o):a!==0&&(n=Eo(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Or(t),s=1<<r,n|=e[r],t&=~s;return n}function fE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Or(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=fE(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Ch(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hb(){var e=Jl;return Jl<<=1,!(Jl&4194240)&&(Jl=64),e}function df(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Tl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Or(t),e[t]=r}function pE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Or(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function pm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Or(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Se=0;function pb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mb,mm,gb,vb,yb,Eh=!1,ec=[],ms=null,gs=null,vs=null,Qo=new Map,Yo=new Map,es=[],mE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tv(e,t){switch(e){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":Qo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(t.pointerId)}}function mo(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Rl(t),t!==null&&mm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function gE(e,t,r,n,s){switch(t){case"focusin":return ms=mo(ms,e,t,r,n,s),!0;case"dragenter":return gs=mo(gs,e,t,r,n,s),!0;case"mouseover":return vs=mo(vs,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Qo.set(a,mo(Qo.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Yo.set(a,mo(Yo.get(a)||null,e,t,r,n,s)),!0}return!1}function xb(e){var t=Gs(e.target);if(t!==null){var r=ja(t);if(r!==null){if(t=r.tag,t===13){if(t=ob(r),t!==null){e.blockedOn=t,yb(e.priority,function(){gb(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=kh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);_h=n,r.target.dispatchEvent(n),_h=null}else return t=Rl(r),t!==null&&mm(t),e.blockedOn=r,!1;t.shift()}return!0}function Pv(e,t,r){Rc(e)&&r.delete(t)}function vE(){Eh=!1,ms!==null&&Rc(ms)&&(ms=null),gs!==null&&Rc(gs)&&(gs=null),vs!==null&&Rc(vs)&&(vs=null),Qo.forEach(Pv),Yo.forEach(Pv)}function go(e,t){e.blockedOn===t&&(e.blockedOn=null,Eh||(Eh=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,vE)))}function Xo(e){function t(s){return go(s,e)}if(0<ec.length){go(ec[0],e);for(var r=1;r<ec.length;r++){var n=ec[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ms!==null&&go(ms,e),gs!==null&&go(gs,e),vs!==null&&go(vs,e),Qo.forEach(t),Yo.forEach(t),r=0;r<es.length;r++)n=es[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<es.length&&(r=es[0],r.blockedOn===null);)xb(r),r.blockedOn===null&&es.shift()}var pi=$n.ReactCurrentBatchConfig,nu=!0;function yE(e,t,r,n){var s=Se,a=pi.transition;pi.transition=null;try{Se=1,gm(e,t,r,n)}finally{Se=s,pi.transition=a}}function xE(e,t,r,n){var s=Se,a=pi.transition;pi.transition=null;try{Se=4,gm(e,t,r,n)}finally{Se=s,pi.transition=a}}function gm(e,t,r,n){if(nu){var s=kh(e,t,r,n);if(s===null)wf(e,t,n,su,r),Tv(e,n);else if(gE(s,e,t,r,n))n.stopPropagation();else if(Tv(e,n),t&4&&-1<mE.indexOf(e)){for(;s!==null;){var a=Rl(s);if(a!==null&&mb(a),a=kh(e,t,r,n),a===null&&wf(e,t,n,su,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else wf(e,t,n,null,r)}}var su=null;function kh(e,t,r,n){if(su=null,e=fm(n),e=Gs(e),e!==null)if(t=ja(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ob(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return su=e,null}function bb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iE()){case hm:return 1;case db:return 4;case tu:case oE:return 16;case fb:return 536870912;default:return 16}default:return 16}}var fs=null,vm=null,Ac=null;function wb(){if(Ac)return Ac;var e,t=vm,r=t.length,n,s="value"in fs?fs.value:fs.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return Ac=s.slice(e,1<n?1-n:void 0)}function Oc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function tc(){return!0}function Rv(){return!1}function rr(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?tc:Rv,this.isPropagationStopped=Rv,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=tc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=tc)},persist:function(){},isPersistent:tc}),t}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ym=rr(to),Pl=Le({},to,{view:0,detail:0}),bE=rr(Pl),ff,hf,vo,Yu=Le({},Pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vo&&(vo&&e.type==="mousemove"?(ff=e.screenX-vo.screenX,hf=e.screenY-vo.screenY):hf=ff=0,vo=e),ff)},movementY:function(e){return"movementY"in e?e.movementY:hf}}),Av=rr(Yu),wE=Le({},Yu,{dataTransfer:0}),_E=rr(wE),SE=Le({},Pl,{relatedTarget:0}),pf=rr(SE),jE=Le({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),NE=rr(jE),CE=Le({},to,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EE=rr(CE),kE=Le({},to,{data:0}),Ov=rr(kE),TE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=RE[e])?!!t[e]:!1}function xm(){return AE}var OE=Le({},Pl,{key:function(e){if(e.key){var t=TE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?PE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xm,charCode:function(e){return e.type==="keypress"?Oc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DE=rr(OE),IE=Le({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dv=rr(IE),ME=Le({},Pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xm}),LE=rr(ME),$E=Le({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),FE=rr($E),qE=Le({},Yu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UE=rr(qE),BE=[9,13,27,32],bm=An&&"CompositionEvent"in window,Io=null;An&&"documentMode"in document&&(Io=document.documentMode);var zE=An&&"TextEvent"in window&&!Io,_b=An&&(!bm||Io&&8<Io&&11>=Io),Iv=" ",Mv=!1;function Sb(e,t){switch(e){case"keyup":return BE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Za=!1;function HE(e,t){switch(e){case"compositionend":return jb(t);case"keypress":return t.which!==32?null:(Mv=!0,Iv);case"textInput":return e=t.data,e===Iv&&Mv?null:e;default:return null}}function WE(e,t){if(Za)return e==="compositionend"||!bm&&Sb(e,t)?(e=wb(),Ac=vm=fs=null,Za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _b&&t.locale!=="ko"?null:t.data;default:return null}}var VE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VE[e.type]:t==="textarea"}function Nb(e,t,r,n){rb(n),t=au(t,"onChange"),0<t.length&&(r=new ym("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Mo=null,Jo=null;function KE(e){Mb(e,0)}function Xu(e){var t=ri(e);if(Q0(t))return e}function GE(e,t){if(e==="change")return t}var Cb=!1;if(An){var mf;if(An){var gf="oninput"in document;if(!gf){var $v=document.createElement("div");$v.setAttribute("oninput","return;"),gf=typeof $v.oninput=="function"}mf=gf}else mf=!1;Cb=mf&&(!document.documentMode||9<document.documentMode)}function Fv(){Mo&&(Mo.detachEvent("onpropertychange",Eb),Jo=Mo=null)}function Eb(e){if(e.propertyName==="value"&&Xu(Jo)){var t=[];Nb(t,Jo,e,fm(e)),ib(KE,t)}}function QE(e,t,r){e==="focusin"?(Fv(),Mo=t,Jo=r,Mo.attachEvent("onpropertychange",Eb)):e==="focusout"&&Fv()}function YE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xu(Jo)}function XE(e,t){if(e==="click")return Xu(t)}function JE(e,t){if(e==="input"||e==="change")return Xu(t)}function ZE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lr=typeof Object.is=="function"?Object.is:ZE;function Zo(e,t){if(Lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!uh.call(t,s)||!Lr(e[s],t[s]))return!1}return!0}function qv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uv(e,t){var r=qv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qv(r)}}function kb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tb(){for(var e=window,t=Jc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Jc(e.document)}return t}function wm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ek(e){var t=Tb(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&kb(r.ownerDocument.documentElement,r)){if(n!==null&&wm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=Uv(r,a);var o=Uv(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tk=An&&"documentMode"in document&&11>=document.documentMode,ei=null,Th=null,Lo=null,Ph=!1;function Bv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ph||ei==null||ei!==Jc(n)||(n=ei,"selectionStart"in n&&wm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Lo&&Zo(Lo,n)||(Lo=n,n=au(Th,"onSelect"),0<n.length&&(t=new ym("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ei)))}function rc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ti={animationend:rc("Animation","AnimationEnd"),animationiteration:rc("Animation","AnimationIteration"),animationstart:rc("Animation","AnimationStart"),transitionend:rc("Transition","TransitionEnd")},vf={},Pb={};An&&(Pb=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function Ju(e){if(vf[e])return vf[e];if(!ti[e])return e;var t=ti[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Pb)return vf[e]=t[r];return e}var Rb=Ju("animationend"),Ab=Ju("animationiteration"),Ob=Ju("animationstart"),Db=Ju("transitionend"),Ib=new Map,zv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(e,t){Ib.set(e,t),Sa(t,[e])}for(var yf=0;yf<zv.length;yf++){var xf=zv[yf],rk=xf.toLowerCase(),nk=xf[0].toUpperCase()+xf.slice(1);Ts(rk,"on"+nk)}Ts(Rb,"onAnimationEnd");Ts(Ab,"onAnimationIteration");Ts(Ob,"onAnimationStart");Ts("dblclick","onDoubleClick");Ts("focusin","onFocus");Ts("focusout","onBlur");Ts(Db,"onTransitionEnd");Li("onMouseEnter",["mouseout","mouseover"]);Li("onMouseLeave",["mouseout","mouseover"]);Li("onPointerEnter",["pointerout","pointerover"]);Li("onPointerLeave",["pointerout","pointerover"]);Sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ko));function Hv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,rE(n,t,void 0,e),e.currentTarget=null}function Mb(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Hv(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Hv(s,l,u),a=c}}}if(eu)throw e=Nh,eu=!1,Nh=null,e}function Re(e,t){var r=t[Ih];r===void 0&&(r=t[Ih]=new Set);var n=e+"__bubble";r.has(n)||(Lb(t,e,2,!1),r.add(n))}function bf(e,t,r){var n=0;t&&(n|=4),Lb(r,e,n,t)}var nc="_reactListening"+Math.random().toString(36).slice(2);function el(e){if(!e[nc]){e[nc]=!0,H0.forEach(function(r){r!=="selectionchange"&&(sk.has(r)||bf(r,!1,e),bf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nc]||(t[nc]=!0,bf("selectionchange",!1,t))}}function Lb(e,t,r,n){switch(bb(t)){case 1:var s=yE;break;case 4:s=xE;break;default:s=gm}r=s.bind(null,t,r,e),s=void 0,!jh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function wf(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Gs(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}ib(function(){var u=a,d=fm(r),f=[];e:{var h=Ib.get(e);if(h!==void 0){var p=ym,v=e;switch(e){case"keypress":if(Oc(r)===0)break e;case"keydown":case"keyup":p=DE;break;case"focusin":v="focus",p=pf;break;case"focusout":v="blur",p=pf;break;case"beforeblur":case"afterblur":p=pf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Av;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_E;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=LE;break;case Rb:case Ab:case Ob:p=NE;break;case Db:p=FE;break;case"scroll":p=bE;break;case"wheel":p=UE;break;case"copy":case"cut":case"paste":p=EE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Dv}var g=(t&4)!==0,b=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,x!==null&&(_=Go(y,x),_!=null&&g.push(tl(y,_,w)))),b)break;y=y.return}0<g.length&&(h=new p(h,v,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==_h&&(v=r.relatedTarget||r.fromElement)&&(Gs(v)||v[On]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?Gs(v):null,v!==null&&(b=ja(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(g=Av,_="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=Dv,_="onPointerLeave",x="onPointerEnter",y="pointer"),b=p==null?h:ri(p),w=v==null?h:ri(v),h=new g(_,y+"leave",p,r,d),h.target=b,h.relatedTarget=w,_=null,Gs(d)===u&&(g=new g(x,y+"enter",v,r,d),g.target=w,g.relatedTarget=b,_=g),b=_,p&&v)t:{for(g=p,x=v,y=0,w=g;w;w=Ia(w))y++;for(w=0,_=x;_;_=Ia(_))w++;for(;0<y-w;)g=Ia(g),y--;for(;0<w-y;)x=Ia(x),w--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=Ia(g),x=Ia(x)}g=null}else g=null;p!==null&&Wv(f,h,p,g,!1),v!==null&&b!==null&&Wv(f,b,v,g,!0)}}e:{if(h=u?ri(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=GE;else if(Lv(h))if(Cb)S=JE;else{S=YE;var j=QE}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=XE);if(S&&(S=S(e,u))){Nb(f,S,r,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&vh(h,"number",h.value)}switch(j=u?ri(u):window,e){case"focusin":(Lv(j)||j.contentEditable==="true")&&(ei=j,Th=u,Lo=null);break;case"focusout":Lo=Th=ei=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,Bv(f,r,d);break;case"selectionchange":if(tk)break;case"keydown":case"keyup":Bv(f,r,d)}var N;if(bm)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Za?Sb(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(_b&&r.locale!=="ko"&&(Za||C!=="onCompositionStart"?C==="onCompositionEnd"&&Za&&(N=wb()):(fs=d,vm="value"in fs?fs.value:fs.textContent,Za=!0)),j=au(u,C),0<j.length&&(C=new Ov(C,e,null,r,d),f.push({event:C,listeners:j}),N?C.data=N:(N=jb(r),N!==null&&(C.data=N)))),(N=zE?HE(e,r):WE(e,r))&&(u=au(u,"onBeforeInput"),0<u.length&&(d=new Ov("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}Mb(f,t)})}function tl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function au(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Go(e,r),a!=null&&n.unshift(tl(e,a,s)),a=Go(e,t),a!=null&&n.push(tl(e,a,s))),e=e.return}return n}function Ia(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wv(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Go(r,a),c!=null&&o.unshift(tl(r,c,l))):s||(c=Go(r,a),c!=null&&o.push(tl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var ak=/\r\n?/g,ik=/\u0000|\uFFFD/g;function Vv(e){return(typeof e=="string"?e:""+e).replace(ak,`
`).replace(ik,"")}function sc(e,t,r){if(t=Vv(t),Vv(e)!==t&&r)throw Error(W(425))}function iu(){}var Rh=null,Ah=null;function Oh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dh=typeof setTimeout=="function"?setTimeout:void 0,ok=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,lk=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(e){return Kv.resolve(null).then(e).catch(ck)}:Dh;function ck(e){setTimeout(function(){throw e})}function _f(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Xo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Xo(t)}function ys(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ro=Math.random().toString(36).slice(2),Xr="__reactFiber$"+ro,rl="__reactProps$"+ro,On="__reactContainer$"+ro,Ih="__reactEvents$"+ro,uk="__reactListeners$"+ro,dk="__reactHandles$"+ro;function Gs(e){var t=e[Xr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[On]||r[Xr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Gv(e);e!==null;){if(r=e[Xr])return r;e=Gv(e)}return t}e=r,r=e.parentNode}return null}function Rl(e){return e=e[Xr]||e[On],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ri(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Zu(e){return e[rl]||null}var Mh=[],ni=-1;function Ps(e){return{current:e}}function Ae(e){0>ni||(e.current=Mh[ni],Mh[ni]=null,ni--)}function ke(e,t){ni++,Mh[ni]=e.current,e.current=t}var Ns={},xt=Ps(Ns),Ft=Ps(!1),da=Ns;function $i(e,t){var r=e.type.contextTypes;if(!r)return Ns;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function qt(e){return e=e.childContextTypes,e!=null}function ou(){Ae(Ft),Ae(xt)}function Qv(e,t,r){if(xt.current!==Ns)throw Error(W(168));ke(xt,t),ke(Ft,r)}function $b(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(W(108,QC(e)||"Unknown",s));return Le({},r,n)}function lu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ns,da=xt.current,ke(xt,e),ke(Ft,Ft.current),!0}function Yv(e,t,r){var n=e.stateNode;if(!n)throw Error(W(169));r?(e=$b(e,t,da),n.__reactInternalMemoizedMergedChildContext=e,Ae(Ft),Ae(xt),ke(xt,e)):Ae(Ft),ke(Ft,r)}var _n=null,ed=!1,Sf=!1;function Fb(e){_n===null?_n=[e]:_n.push(e)}function fk(e){ed=!0,Fb(e)}function Rs(){if(!Sf&&_n!==null){Sf=!0;var e=0,t=Se;try{var r=_n;for(Se=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}_n=null,ed=!1}catch(s){throw _n!==null&&(_n=_n.slice(e+1)),ub(hm,Rs),s}finally{Se=t,Sf=!1}}return null}var si=[],ai=0,cu=null,uu=0,or=[],lr=0,fa=null,En=1,kn="";function Bs(e,t){si[ai++]=uu,si[ai++]=cu,cu=e,uu=t}function qb(e,t,r){or[lr++]=En,or[lr++]=kn,or[lr++]=fa,fa=e;var n=En;e=kn;var s=32-Or(n)-1;n&=~(1<<s),r+=1;var a=32-Or(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,En=1<<32-Or(t)+s|r<<s|n,kn=a+e}else En=1<<a|r<<s|n,kn=e}function _m(e){e.return!==null&&(Bs(e,1),qb(e,1,0))}function Sm(e){for(;e===cu;)cu=si[--ai],si[ai]=null,uu=si[--ai],si[ai]=null;for(;e===fa;)fa=or[--lr],or[lr]=null,kn=or[--lr],or[lr]=null,En=or[--lr],or[lr]=null}var Jt=null,Xt=null,De=!1,Ar=null;function Ub(e,t){var r=cr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Xv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jt=e,Xt=ys(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jt=e,Xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=fa!==null?{id:En,overflow:kn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=cr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Jt=e,Xt=null,!0):!1;default:return!1}}function Lh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $h(e){if(De){var t=Xt;if(t){var r=t;if(!Xv(e,t)){if(Lh(e))throw Error(W(418));t=ys(r.nextSibling);var n=Jt;t&&Xv(e,t)?Ub(n,r):(e.flags=e.flags&-4097|2,De=!1,Jt=e)}}else{if(Lh(e))throw Error(W(418));e.flags=e.flags&-4097|2,De=!1,Jt=e}}}function Jv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jt=e}function ac(e){if(e!==Jt)return!1;if(!De)return Jv(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Oh(e.type,e.memoizedProps)),t&&(t=Xt)){if(Lh(e))throw Bb(),Error(W(418));for(;t;)Ub(e,t),t=ys(t.nextSibling)}if(Jv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xt=ys(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xt=null}}else Xt=Jt?ys(e.stateNode.nextSibling):null;return!0}function Bb(){for(var e=Xt;e;)e=ys(e.nextSibling)}function Fi(){Xt=Jt=null,De=!1}function jm(e){Ar===null?Ar=[e]:Ar.push(e)}var hk=$n.ReactCurrentBatchConfig;function yo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function ic(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zv(e){var t=e._init;return t(e._payload)}function zb(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=_s(x,y),x.index=0,x.sibling=null,x}function a(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,w,_){return y===null||y.tag!==6?(y=Pf(w,x.mode,_),y.return=x,y):(y=s(y,w),y.return=x,y)}function c(x,y,w,_){var S=w.type;return S===Ja?d(x,y,w.props.children,_,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xn&&Zv(S)===y.type)?(_=s(y,w.props),_.ref=yo(x,y,w),_.return=x,_):(_=qc(w.type,w.key,w.props,null,x.mode,_),_.ref=yo(x,y,w),_.return=x,_)}function u(x,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Rf(w,x.mode,_),y.return=x,y):(y=s(y,w.children||[]),y.return=x,y)}function d(x,y,w,_,S){return y===null||y.tag!==7?(y=ca(w,x.mode,_,S),y.return=x,y):(y=s(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Pf(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ql:return w=qc(y.type,y.key,y.props,null,x.mode,w),w.ref=yo(x,null,y),w.return=x,w;case Xa:return y=Rf(y,x.mode,w),y.return=x,y;case Xn:var _=y._init;return f(x,_(y._payload),w)}if(Co(y)||ho(y))return y=ca(y,x.mode,w,null),y.return=x,y;ic(x,y)}return null}function h(x,y,w,_){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(x,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ql:return w.key===S?c(x,y,w,_):null;case Xa:return w.key===S?u(x,y,w,_):null;case Xn:return S=w._init,h(x,y,S(w._payload),_)}if(Co(w)||ho(w))return S!==null?null:d(x,y,w,_,null);ic(x,w)}return null}function p(x,y,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(w)||null,l(y,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ql:return x=x.get(_.key===null?w:_.key)||null,c(y,x,_,S);case Xa:return x=x.get(_.key===null?w:_.key)||null,u(y,x,_,S);case Xn:var j=_._init;return p(x,y,w,j(_._payload),S)}if(Co(_)||ho(_))return x=x.get(w)||null,d(y,x,_,S,null);ic(y,_)}return null}function v(x,y,w,_){for(var S=null,j=null,N=y,C=y=0,k=null;N!==null&&C<w.length;C++){N.index>C?(k=N,N=null):k=N.sibling;var O=h(x,N,w[C],_);if(O===null){N===null&&(N=k);break}e&&N&&O.alternate===null&&t(x,N),y=a(O,y,C),j===null?S=O:j.sibling=O,j=O,N=k}if(C===w.length)return r(x,N),De&&Bs(x,C),S;if(N===null){for(;C<w.length;C++)N=f(x,w[C],_),N!==null&&(y=a(N,y,C),j===null?S=N:j.sibling=N,j=N);return De&&Bs(x,C),S}for(N=n(x,N);C<w.length;C++)k=p(N,x,C,w[C],_),k!==null&&(e&&k.alternate!==null&&N.delete(k.key===null?C:k.key),y=a(k,y,C),j===null?S=k:j.sibling=k,j=k);return e&&N.forEach(function(F){return t(x,F)}),De&&Bs(x,C),S}function g(x,y,w,_){var S=ho(w);if(typeof S!="function")throw Error(W(150));if(w=S.call(w),w==null)throw Error(W(151));for(var j=S=null,N=y,C=y=0,k=null,O=w.next();N!==null&&!O.done;C++,O=w.next()){N.index>C?(k=N,N=null):k=N.sibling;var F=h(x,N,O.value,_);if(F===null){N===null&&(N=k);break}e&&N&&F.alternate===null&&t(x,N),y=a(F,y,C),j===null?S=F:j.sibling=F,j=F,N=k}if(O.done)return r(x,N),De&&Bs(x,C),S;if(N===null){for(;!O.done;C++,O=w.next())O=f(x,O.value,_),O!==null&&(y=a(O,y,C),j===null?S=O:j.sibling=O,j=O);return De&&Bs(x,C),S}for(N=n(x,N);!O.done;C++,O=w.next())O=p(N,x,C,O.value,_),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?C:O.key),y=a(O,y,C),j===null?S=O:j.sibling=O,j=O);return e&&N.forEach(function(T){return t(x,T)}),De&&Bs(x,C),S}function b(x,y,w,_){if(typeof w=="object"&&w!==null&&w.type===Ja&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ql:e:{for(var S=w.key,j=y;j!==null;){if(j.key===S){if(S=w.type,S===Ja){if(j.tag===7){r(x,j.sibling),y=s(j,w.props.children),y.return=x,x=y;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xn&&Zv(S)===j.type){r(x,j.sibling),y=s(j,w.props),y.ref=yo(x,j,w),y.return=x,x=y;break e}r(x,j);break}else t(x,j);j=j.sibling}w.type===Ja?(y=ca(w.props.children,x.mode,_,w.key),y.return=x,x=y):(_=qc(w.type,w.key,w.props,null,x.mode,_),_.ref=yo(x,y,w),_.return=x,x=_)}return o(x);case Xa:e:{for(j=w.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=s(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else t(x,y);y=y.sibling}y=Rf(w,x.mode,_),y.return=x,x=y}return o(x);case Xn:return j=w._init,b(x,y,j(w._payload),_)}if(Co(w))return v(x,y,w,_);if(ho(w))return g(x,y,w,_);ic(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=s(y,w),y.return=x,x=y):(r(x,y),y=Pf(w,x.mode,_),y.return=x,x=y),o(x)):r(x,y)}return b}var qi=zb(!0),Hb=zb(!1),du=Ps(null),fu=null,ii=null,Nm=null;function Cm(){Nm=ii=fu=null}function Em(e){var t=du.current;Ae(du),e._currentValue=t}function Fh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function mi(e,t){fu=e,Nm=ii=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Lt=!0),e.firstContext=null)}function fr(e){var t=e._currentValue;if(Nm!==e)if(e={context:e,memoizedValue:t,next:null},ii===null){if(fu===null)throw Error(W(308));ii=e,fu.dependencies={lanes:0,firstContext:e}}else ii=ii.next=e;return t}var Qs=null;function km(e){Qs===null?Qs=[e]:Qs.push(e)}function Wb(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,km(t)):(r.next=s.next,s.next=r),t.interleaved=r,Dn(e,n)}function Dn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Jn=!1;function Tm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,be&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Dn(e,r)}return s=n.interleaved,s===null?(t.next=t,km(n)):(t.next=s.next,s.next=t),n.interleaved=t,Dn(e,r)}function Dc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pm(e,r)}}function ey(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function hu(e,t,r,n){var s=e.updateQueue;Jn=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(h=t,p=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=Le({},f,h);break e;case 2:Jn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);pa|=o,e.lanes=o,e.memoizedState=f}}function ty(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(W(191,s));s.call(n)}}}var Al={},sn=Ps(Al),nl=Ps(Al),sl=Ps(Al);function Ys(e){if(e===Al)throw Error(W(174));return e}function Pm(e,t){switch(ke(sl,t),ke(nl,e),ke(sn,Al),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xh(t,e)}Ae(sn),ke(sn,t)}function Ui(){Ae(sn),Ae(nl),Ae(sl)}function Kb(e){Ys(sl.current);var t=Ys(sn.current),r=xh(t,e.type);t!==r&&(ke(nl,e),ke(sn,r))}function Rm(e){nl.current===e&&(Ae(sn),Ae(nl))}var Ie=Ps(0);function pu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jf=[];function Am(){for(var e=0;e<jf.length;e++)jf[e]._workInProgressVersionPrimary=null;jf.length=0}var Ic=$n.ReactCurrentDispatcher,Nf=$n.ReactCurrentBatchConfig,ha=0,Me=null,Ye=null,at=null,mu=!1,$o=!1,al=0,pk=0;function pt(){throw Error(W(321))}function Om(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Lr(e[r],t[r]))return!1;return!0}function Dm(e,t,r,n,s,a){if(ha=a,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ic.current=e===null||e.memoizedState===null?yk:xk,e=r(n,s),$o){a=0;do{if($o=!1,al=0,25<=a)throw Error(W(301));a+=1,at=Ye=null,t.updateQueue=null,Ic.current=bk,e=r(n,s)}while($o)}if(Ic.current=gu,t=Ye!==null&&Ye.next!==null,ha=0,at=Ye=Me=null,mu=!1,t)throw Error(W(300));return e}function Im(){var e=al!==0;return al=0,e}function Kr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Me.memoizedState=at=e:at=at.next=e,at}function hr(){if(Ye===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=at===null?Me.memoizedState:at.next;if(t!==null)at=t,Ye=e;else{if(e===null)throw Error(W(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},at===null?Me.memoizedState=at=e:at=at.next=e}return at}function il(e,t){return typeof t=="function"?t(e):t}function Cf(e){var t=hr(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=Ye,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ha&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Me.lanes|=d,pa|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Lr(n,t.memoizedState)||(Lt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Me.lanes|=a,pa|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ef(e){var t=hr(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Lr(a,t.memoizedState)||(Lt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Gb(){}function Qb(e,t){var r=Me,n=hr(),s=t(),a=!Lr(n.memoizedState,s);if(a&&(n.memoizedState=s,Lt=!0),n=n.queue,Mm(Jb.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||at!==null&&at.memoizedState.tag&1){if(r.flags|=2048,ol(9,Xb.bind(null,r,n,s,t),void 0,null),ot===null)throw Error(W(349));ha&30||Yb(r,t,s)}return s}function Yb(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Xb(e,t,r,n){t.value=r,t.getSnapshot=n,Zb(t)&&ew(e)}function Jb(e,t,r){return r(function(){Zb(t)&&ew(e)})}function Zb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Lr(e,r)}catch{return!0}}function ew(e){var t=Dn(e,1);t!==null&&Dr(t,e,1,-1)}function ry(e){var t=Kr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:e},t.queue=e,e=e.dispatch=vk.bind(null,Me,e),[t.memoizedState,e]}function ol(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function tw(){return hr().memoizedState}function Mc(e,t,r,n){var s=Kr();Me.flags|=e,s.memoizedState=ol(1|t,r,void 0,n===void 0?null:n)}function td(e,t,r,n){var s=hr();n=n===void 0?null:n;var a=void 0;if(Ye!==null){var o=Ye.memoizedState;if(a=o.destroy,n!==null&&Om(n,o.deps)){s.memoizedState=ol(t,r,a,n);return}}Me.flags|=e,s.memoizedState=ol(1|t,r,a,n)}function ny(e,t){return Mc(8390656,8,e,t)}function Mm(e,t){return td(2048,8,e,t)}function rw(e,t){return td(4,2,e,t)}function nw(e,t){return td(4,4,e,t)}function sw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function aw(e,t,r){return r=r!=null?r.concat([e]):null,td(4,4,sw.bind(null,t,e),r)}function Lm(){}function iw(e,t){var r=hr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Om(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ow(e,t){var r=hr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Om(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function lw(e,t,r){return ha&21?(Lr(r,t)||(r=hb(),Me.lanes|=r,pa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Lt=!0),e.memoizedState=r)}function mk(e,t){var r=Se;Se=r!==0&&4>r?r:4,e(!0);var n=Nf.transition;Nf.transition={};try{e(!1),t()}finally{Se=r,Nf.transition=n}}function cw(){return hr().memoizedState}function gk(e,t,r){var n=ws(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},uw(e))dw(t,r);else if(r=Wb(e,t,r,n),r!==null){var s=Et();Dr(r,e,n,s),fw(r,t,n)}}function vk(e,t,r){var n=ws(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(uw(e))dw(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,Lr(l,o)){var c=t.interleaved;c===null?(s.next=s,km(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Wb(e,t,s,n),r!==null&&(s=Et(),Dr(r,e,n,s),fw(r,t,n))}}function uw(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function dw(e,t){$o=mu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function fw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pm(e,r)}}var gu={readContext:fr,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},yk={readContext:fr,useCallback:function(e,t){return Kr().memoizedState=[e,t===void 0?null:t],e},useContext:fr,useEffect:ny,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Mc(4194308,4,sw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Mc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mc(4,2,e,t)},useMemo:function(e,t){var r=Kr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Kr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=gk.bind(null,Me,e),[n.memoizedState,e]},useRef:function(e){var t=Kr();return e={current:e},t.memoizedState=e},useState:ry,useDebugValue:Lm,useDeferredValue:function(e){return Kr().memoizedState=e},useTransition:function(){var e=ry(!1),t=e[0];return e=mk.bind(null,e[1]),Kr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Me,s=Kr();if(De){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),ot===null)throw Error(W(349));ha&30||Yb(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,ny(Jb.bind(null,n,a,e),[e]),n.flags|=2048,ol(9,Xb.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Kr(),t=ot.identifierPrefix;if(De){var r=kn,n=En;r=(n&~(1<<32-Or(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=al++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=pk++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xk={readContext:fr,useCallback:iw,useContext:fr,useEffect:Mm,useImperativeHandle:aw,useInsertionEffect:rw,useLayoutEffect:nw,useMemo:ow,useReducer:Cf,useRef:tw,useState:function(){return Cf(il)},useDebugValue:Lm,useDeferredValue:function(e){var t=hr();return lw(t,Ye.memoizedState,e)},useTransition:function(){var e=Cf(il)[0],t=hr().memoizedState;return[e,t]},useMutableSource:Gb,useSyncExternalStore:Qb,useId:cw,unstable_isNewReconciler:!1},bk={readContext:fr,useCallback:iw,useContext:fr,useEffect:Mm,useImperativeHandle:aw,useInsertionEffect:rw,useLayoutEffect:nw,useMemo:ow,useReducer:Ef,useRef:tw,useState:function(){return Ef(il)},useDebugValue:Lm,useDeferredValue:function(e){var t=hr();return Ye===null?t.memoizedState=e:lw(t,Ye.memoizedState,e)},useTransition:function(){var e=Ef(il)[0],t=hr().memoizedState;return[e,t]},useMutableSource:Gb,useSyncExternalStore:Qb,useId:cw,unstable_isNewReconciler:!1};function jr(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function qh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Le({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var rd={isMounted:function(e){return(e=e._reactInternals)?ja(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Et(),s=ws(e),a=Pn(n,s);a.payload=t,r!=null&&(a.callback=r),t=xs(e,a,s),t!==null&&(Dr(t,e,s,n),Dc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Et(),s=ws(e),a=Pn(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=xs(e,a,s),t!==null&&(Dr(t,e,s,n),Dc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Et(),n=ws(e),s=Pn(r,n);s.tag=2,t!=null&&(s.callback=t),t=xs(e,s,n),t!==null&&(Dr(t,e,n,r),Dc(t,e,n))}};function sy(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Zo(r,n)||!Zo(s,a):!0}function hw(e,t,r){var n=!1,s=Ns,a=t.contextType;return typeof a=="object"&&a!==null?a=fr(a):(s=qt(t)?da:xt.current,n=t.contextTypes,a=(n=n!=null)?$i(e,s):Ns),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function ay(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&rd.enqueueReplaceState(t,t.state,null)}function Uh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Tm(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=fr(a):(a=qt(t)?da:xt.current,s.context=$i(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(qh(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&rd.enqueueReplaceState(s,s.state,null),hu(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Bi(e,t){try{var r="",n=t;do r+=GC(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function kf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Bh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var wk=typeof WeakMap=="function"?WeakMap:Map;function pw(e,t,r){r=Pn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yu||(yu=!0,Jh=n),Bh(e,t)},r}function mw(e,t,r){r=Pn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Bh(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Bh(e,t),typeof n!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function iy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new wk;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Ik.bind(null,e,t,r),t.then(e,e))}function oy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ly(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Pn(-1,1),t.tag=2,xs(r,t,1))),r.lanes|=1),e)}var _k=$n.ReactCurrentOwner,Lt=!1;function _t(e,t,r,n){t.child=e===null?Hb(t,null,r,n):qi(t,e.child,r,n)}function cy(e,t,r,n,s){r=r.render;var a=t.ref;return mi(t,s),n=Dm(e,t,r,n,a,s),r=Im(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,In(e,t,s)):(De&&r&&_m(t),t.flags|=1,_t(e,t,n,s),t.child)}function uy(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!Wm(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,gw(e,t,a,n,s)):(e=qc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Zo,r(o,n)&&e.ref===t.ref)return In(e,t,s)}return t.flags|=1,e=_s(a,n),e.ref=t.ref,e.return=t,t.child=e}function gw(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Zo(a,n)&&e.ref===t.ref)if(Lt=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Lt=!0);else return t.lanes=e.lanes,In(e,t,s)}return zh(e,t,r,n,s)}function vw(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(li,Gt),Gt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(li,Gt),Gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ke(li,Gt),Gt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ke(li,Gt),Gt|=n;return _t(e,t,s,r),t.child}function yw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zh(e,t,r,n,s){var a=qt(r)?da:xt.current;return a=$i(t,a),mi(t,s),r=Dm(e,t,r,n,a,s),n=Im(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,In(e,t,s)):(De&&n&&_m(t),t.flags|=1,_t(e,t,r,s),t.child)}function dy(e,t,r,n,s){if(qt(r)){var a=!0;lu(t)}else a=!1;if(mi(t,s),t.stateNode===null)Lc(e,t),hw(t,r,n),Uh(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=fr(u):(u=qt(r)?da:xt.current,u=$i(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ay(t,o,n,u),Jn=!1;var h=t.memoizedState;o.state=h,hu(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Ft.current||Jn?(typeof d=="function"&&(qh(t,r,d,n),c=t.memoizedState),(l=Jn||sy(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Vb(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:jr(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=fr(c):(c=qt(r)?da:xt.current,c=$i(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&ay(t,o,n,c),Jn=!1,h=t.memoizedState,o.state=h,hu(t,n,o,s);var v=t.memoizedState;l!==f||h!==v||Ft.current||Jn?(typeof p=="function"&&(qh(t,r,p,n),v=t.memoizedState),(u=Jn||sy(t,r,u,n,h,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Hh(e,t,r,n,a,s)}function Hh(e,t,r,n,s,a){yw(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Yv(t,r,!1),In(e,t,a);n=t.stateNode,_k.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=qi(t,e.child,null,a),t.child=qi(t,null,l,a)):_t(e,t,l,a),t.memoizedState=n.state,s&&Yv(t,r,!0),t.child}function xw(e){var t=e.stateNode;t.pendingContext?Qv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qv(e,t.context,!1),Pm(e,t.containerInfo)}function fy(e,t,r,n,s){return Fi(),jm(s),t.flags|=256,_t(e,t,r,n),t.child}var Wh={dehydrated:null,treeContext:null,retryLane:0};function Vh(e){return{baseLanes:e,cachePool:null,transitions:null}}function bw(e,t,r){var n=t.pendingProps,s=Ie.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ke(Ie,s&1),e===null)return $h(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=ad(o,n,0,null),e=ca(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Vh(r),t.memoizedState=Wh,e):$m(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Sk(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=_s(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=_s(l,a):(a=ca(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Vh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Wh,n}return a=e.child,e=a.sibling,n=_s(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function $m(e,t){return t=ad({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oc(e,t,r,n){return n!==null&&jm(n),qi(t,e.child,null,r),e=$m(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sk(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=kf(Error(W(422))),oc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=ad({mode:"visible",children:n.children},s,0,null),a=ca(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&qi(t,e.child,null,o),t.child.memoizedState=Vh(o),t.memoizedState=Wh,a);if(!(t.mode&1))return oc(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(W(419)),n=kf(a,n,void 0),oc(e,t,o,n)}if(l=(o&e.childLanes)!==0,Lt||l){if(n=ot,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Dn(e,s),Dr(n,e,s,-1))}return Hm(),n=kf(Error(W(421))),oc(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Mk.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Xt=ys(s.nextSibling),Jt=t,De=!0,Ar=null,e!==null&&(or[lr++]=En,or[lr++]=kn,or[lr++]=fa,En=e.id,kn=e.overflow,fa=t),t=$m(t,n.children),t.flags|=4096,t)}function hy(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Fh(e.return,t,r)}function Tf(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function ww(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(_t(e,t,n.children,r),n=Ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hy(e,r,t);else if(e.tag===19)hy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ke(Ie,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&pu(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Tf(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&pu(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Tf(t,!0,r,null,a);break;case"together":Tf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function In(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),pa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=_s(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=_s(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function jk(e,t,r){switch(t.tag){case 3:xw(t),Fi();break;case 5:Kb(t);break;case 1:qt(t.type)&&lu(t);break;case 4:Pm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ke(du,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ke(Ie,Ie.current&1),t.flags|=128,null):r&t.child.childLanes?bw(e,t,r):(ke(Ie,Ie.current&1),e=In(e,t,r),e!==null?e.sibling:null);ke(Ie,Ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ww(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ke(Ie,Ie.current),n)break;return null;case 22:case 23:return t.lanes=0,vw(e,t,r)}return In(e,t,r)}var _w,Kh,Sw,jw;_w=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Kh=function(){};Sw=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ys(sn.current);var a=null;switch(r){case"input":s=mh(e,s),n=mh(e,n),a=[];break;case"select":s=Le({},s,{value:void 0}),n=Le({},n,{value:void 0}),a=[];break;case"textarea":s=yh(e,s),n=yh(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=iu)}bh(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vo.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Re("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};jw=function(e,t,r,n){r!==n&&(t.flags|=4)};function xo(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Nk(e,t,r){var n=t.pendingProps;switch(Sm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(t),null;case 1:return qt(t.type)&&ou(),mt(t),null;case 3:return n=t.stateNode,Ui(),Ae(Ft),Ae(xt),Am(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ac(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ar!==null&&(tp(Ar),Ar=null))),Kh(e,t),mt(t),null;case 5:Rm(t);var s=Ys(sl.current);if(r=t.type,e!==null&&t.stateNode!=null)Sw(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(W(166));return mt(t),null}if(e=Ys(sn.current),ac(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Xr]=t,n[rl]=a,e=(t.mode&1)!==0,r){case"dialog":Re("cancel",n),Re("close",n);break;case"iframe":case"object":case"embed":Re("load",n);break;case"video":case"audio":for(s=0;s<ko.length;s++)Re(ko[s],n);break;case"source":Re("error",n);break;case"img":case"image":case"link":Re("error",n),Re("load",n);break;case"details":Re("toggle",n);break;case"input":_v(n,a),Re("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Re("invalid",n);break;case"textarea":jv(n,a),Re("invalid",n)}bh(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&sc(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&sc(n.textContent,l,e),s=["children",""+l]):Vo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Re("scroll",n)}switch(r){case"input":Yl(n),Sv(n,a,!0);break;case"textarea":Yl(n),Nv(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=iu)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=J0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Xr]=t,e[rl]=n,_w(e,t,!1,!1),t.stateNode=e;e:{switch(o=wh(r,n),r){case"dialog":Re("cancel",e),Re("close",e),s=n;break;case"iframe":case"object":case"embed":Re("load",e),s=n;break;case"video":case"audio":for(s=0;s<ko.length;s++)Re(ko[s],e);s=n;break;case"source":Re("error",e),s=n;break;case"img":case"image":case"link":Re("error",e),Re("load",e),s=n;break;case"details":Re("toggle",e),s=n;break;case"input":_v(e,n),s=mh(e,n),Re("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Le({},n,{value:void 0}),Re("invalid",e);break;case"textarea":jv(e,n),s=yh(e,n),Re("invalid",e);break;default:s=n}bh(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?tb(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Z0(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ko(e,c):typeof c=="number"&&Ko(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Vo.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Re("scroll",e):c!=null&&lm(e,a,c,o))}switch(r){case"input":Yl(e),Sv(e,n,!1);break;case"textarea":Yl(e),Nv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+js(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?di(e,!!n.multiple,a,!1):n.defaultValue!=null&&di(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=iu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mt(t),null;case 6:if(e&&t.stateNode!=null)jw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(r=Ys(sl.current),Ys(sn.current),ac(t)){if(n=t.stateNode,r=t.memoizedProps,n[Xr]=t,(a=n.nodeValue!==r)&&(e=Jt,e!==null))switch(e.tag){case 3:sc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xr]=t,t.stateNode=n}return mt(t),null;case 13:if(Ae(Ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&Xt!==null&&t.mode&1&&!(t.flags&128))Bb(),Fi(),t.flags|=98560,a=!1;else if(a=ac(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[Xr]=t}else Fi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mt(t),a=!1}else Ar!==null&&(tp(Ar),Ar=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?Ze===0&&(Ze=3):Hm())),t.updateQueue!==null&&(t.flags|=4),mt(t),null);case 4:return Ui(),Kh(e,t),e===null&&el(t.stateNode.containerInfo),mt(t),null;case 10:return Em(t.type._context),mt(t),null;case 17:return qt(t.type)&&ou(),mt(t),null;case 19:if(Ae(Ie),a=t.memoizedState,a===null)return mt(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)xo(a,!1);else{if(Ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=pu(e),o!==null){for(t.flags|=128,xo(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ke(Ie,Ie.current&1|2),t.child}e=e.sibling}a.tail!==null&&ze()>zi&&(t.flags|=128,n=!0,xo(a,!1),t.lanes=4194304)}else{if(!n)if(e=pu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),xo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!De)return mt(t),null}else 2*ze()-a.renderingStartTime>zi&&r!==1073741824&&(t.flags|=128,n=!0,xo(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ze(),t.sibling=null,r=Ie.current,ke(Ie,n?r&1|2:r&1),t):(mt(t),null);case 22:case 23:return zm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Gt&1073741824&&(mt(t),t.subtreeFlags&6&&(t.flags|=8192)):mt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function Ck(e,t){switch(Sm(t),t.tag){case 1:return qt(t.type)&&ou(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ui(),Ae(Ft),Ae(xt),Am(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rm(t),null;case 13:if(Ae(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Fi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(Ie),null;case 4:return Ui(),null;case 10:return Em(t.type._context),null;case 22:case 23:return zm(),null;case 24:return null;default:return null}}var lc=!1,vt=!1,Ek=typeof WeakSet=="function"?WeakSet:Set,X=null;function oi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ue(e,t,n)}else r.current=null}function Gh(e,t,r){try{r()}catch(n){Ue(e,t,n)}}var py=!1;function kk(e,t){if(Rh=nu,e=Tb(),wm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===a&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ah={focusedElem:e,selectionRange:r},nu=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:jr(t.type,g),b);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(_){Ue(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return v=py,py=!1,v}function Fo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Gh(t,r,a)}s=s.next}while(s!==n)}}function nd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Qh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Nw(e){var t=e.alternate;t!==null&&(e.alternate=null,Nw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xr],delete t[rl],delete t[Ih],delete t[uk],delete t[dk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cw(e){return e.tag===5||e.tag===3||e.tag===4}function my(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=iu));else if(n!==4&&(e=e.child,e!==null))for(Yh(e,t,r),e=e.sibling;e!==null;)Yh(e,t,r),e=e.sibling}function Xh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Xh(e,t,r),e=e.sibling;e!==null;)Xh(e,t,r),e=e.sibling}var ut=null,Pr=!1;function zn(e,t,r){for(r=r.child;r!==null;)Ew(e,t,r),r=r.sibling}function Ew(e,t,r){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Qu,r)}catch{}switch(r.tag){case 5:vt||oi(r,t);case 6:var n=ut,s=Pr;ut=null,zn(e,t,r),ut=n,Pr=s,ut!==null&&(Pr?(e=ut,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ut.removeChild(r.stateNode));break;case 18:ut!==null&&(Pr?(e=ut,r=r.stateNode,e.nodeType===8?_f(e.parentNode,r):e.nodeType===1&&_f(e,r),Xo(e)):_f(ut,r.stateNode));break;case 4:n=ut,s=Pr,ut=r.stateNode.containerInfo,Pr=!0,zn(e,t,r),ut=n,Pr=s;break;case 0:case 11:case 14:case 15:if(!vt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Gh(r,t,o),s=s.next}while(s!==n)}zn(e,t,r);break;case 1:if(!vt&&(oi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ue(r,t,l)}zn(e,t,r);break;case 21:zn(e,t,r);break;case 22:r.mode&1?(vt=(n=vt)||r.memoizedState!==null,zn(e,t,r),vt=n):zn(e,t,r);break;default:zn(e,t,r)}}function gy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ek),t.forEach(function(n){var s=Lk.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function br(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ut=l.stateNode,Pr=!1;break e;case 3:ut=l.stateNode.containerInfo,Pr=!0;break e;case 4:ut=l.stateNode.containerInfo,Pr=!0;break e}l=l.return}if(ut===null)throw Error(W(160));Ew(a,o,s),ut=null,Pr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ue(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kw(t,e),t=t.sibling}function kw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(br(t,e),Vr(e),n&4){try{Fo(3,e,e.return),nd(3,e)}catch(g){Ue(e,e.return,g)}try{Fo(5,e,e.return)}catch(g){Ue(e,e.return,g)}}break;case 1:br(t,e),Vr(e),n&512&&r!==null&&oi(r,r.return);break;case 5:if(br(t,e),Vr(e),n&512&&r!==null&&oi(r,r.return),e.flags&32){var s=e.stateNode;try{Ko(s,"")}catch(g){Ue(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Y0(s,a),wh(l,o);var u=wh(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?tb(s,f):d==="dangerouslySetInnerHTML"?Z0(s,f):d==="children"?Ko(s,f):lm(s,d,f,u)}switch(l){case"input":gh(s,a);break;case"textarea":X0(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?di(s,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?di(s,!!a.multiple,a.defaultValue,!0):di(s,!!a.multiple,a.multiple?[]:"",!1))}s[rl]=a}catch(g){Ue(e,e.return,g)}}break;case 6:if(br(t,e),Vr(e),n&4){if(e.stateNode===null)throw Error(W(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){Ue(e,e.return,g)}}break;case 3:if(br(t,e),Vr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Xo(t.containerInfo)}catch(g){Ue(e,e.return,g)}break;case 4:br(t,e),Vr(e);break;case 13:br(t,e),Vr(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Um=ze())),n&4&&gy(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(vt=(u=vt)||d,br(t,e),vt=u):br(t,e),Vr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(f=X=d;X!==null;){switch(h=X,p=h.child,h.tag){case 0:case 11:case 14:case 15:Fo(4,h,h.return);break;case 1:oi(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Ue(n,r,g)}}break;case 5:oi(h,h.return);break;case 22:if(h.memoizedState!==null){yy(f);continue}}p!==null?(p.return=h,X=p):yy(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=eb("display",o))}catch(g){Ue(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Ue(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:br(t,e),Vr(e),n&4&&gy(e);break;case 21:break;default:br(t,e),Vr(e)}}function Vr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Cw(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ko(s,""),n.flags&=-33);var a=my(e);Xh(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=my(e);Yh(e,l,o);break;default:throw Error(W(161))}}catch(c){Ue(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tk(e,t,r){X=e,Tw(e)}function Tw(e,t,r){for(var n=(e.mode&1)!==0;X!==null;){var s=X,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||lc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||vt;l=lc;var u=vt;if(lc=o,(vt=c)&&!u)for(X=s;X!==null;)o=X,c=o.child,o.tag===22&&o.memoizedState!==null?xy(s):c!==null?(c.return=o,X=c):xy(s);for(;a!==null;)X=a,Tw(a),a=a.sibling;X=s,lc=l,vt=u}vy(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,X=a):vy(e)}}function vy(e){for(;X!==null;){var t=X;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vt||nd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!vt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:jr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ty(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ty(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Xo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}vt||t.flags&512&&Qh(t)}catch(h){Ue(t,t.return,h)}}if(t===e){X=null;break}if(r=t.sibling,r!==null){r.return=t.return,X=r;break}X=t.return}}function yy(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var r=t.sibling;if(r!==null){r.return=t.return,X=r;break}X=t.return}}function xy(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nd(4,t)}catch(c){Ue(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ue(t,s,c)}}var a=t.return;try{Qh(t)}catch(c){Ue(t,a,c)}break;case 5:var o=t.return;try{Qh(t)}catch(c){Ue(t,o,c)}}}catch(c){Ue(t,t.return,c)}if(t===e){X=null;break}var l=t.sibling;if(l!==null){l.return=t.return,X=l;break}X=t.return}}var Pk=Math.ceil,vu=$n.ReactCurrentDispatcher,Fm=$n.ReactCurrentOwner,ur=$n.ReactCurrentBatchConfig,be=0,ot=null,Ve=null,ft=0,Gt=0,li=Ps(0),Ze=0,ll=null,pa=0,sd=0,qm=0,qo=null,Mt=null,Um=0,zi=1/0,bn=null,yu=!1,Jh=null,bs=null,cc=!1,hs=null,xu=0,Uo=0,Zh=null,$c=-1,Fc=0;function Et(){return be&6?ze():$c!==-1?$c:$c=ze()}function ws(e){return e.mode&1?be&2&&ft!==0?ft&-ft:hk.transition!==null?(Fc===0&&(Fc=hb()),Fc):(e=Se,e!==0||(e=window.event,e=e===void 0?16:bb(e.type)),e):1}function Dr(e,t,r,n){if(50<Uo)throw Uo=0,Zh=null,Error(W(185));Tl(e,r,n),(!(be&2)||e!==ot)&&(e===ot&&(!(be&2)&&(sd|=r),Ze===4&&ts(e,ft)),Ut(e,n),r===1&&be===0&&!(t.mode&1)&&(zi=ze()+500,ed&&Rs()))}function Ut(e,t){var r=e.callbackNode;hE(e,t);var n=ru(e,e===ot?ft:0);if(n===0)r!==null&&kv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&kv(r),t===1)e.tag===0?fk(by.bind(null,e)):Fb(by.bind(null,e)),lk(function(){!(be&6)&&Rs()}),r=null;else{switch(pb(n)){case 1:r=hm;break;case 4:r=db;break;case 16:r=tu;break;case 536870912:r=fb;break;default:r=tu}r=Lw(r,Pw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Pw(e,t){if($c=-1,Fc=0,be&6)throw Error(W(327));var r=e.callbackNode;if(gi()&&e.callbackNode!==r)return null;var n=ru(e,e===ot?ft:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=bu(e,n);else{t=n;var s=be;be|=2;var a=Aw();(ot!==e||ft!==t)&&(bn=null,zi=ze()+500,la(e,t));do try{Ok();break}catch(l){Rw(e,l)}while(!0);Cm(),vu.current=a,be=s,Ve!==null?t=0:(ot=null,ft=0,t=Ze)}if(t!==0){if(t===2&&(s=Ch(e),s!==0&&(n=s,t=ep(e,s))),t===1)throw r=ll,la(e,0),ts(e,n),Ut(e,ze()),r;if(t===6)ts(e,n);else{if(s=e.current.alternate,!(n&30)&&!Rk(s)&&(t=bu(e,n),t===2&&(a=Ch(e),a!==0&&(n=a,t=ep(e,a))),t===1))throw r=ll,la(e,0),ts(e,n),Ut(e,ze()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(W(345));case 2:zs(e,Mt,bn);break;case 3:if(ts(e,n),(n&130023424)===n&&(t=Um+500-ze(),10<t)){if(ru(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Et(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Dh(zs.bind(null,e,Mt,bn),t);break}zs(e,Mt,bn);break;case 4:if(ts(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Or(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=ze()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Pk(n/1960))-n,10<n){e.timeoutHandle=Dh(zs.bind(null,e,Mt,bn),n);break}zs(e,Mt,bn);break;case 5:zs(e,Mt,bn);break;default:throw Error(W(329))}}}return Ut(e,ze()),e.callbackNode===r?Pw.bind(null,e):null}function ep(e,t){var r=qo;return e.current.memoizedState.isDehydrated&&(la(e,t).flags|=256),e=bu(e,t),e!==2&&(t=Mt,Mt=r,t!==null&&tp(t)),e}function tp(e){Mt===null?Mt=e:Mt.push.apply(Mt,e)}function Rk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Lr(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ts(e,t){for(t&=~qm,t&=~sd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Or(t),n=1<<r;e[r]=-1,t&=~n}}function by(e){if(be&6)throw Error(W(327));gi();var t=ru(e,0);if(!(t&1))return Ut(e,ze()),null;var r=bu(e,t);if(e.tag!==0&&r===2){var n=Ch(e);n!==0&&(t=n,r=ep(e,n))}if(r===1)throw r=ll,la(e,0),ts(e,t),Ut(e,ze()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zs(e,Mt,bn),Ut(e,ze()),null}function Bm(e,t){var r=be;be|=1;try{return e(t)}finally{be=r,be===0&&(zi=ze()+500,ed&&Rs())}}function ma(e){hs!==null&&hs.tag===0&&!(be&6)&&gi();var t=be;be|=1;var r=ur.transition,n=Se;try{if(ur.transition=null,Se=1,e)return e()}finally{Se=n,ur.transition=r,be=t,!(be&6)&&Rs()}}function zm(){Gt=li.current,Ae(li)}function la(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ok(r)),Ve!==null)for(r=Ve.return;r!==null;){var n=r;switch(Sm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ou();break;case 3:Ui(),Ae(Ft),Ae(xt),Am();break;case 5:Rm(n);break;case 4:Ui();break;case 13:Ae(Ie);break;case 19:Ae(Ie);break;case 10:Em(n.type._context);break;case 22:case 23:zm()}r=r.return}if(ot=e,Ve=e=_s(e.current,null),ft=Gt=t,Ze=0,ll=null,qm=sd=pa=0,Mt=qo=null,Qs!==null){for(t=0;t<Qs.length;t++)if(r=Qs[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}Qs=null}return e}function Rw(e,t){do{var r=Ve;try{if(Cm(),Ic.current=gu,mu){for(var n=Me.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}mu=!1}if(ha=0,at=Ye=Me=null,$o=!1,al=0,Fm.current=null,r===null||r.return===null){Ze=1,ll=t,Ve=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=ft,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=oy(o);if(p!==null){p.flags&=-257,ly(p,o,l,a,t),p.mode&1&&iy(a,u,t),t=p,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){iy(a,u,t),Hm();break e}c=Error(W(426))}}else if(De&&l.mode&1){var b=oy(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ly(b,o,l,a,t),jm(Bi(c,l));break e}}a=c=Bi(c,l),Ze!==4&&(Ze=2),qo===null?qo=[a]:qo.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=pw(a,c,t);ey(a,x);break e;case 1:l=c;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(bs===null||!bs.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=mw(a,l,t);ey(a,_);break e}}a=a.return}while(a!==null)}Dw(r)}catch(S){t=S,Ve===r&&r!==null&&(Ve=r=r.return);continue}break}while(!0)}function Aw(){var e=vu.current;return vu.current=gu,e===null?gu:e}function Hm(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),ot===null||!(pa&268435455)&&!(sd&268435455)||ts(ot,ft)}function bu(e,t){var r=be;be|=2;var n=Aw();(ot!==e||ft!==t)&&(bn=null,la(e,t));do try{Ak();break}catch(s){Rw(e,s)}while(!0);if(Cm(),be=r,vu.current=n,Ve!==null)throw Error(W(261));return ot=null,ft=0,Ze}function Ak(){for(;Ve!==null;)Ow(Ve)}function Ok(){for(;Ve!==null&&!sE();)Ow(Ve)}function Ow(e){var t=Mw(e.alternate,e,Gt);e.memoizedProps=e.pendingProps,t===null?Dw(e):Ve=t,Fm.current=null}function Dw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Ck(r,t),r!==null){r.flags&=32767,Ve=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ze=6,Ve=null;return}}else if(r=Nk(r,t,Gt),r!==null){Ve=r;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);Ze===0&&(Ze=5)}function zs(e,t,r){var n=Se,s=ur.transition;try{ur.transition=null,Se=1,Dk(e,t,r,n)}finally{ur.transition=s,Se=n}return null}function Dk(e,t,r,n){do gi();while(hs!==null);if(be&6)throw Error(W(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(pE(e,a),e===ot&&(Ve=ot=null,ft=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||cc||(cc=!0,Lw(tu,function(){return gi(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ur.transition,ur.transition=null;var o=Se;Se=1;var l=be;be|=4,Fm.current=null,kk(e,r),kw(r,e),ek(Ah),nu=!!Rh,Ah=Rh=null,e.current=r,Tk(r),aE(),be=l,Se=o,ur.transition=a}else e.current=r;if(cc&&(cc=!1,hs=e,xu=s),a=e.pendingLanes,a===0&&(bs=null),lE(r.stateNode),Ut(e,ze()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(yu)throw yu=!1,e=Jh,Jh=null,e;return xu&1&&e.tag!==0&&gi(),a=e.pendingLanes,a&1?e===Zh?Uo++:(Uo=0,Zh=e):Uo=0,Rs(),null}function gi(){if(hs!==null){var e=pb(xu),t=ur.transition,r=Se;try{if(ur.transition=null,Se=16>e?16:e,hs===null)var n=!1;else{if(e=hs,hs=null,xu=0,be&6)throw Error(W(331));var s=be;for(be|=4,X=e.current;X!==null;){var a=X,o=a.child;if(X.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Fo(8,d,a)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var h=d.sibling,p=d.return;if(Nw(d),d===u){X=null;break}if(h!==null){h.return=p,X=h;break}X=p}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}X=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,X=o;else e:for(;X!==null;){if(a=X,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Fo(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,X=x;break e}X=a.return}}var y=e.current;for(X=y;X!==null;){o=X;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,X=w;else e:for(o=y;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:nd(9,l)}}catch(S){Ue(l,l.return,S)}if(l===o){X=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,X=_;break e}X=l.return}}if(be=s,Rs(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Qu,e)}catch{}n=!0}return n}finally{Se=r,ur.transition=t}}return!1}function wy(e,t,r){t=Bi(r,t),t=pw(e,t,1),e=xs(e,t,1),t=Et(),e!==null&&(Tl(e,1,t),Ut(e,t))}function Ue(e,t,r){if(e.tag===3)wy(e,e,r);else for(;t!==null;){if(t.tag===3){wy(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(bs===null||!bs.has(n))){e=Bi(r,e),e=mw(t,e,1),t=xs(t,e,1),e=Et(),t!==null&&(Tl(t,1,e),Ut(t,e));break}}t=t.return}}function Ik(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Et(),e.pingedLanes|=e.suspendedLanes&r,ot===e&&(ft&r)===r&&(Ze===4||Ze===3&&(ft&130023424)===ft&&500>ze()-Um?la(e,0):qm|=r),Ut(e,t)}function Iw(e,t){t===0&&(e.mode&1?(t=Zl,Zl<<=1,!(Zl&130023424)&&(Zl=4194304)):t=1);var r=Et();e=Dn(e,t),e!==null&&(Tl(e,t,r),Ut(e,r))}function Mk(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Iw(e,r)}function Lk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(t),Iw(e,r)}var Mw;Mw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ft.current)Lt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Lt=!1,jk(e,t,r);Lt=!!(e.flags&131072)}else Lt=!1,De&&t.flags&1048576&&qb(t,uu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Lc(e,t),e=t.pendingProps;var s=$i(t,xt.current);mi(t,r),s=Dm(null,t,n,e,s,r);var a=Im();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qt(n)?(a=!0,lu(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Tm(t),s.updater=rd,t.stateNode=s,s._reactInternals=t,Uh(t,n,e,r),t=Hh(null,t,n,!0,a,r)):(t.tag=0,De&&a&&_m(t),_t(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Lc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Fk(n),e=jr(n,e),s){case 0:t=zh(null,t,n,e,r);break e;case 1:t=dy(null,t,n,e,r);break e;case 11:t=cy(null,t,n,e,r);break e;case 14:t=uy(null,t,n,jr(n.type,e),r);break e}throw Error(W(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jr(n,s),zh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jr(n,s),dy(e,t,n,s,r);case 3:e:{if(xw(t),e===null)throw Error(W(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Vb(e,t),hu(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Bi(Error(W(423)),t),t=fy(e,t,n,r,s);break e}else if(n!==s){s=Bi(Error(W(424)),t),t=fy(e,t,n,r,s);break e}else for(Xt=ys(t.stateNode.containerInfo.firstChild),Jt=t,De=!0,Ar=null,r=Hb(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fi(),n===s){t=In(e,t,r);break e}_t(e,t,n,r)}t=t.child}return t;case 5:return Kb(t),e===null&&$h(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Oh(n,s)?o=null:a!==null&&Oh(n,a)&&(t.flags|=32),yw(e,t),_t(e,t,o,r),t.child;case 6:return e===null&&$h(t),null;case 13:return bw(e,t,r);case 4:return Pm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=qi(t,null,n,r):_t(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jr(n,s),cy(e,t,n,s,r);case 7:return _t(e,t,t.pendingProps,r),t.child;case 8:return _t(e,t,t.pendingProps.children,r),t.child;case 12:return _t(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,ke(du,n._currentValue),n._currentValue=o,a!==null)if(Lr(a.value,o)){if(a.children===s.children&&!Ft.current){t=In(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Pn(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Fh(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(W(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Fh(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}_t(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,mi(t,r),s=fr(s),n=n(s),t.flags|=1,_t(e,t,n,r),t.child;case 14:return n=t.type,s=jr(n,t.pendingProps),s=jr(n.type,s),uy(e,t,n,s,r);case 15:return gw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jr(n,s),Lc(e,t),t.tag=1,qt(n)?(e=!0,lu(t)):e=!1,mi(t,r),hw(t,n,s),Uh(t,n,s,r),Hh(null,t,n,!0,e,r);case 19:return ww(e,t,r);case 22:return vw(e,t,r)}throw Error(W(156,t.tag))};function Lw(e,t){return ub(e,t)}function $k(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(e,t,r,n){return new $k(e,t,r,n)}function Wm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fk(e){if(typeof e=="function")return Wm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===um)return 11;if(e===dm)return 14}return 2}function _s(e,t){var r=e.alternate;return r===null?(r=cr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function qc(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")Wm(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ja:return ca(r.children,s,a,t);case cm:o=8,s|=8;break;case dh:return e=cr(12,r,t,s|2),e.elementType=dh,e.lanes=a,e;case fh:return e=cr(13,r,t,s),e.elementType=fh,e.lanes=a,e;case hh:return e=cr(19,r,t,s),e.elementType=hh,e.lanes=a,e;case K0:return ad(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W0:o=10;break e;case V0:o=9;break e;case um:o=11;break e;case dm:o=14;break e;case Xn:o=16,n=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=cr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function ca(e,t,r,n){return e=cr(7,e,n,t),e.lanes=r,e}function ad(e,t,r,n){return e=cr(22,e,n,t),e.elementType=K0,e.lanes=r,e.stateNode={isHidden:!1},e}function Pf(e,t,r){return e=cr(6,e,null,t),e.lanes=r,e}function Rf(e,t,r){return t=cr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qk(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=df(0),this.expirationTimes=df(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=df(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vm(e,t,r,n,s,a,o,l,c){return e=new qk(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=cr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tm(a),e}function Uk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function $w(e){if(!e)return Ns;e=e._reactInternals;e:{if(ja(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(qt(r))return $b(e,r,t)}return t}function Fw(e,t,r,n,s,a,o,l,c){return e=Vm(r,n,!0,e,s,a,o,l,c),e.context=$w(null),r=e.current,n=Et(),s=ws(r),a=Pn(n,s),a.callback=t??null,xs(r,a,s),e.current.lanes=s,Tl(e,s,n),Ut(e,n),e}function id(e,t,r,n){var s=t.current,a=Et(),o=ws(s);return r=$w(r),t.context===null?t.context=r:t.pendingContext=r,t=Pn(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xs(s,t,o),e!==null&&(Dr(e,s,o,a),Dc(e,s,o)),o}function wu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _y(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Km(e,t){_y(e,t),(e=e.alternate)&&_y(e,t)}function Bk(){return null}var qw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gm(e){this._internalRoot=e}od.prototype.render=Gm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));id(e,t,null,null)};od.prototype.unmount=Gm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ma(function(){id(null,e,null,null)}),t[On]=null}};function od(e){this._internalRoot=e}od.prototype.unstable_scheduleHydration=function(e){if(e){var t=vb();e={blockedOn:null,target:e,priority:t};for(var r=0;r<es.length&&t!==0&&t<es[r].priority;r++);es.splice(r,0,e),r===0&&xb(e)}};function Qm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ld(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sy(){}function zk(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=wu(o);a.call(u)}}var o=Fw(t,n,e,0,null,!1,!1,"",Sy);return e._reactRootContainer=o,e[On]=o.current,el(e.nodeType===8?e.parentNode:e),ma(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=wu(c);l.call(u)}}var c=Vm(e,0,!1,null,null,!1,!1,"",Sy);return e._reactRootContainer=c,e[On]=c.current,el(e.nodeType===8?e.parentNode:e),ma(function(){id(t,c,r,n)}),c}function cd(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=wu(o);l.call(c)}}id(t,o,e,s)}else o=zk(r,t,e,s,n);return wu(o)}mb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Eo(t.pendingLanes);r!==0&&(pm(t,r|1),Ut(t,ze()),!(be&6)&&(zi=ze()+500,Rs()))}break;case 13:ma(function(){var n=Dn(e,1);if(n!==null){var s=Et();Dr(n,e,1,s)}}),Km(e,1)}};mm=function(e){if(e.tag===13){var t=Dn(e,134217728);if(t!==null){var r=Et();Dr(t,e,134217728,r)}Km(e,134217728)}};gb=function(e){if(e.tag===13){var t=ws(e),r=Dn(e,t);if(r!==null){var n=Et();Dr(r,e,t,n)}Km(e,t)}};vb=function(){return Se};yb=function(e,t){var r=Se;try{return Se=e,t()}finally{Se=r}};Sh=function(e,t,r){switch(t){case"input":if(gh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Zu(n);if(!s)throw Error(W(90));Q0(n),gh(n,s)}}}break;case"textarea":X0(e,r);break;case"select":t=r.value,t!=null&&di(e,!!r.multiple,t,!1)}};sb=Bm;ab=ma;var Hk={usingClientEntryPoint:!1,Events:[Rl,ri,Zu,rb,nb,Bm]},bo={findFiberByHostInstance:Gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wk={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lb(e),e===null?null:e.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||Bk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{Qu=uc.inject(Wk),nn=uc}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hk;tr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qm(t))throw Error(W(200));return Uk(e,t,null,r)};tr.createRoot=function(e,t){if(!Qm(e))throw Error(W(299));var r=!1,n="",s=qw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vm(e,1,!1,null,null,r,!1,n,s),e[On]=t.current,el(e.nodeType===8?e.parentNode:e),new Gm(t)};tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=lb(t),e=e===null?null:e.stateNode,e};tr.flushSync=function(e){return ma(e)};tr.hydrate=function(e,t,r){if(!ld(t))throw Error(W(200));return cd(null,e,t,!0,r)};tr.hydrateRoot=function(e,t,r){if(!Qm(e))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=qw;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Fw(t,null,e,1,r??null,s,!1,a,o),e[On]=t.current,el(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new od(t)};tr.render=function(e,t,r){if(!ld(t))throw Error(W(200));return cd(null,e,t,!1,r)};tr.unmountComponentAtNode=function(e){if(!ld(e))throw Error(W(40));return e._reactRootContainer?(ma(function(){cd(null,null,e,!1,function(){e._reactRootContainer=null,e[On]=null})}),!0):!1};tr.unstable_batchedUpdates=Bm;tr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ld(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return cd(e,t,r,!1,n)};tr.version="18.3.1-next-f1338f8080-20240426";function Uw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uw)}catch(e){console.error(e)}}Uw(),U0.exports=tr;var Na=U0.exports;const Bw=T0(Na);var zw,jy=Na;zw=jy.createRoot,jy.hydrateRoot;const Vk=1,Kk=1e6;let Af=0;function Gk(){return Af=(Af+1)%Number.MAX_SAFE_INTEGER,Af.toString()}const Of=new Map,Ny=e=>{if(Of.has(e))return;const t=setTimeout(()=>{Of.delete(e),Bo({type:"REMOVE_TOAST",toastId:e})},Kk);Of.set(e,t)},Qk=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Vk)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Ny(r):e.toasts.forEach(n=>{Ny(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Uc=[];let Bc={toasts:[]};function Bo(e){Bc=Qk(Bc,e),Uc.forEach(t=>{t(Bc)})}function Yk({...e}){const t=Gk(),r=s=>Bo({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Bo({type:"DISMISS_TOAST",toastId:t});return Bo({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Xk(){const[e,t]=m.useState(Bc);return m.useEffect(()=>(Uc.push(t),()=>{const r=Uc.indexOf(t);r>-1&&Uc.splice(r,1)}),[e]),{...e,toast:Yk,dismiss:r=>Bo({type:"DISMISS_TOAST",toastId:r})}}function Y(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Cy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ca(...e){return t=>{let r=!1;const n=e.map(s=>{const a=Cy(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():Cy(e[s],null)}}}}function fe(...e){return m.useCallback(Ca(...e),e)}function Jk(e,t){const r=m.createContext(t),n=a=>{const{children:o,...l}=a,c=m.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(a){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function nr(e,t=[]){let r=[];function n(a,o){const l=m.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:p,...v}=f,g=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,b=m.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:b,children:p})};u.displayName=a+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,v=m.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Zk(s,...t)]}function Zk(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Ey(e){const t=e2(e),r=m.forwardRef((n,s)=>{const{children:a,...o}=n,l=m.Children.toArray(a),c=l.find(r2);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function e2(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const o=s2(s),l=n2(a,s.props);return s.type!==m.Fragment&&(l.ref=n?Ca(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var t2=Symbol("radix.slottable");function r2(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===t2}function n2(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function s2(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ud(e){const t=e+"CollectionProvider",[r,n]=nr(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:b,children:x}=g,y=H.useRef(null),w=H.useRef(new Map).current;return i.jsx(s,{scope:b,itemMap:w,collectionRef:y,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=Ey(l),u=H.forwardRef((g,b)=>{const{scope:x,children:y}=g,w=a(l,x),_=fe(b,w.collectionRef);return i.jsx(c,{ref:_,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Ey(d),p=H.forwardRef((g,b)=>{const{scope:x,children:y,...w}=g,_=H.useRef(null),S=fe(b,_),j=a(d,x);return H.useEffect(()=>(j.itemMap.set(_,{ref:_,...w}),()=>void j.itemMap.delete(_))),i.jsx(h,{[f]:"",ref:S,children:y})});p.displayName=d;function v(g){const b=a(e+"CollectionConsumer",g);return H.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((j,N)=>w.indexOf(j.ref.current)-w.indexOf(N.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},v,n]}function a2(e){const t=i2(e),r=m.forwardRef((n,s)=>{const{children:a,...o}=n,l=m.Children.toArray(a),c=l.find(l2);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function i2(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const o=u2(s),l=c2(a,s.props);return s.type!==m.Fragment&&(l.ref=n?Ca(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var o2=Symbol("radix.slottable");function l2(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===o2}function c2(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function u2(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var d2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ne=d2.reduce((e,t)=>{const r=a2(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Hw(e,t){e&&Na.flushSync(()=>e.dispatchEvent(t))}function Je(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function f2(e,t=globalThis==null?void 0:globalThis.document){const r=Je(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var h2="DismissableLayer",rp="dismissableLayer.update",p2="dismissableLayer.pointerDownOutside",m2="dismissableLayer.focusOutside",ky,Ww=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ea=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=m.useContext(Ww),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),v=fe(t,N=>f(N)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(b),y=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=x,S=v2(N=>{const C=N.target,k=[...u.branches].some(O=>O.contains(C));!_||k||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),j=y2(N=>{const C=N.target;[...u.branches].some(O=>O.contains(C))||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return f2(N=>{y===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ky=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Ty(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ky)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Ty())},[d,u]),m.useEffect(()=>{const N=()=>p({});return document.addEventListener(rp,N),()=>document.removeEventListener(rp,N)},[]),i.jsx(ne.div,{...c,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Y(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Y(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Y(e.onPointerDownCapture,S.onPointerDownCapture)})});Ea.displayName=h2;var g2="DismissableLayerBranch",Vw=m.forwardRef((e,t)=>{const r=m.useContext(Ww),n=m.useRef(null),s=fe(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(ne.div,{...e,ref:s})});Vw.displayName=g2;function v2(e,t=globalThis==null?void 0:globalThis.document){const r=Je(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){Kw(p2,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function y2(e,t=globalThis==null?void 0:globalThis.document){const r=Je(e),n=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!n.current&&Kw(m2,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ty(){const e=new CustomEvent(rp);document.dispatchEvent(e)}function Kw(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Hw(s,a):s.dispatchEvent(a)}var x2=Ea,b2=Vw,nt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},w2="Portal",Ol=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=m.useState(!1);nt(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Bw.createPortal(i.jsx(ne.div,{...n,ref:t}),o):null});Ol.displayName=w2;function _2(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Pt=e=>{const{present:t,children:r}=e,n=S2(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),a=fe(n.ref,j2(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:a}):null};Pt.displayName="Presence";function S2(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),a=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=_2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=dc(n.current);a.current=l==="mounted"?u:"none"},[l]),nt(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,p=dc(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),nt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=dc(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=p=>{p.target===t&&(a.current=dc(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function dc(e){return(e==null?void 0:e.animationName)||"none"}function j2(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var N2=Gu[" useInsertionEffect ".trim().toString()]||nt;function pr({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,o]=C2({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=m.useCallback(d=>{var f;if(l){const h=E2(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else a(d)},[l,e,a,o]);return[c,u]}function C2({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),a=m.useRef(t);return N2(()=>{a.current=t},[t]),m.useEffect(()=>{var o;s.current!==r&&((o=a.current)==null||o.call(a,r),s.current=r)},[r,s]),[r,n,a]}function E2(e){return typeof e=="function"}var Gw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),k2="VisuallyHidden",dd=m.forwardRef((e,t)=>i.jsx(ne.span,{...e,ref:t,style:{...Gw,...e.style}}));dd.displayName=k2;var T2=dd,Ym="ToastProvider",[Xm,P2,R2]=ud("Toast"),[Qw]=nr("Toast",[R2]),[A2,fd]=Qw(Ym),Yw=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ym}\`. Expected non-empty \`string\`.`),i.jsx(Xm.Provider,{scope:t,children:i.jsx(A2,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};Yw.displayName=Ym;var Xw="ToastViewport",O2=["F8"],np="toast.viewportPause",sp="toast.viewportResume",Jw=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=O2,label:s="Notifications ({hotkey})",...a}=e,o=fd(Xw,r),l=P2(r),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=fe(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;m.useEffect(()=>{const b=x=>{var w;n.length!==0&&n.every(_=>x[_]||x.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),m.useEffect(()=>{const b=c.current,x=f.current;if(v&&b&&x){const y=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(np);x.dispatchEvent(j),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(sp);x.dispatchEvent(j),o.isClosePausedRef.current=!1}},_=j=>{!b.contains(j.relatedTarget)&&w()},S=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",y),b.addEventListener("focusout",_),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[v,o.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:b})=>{const y=l().map(w=>{const _=w.ref.current,S=[_,...V2(_)];return b==="forwards"?S:S.reverse()});return(b==="forwards"?y.reverse():y).flat()},[l]);return m.useEffect(()=>{const b=f.current;if(b){const x=y=>{var S,j,N;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const C=document.activeElement,k=y.shiftKey;if(y.target===b&&k){(S=u.current)==null||S.focus();return}const T=g({tabbingDirection:k?"backwards":"forwards"}),A=T.findIndex(R=>R===C);Df(T.slice(A+1))?y.preventDefault():k?(j=u.current)==null||j.focus():(N=d.current)==null||N.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[l,g]),i.jsxs(b2,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&i.jsx(ap,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});Df(b)}}),i.jsx(Xm.Slot,{scope:r,children:i.jsx(ne.ol,{tabIndex:-1,...a,ref:h})}),v&&i.jsx(ap,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});Df(b)}})]})});Jw.displayName=Xw;var Zw="ToastFocusProxy",ap=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=fd(Zw,r);return i.jsx(dd,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});ap.displayName=Zw;var Dl="Toast",D2="toast.swipeStart",I2="toast.swipeMove",M2="toast.swipeCancel",L2="toast.swipeEnd",e1=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=e,[l,c]=pr({prop:n,defaultProp:s??!0,onChange:a,caller:Dl});return i.jsx(Pt,{present:r||l,children:i.jsx(q2,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Je(e.onPause),onResume:Je(e.onResume),onSwipeStart:Y(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Y(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Y(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Y(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});e1.displayName=Dl;var[$2,F2]=Qw(Dl,{onClose(){}}),q2=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...v}=e,g=fd(Dl,r),[b,x]=m.useState(null),y=fe(t,R=>x(R)),w=m.useRef(null),_=m.useRef(null),S=s||g.duration,j=m.useRef(0),N=m.useRef(S),C=m.useRef(0),{onToastAdd:k,onToastRemove:O}=g,F=Je(()=>{var M;(b==null?void 0:b.contains(document.activeElement))&&((M=g.viewport)==null||M.focus()),o()}),T=m.useCallback(R=>{!R||R===1/0||(window.clearTimeout(C.current),j.current=new Date().getTime(),C.current=window.setTimeout(F,R))},[F]);m.useEffect(()=>{const R=g.viewport;if(R){const M=()=>{T(N.current),u==null||u()},z=()=>{const q=new Date().getTime()-j.current;N.current=N.current-q,window.clearTimeout(C.current),c==null||c()};return R.addEventListener(np,z),R.addEventListener(sp,M),()=>{R.removeEventListener(np,z),R.removeEventListener(sp,M)}}},[g.viewport,S,c,u,T]),m.useEffect(()=>{a&&!g.isClosePausedRef.current&&T(S)},[a,S,g.isClosePausedRef,T]),m.useEffect(()=>(k(),()=>O()),[k,O]);const A=m.useMemo(()=>b?o1(b):null,[b]);return g.viewport?i.jsxs(i.Fragment,{children:[A&&i.jsx(U2,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:A}),i.jsx($2,{scope:r,onClose:F,children:Na.createPortal(i.jsx(Xm.ItemSlot,{scope:r,children:i.jsx(x2,{asChild:!0,onEscapeKeyDown:Y(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||F(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(ne.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Y(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:Y(e.onPointerDown,R=>{R.button===0&&(w.current={x:R.clientX,y:R.clientY})}),onPointerMove:Y(e.onPointerMove,R=>{if(!w.current)return;const M=R.clientX-w.current.x,z=R.clientY-w.current.y,q=!!_.current,P=["left","right"].includes(g.swipeDirection),L=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,D=P?L(0,M):0,B=P?0:L(0,z),V=R.pointerType==="touch"?10:2,Z={x:D,y:B},ee={originalEvent:R,delta:Z};q?(_.current=Z,fc(I2,f,ee,{discrete:!1})):Py(Z,g.swipeDirection,V)?(_.current=Z,fc(D2,d,ee,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(M)>V||Math.abs(z)>V)&&(w.current=null)}),onPointerUp:Y(e.onPointerUp,R=>{const M=_.current,z=R.target;if(z.hasPointerCapture(R.pointerId)&&z.releasePointerCapture(R.pointerId),_.current=null,w.current=null,M){const q=R.currentTarget,P={originalEvent:R,delta:M};Py(M,g.swipeDirection,g.swipeThreshold)?fc(L2,p,P,{discrete:!0}):fc(M2,h,P,{discrete:!0}),q.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),U2=e=>{const{__scopeToast:t,children:r,...n}=e,s=fd(Dl,t),[a,o]=m.useState(!1),[l,c]=m.useState(!1);return H2(()=>o(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Ol,{asChild:!0,children:i.jsx(dd,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},B2="ToastTitle",t1=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(ne.div,{...n,ref:t})});t1.displayName=B2;var z2="ToastDescription",r1=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(ne.div,{...n,ref:t})});r1.displayName=z2;var n1="ToastAction",s1=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(i1,{altText:r,asChild:!0,children:i.jsx(Jm,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${n1}\`. Expected non-empty \`string\`.`),null)});s1.displayName=n1;var a1="ToastClose",Jm=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=F2(a1,r);return i.jsx(i1,{asChild:!0,children:i.jsx(ne.button,{type:"button",...n,ref:t,onClick:Y(e.onClick,s.onClose)})})});Jm.displayName=a1;var i1=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function o1(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),W2(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...o1(n))}}),t}function fc(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Hw(s,a):s.dispatchEvent(a)}var Py=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function H2(e=()=>{}){const t=Je(e);nt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function W2(e){return e.nodeType===e.ELEMENT_NODE}function V2(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Df(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var K2=Yw,l1=Jw,c1=e1,u1=t1,d1=r1,f1=s1,h1=Jm;function p1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=p1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function m1(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=p1(e))&&(n&&(n+=" "),n+=t);return n}const Ry=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ay=m1,hd=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Ay(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=Ry(d)||Ry(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(v=>{let[g,b]=v;return Array.isArray(b)?b.includes({...a,...l}[g]):{...a,...l}[g]===b})?[...u,f,h]:u},[]);return Ay(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g1=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...Q2,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:g1("lucide",s),...l},[...o.map(([u,d])=>m.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(e,t)=>{const r=m.forwardRef(({className:n,...s},a)=>m.createElement(Y2,{ref:a,iconNode:t,className:g1(`lucide-${G2(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=J("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=J("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=J("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=J("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=J("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=J("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=J("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=J("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=J("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=J("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=J("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=J("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=J("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=J("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=J("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=J("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=J("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=J("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=J("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=J("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=J("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=J("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=J("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=J("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=J("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=J("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=J("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=J("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=J("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=J("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=J("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=J("Scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=J("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=J("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=J("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=J("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=J("Skull",[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=J("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=J("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=J("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=J("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=J("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=J("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=J("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=J("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=J("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=J("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=J("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=J("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=J("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=J("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=J("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),tg="-",jT=e=>{const t=CT(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(tg);return l[0]===""&&l.length!==1&&l.shift(),N1(l,t)||NT(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},N1=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?N1(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(tg);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},My=/^\[(.+)\]$/,NT=e=>{if(My.test(e)){const t=My.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},CT=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return kT(Object.entries(e.classGroups),r).forEach(([a,o])=>{cp(o,n,a,t)}),n},cp=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Ly(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(ET(s)){cp(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{cp(o,Ly(t,a),r,n)})})},Ly=(e,t)=>{let r=e;return t.split(tg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},ET=e=>e.isThemeGetter,kT=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,TT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},C1="!",PT=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let x=l[b];if(u===0){if(x===s&&(n||l.slice(b,b+a)===t)){c.push(l.slice(d,b)),d=b+a;continue}if(x==="/"){f=b;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(C1),v=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},RT=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},AT=e=>({cache:TT(e.cacheSize),parseClassName:PT(e),...jT(e)}),OT=/\s+/,DT=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(OT);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let v=!!p,g=n(v?h.substring(0,p):h);if(!g){if(!v){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}v=!1}const b=RT(d).join(":"),x=f?b+C1:b,y=x+g;if(a.includes(y))continue;a.push(y);const w=s(g,v);for(let _=0;_<w.length;++_){const S=w[_];a.push(x+S)}l=u+(l.length>0?" "+l:l)}return l};function IT(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=E1(t))&&(n&&(n+=" "),n+=r);return n}const E1=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=E1(e[n]))&&(r&&(r+=" "),r+=t);return r};function MT(e,...t){let r,n,s,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=AT(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=DT(c,r);return s(c,d),d}return function(){return a(IT.apply(null,arguments))}}const Pe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},k1=/^\[(?:([a-z-]+):)?(.+)\]$/i,LT=/^\d+\/\d+$/,$T=new Set(["px","full","screen"]),FT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,BT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pn=e=>yi(e)||$T.has(e)||LT.test(e),Hn=e=>no(e,"length",XT),yi=e=>!!e&&!Number.isNaN(Number(e)),Mf=e=>no(e,"number",yi),wo=e=>!!e&&Number.isInteger(Number(e)),HT=e=>e.endsWith("%")&&yi(e.slice(0,-1)),ce=e=>k1.test(e),Wn=e=>FT.test(e),WT=new Set(["length","size","percentage"]),VT=e=>no(e,WT,T1),KT=e=>no(e,"position",T1),GT=new Set(["image","url"]),QT=e=>no(e,GT,ZT),YT=e=>no(e,"",JT),_o=()=>!0,no=(e,t,r)=>{const n=k1.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},XT=e=>qT.test(e)&&!UT.test(e),T1=()=>!1,JT=e=>BT.test(e),ZT=e=>zT.test(e),eP=()=>{const e=Pe("colors"),t=Pe("spacing"),r=Pe("blur"),n=Pe("brightness"),s=Pe("borderColor"),a=Pe("borderRadius"),o=Pe("borderSpacing"),l=Pe("borderWidth"),c=Pe("contrast"),u=Pe("grayscale"),d=Pe("hueRotate"),f=Pe("invert"),h=Pe("gap"),p=Pe("gradientColorStops"),v=Pe("gradientColorStopPositions"),g=Pe("inset"),b=Pe("margin"),x=Pe("opacity"),y=Pe("padding"),w=Pe("saturate"),_=Pe("scale"),S=Pe("sepia"),j=Pe("skew"),N=Pe("space"),C=Pe("translate"),k=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",ce,t],T=()=>[ce,t],A=()=>["",pn,Hn],R=()=>["auto",yi,ce],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",ce],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[yi,ce];return{cacheSize:500,separator:":",theme:{colors:[_o],spacing:[pn,Hn],blur:["none","",Wn,ce],brightness:B(),borderColor:[e],borderRadius:["none","","full",Wn,ce],borderSpacing:T(),borderWidth:A(),contrast:B(),grayscale:L(),hueRotate:B(),invert:L(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[HT,Hn],inset:F(),margin:F(),opacity:B(),padding:T(),saturate:B(),scale:B(),sepia:L(),skew:B(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Wn]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),ce]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wo,ce]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",wo,ce]}],"grid-cols":[{"grid-cols":[_o]}],"col-start-end":[{col:["auto",{span:["full",wo,ce]},ce]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[_o]}],"row-start-end":[{row:["auto",{span:[wo,ce]},ce]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,t]}],"min-w":[{"min-w":[ce,t,"min","max","fit"]}],"max-w":[{"max-w":[ce,t,"none","full","min","max","fit","prose",{screen:[Wn]},Wn]}],h:[{h:[ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Wn,Hn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mf]}],"font-family":[{font:[_o]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",yi,Mf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pn,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pn,Hn]}],"underline-offset":[{"underline-offset":["auto",pn,ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),KT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},QT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[pn,ce]}],"outline-w":[{outline:[pn,Hn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[pn,Hn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Wn,YT]}],"shadow-color":[{shadow:[_o]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Wn,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[wo,ce]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[pn,Hn,Mf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},tP=MT(eP);function U(...e){return tP(m1(e))}const rP=K2,P1=m.forwardRef(({className:e,...t},r)=>i.jsx(l1,{ref:r,className:U("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));P1.displayName=l1.displayName;const nP=hd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),R1=m.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(c1,{ref:n,className:U(nP({variant:t}),e),...r}));R1.displayName=c1.displayName;const sP=m.forwardRef(({className:e,...t},r)=>i.jsx(f1,{ref:r,className:U("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));sP.displayName=f1.displayName;const A1=m.forwardRef(({className:e,...t},r)=>i.jsx(h1,{ref:r,className:U("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(ka,{className:"h-4 w-4"})}));A1.displayName=h1.displayName;const O1=m.forwardRef(({className:e,...t},r)=>i.jsx(u1,{ref:r,className:U("text-sm font-semibold",e),...t}));O1.displayName=u1.displayName;const D1=m.forwardRef(({className:e,...t},r)=>i.jsx(d1,{ref:r,className:U("text-sm opacity-90",e),...t}));D1.displayName=d1.displayName;function aP(){const{toasts:e}=Xk();return i.jsxs(rP,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return i.jsxs(R1,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(O1,{children:r}),n&&i.jsx(D1,{children:n})]}),s,i.jsx(A1,{})]},t)}),i.jsx(P1,{})]})}var $y=["light","dark"],iP="(prefers-color-scheme: dark)",oP=m.createContext(void 0),lP={setTheme:e=>{},themes:[]},cP=()=>{var e;return(e=m.useContext(oP))!=null?e:lP};m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?$y.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,g=!1,b=!0)=>{let x=o?o[v]:v,y=g?v+"|| ''":`'${x}'`,w="";return s&&b&&!g&&$y.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),r==="class"?g||x?w+=`c.add(${y})`:w+="null":x&&(w+=`d[s](n,${y})`),w},p=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${iP}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var uP=e=>{switch(e){case"success":return hP;case"info":return mP;case"warning":return pP;case"error":return gP;default:return null}},dP=Array(12).fill(0),fP=({visible:e,className:t})=>H.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},H.createElement("div",{className:"sonner-spinner"},dP.map((r,n)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),hP=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pP=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mP=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gP=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vP=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),yP=()=>{let[e,t]=H.useState(document.hidden);return H.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},up=1,xP=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:up++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,o=n.then(async c=>{if(a=["resolve",c],H.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(wP(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||up++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},It=new xP,bP=(e,t)=>{let r=(t==null?void 0:t.id)||up++;return It.addToast({title:e,...t,id:r}),r},wP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",_P=bP,SP=()=>It.toasts,jP=()=>It.getActiveToasts(),$=Object.assign(_P,{success:It.success,info:It.info,warning:It.warning,error:It.error,custom:It.custom,message:It.message,promise:It.promise,dismiss:It.dismiss,loading:It.loading},{getHistory:SP,getToasts:jP});function NP(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}NP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function hc(e){return e.label!==void 0}var CP=3,EP="32px",kP="16px",Fy=4e3,TP=356,PP=14,RP=20,AP=200;function wr(...e){return e.filter(Boolean).join(" ")}function OP(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var DP=e=>{var t,r,n,s,a,o,l,c,u,d,f;let{invert:h,toast:p,unstyled:v,interacting:g,setHeights:b,visibleToasts:x,heights:y,index:w,toasts:_,expanded:S,removeToast:j,defaultRichColors:N,closeButton:C,style:k,cancelButtonStyle:O,actionButtonStyle:F,className:T="",descriptionClassName:A="",duration:R,position:M,gap:z,loadingIcon:q,expandByDefault:P,classNames:L,icons:D,closeButtonAriaLabel:B="Close toast",pauseWhenPageIsHidden:V}=e,[Z,ee]=H.useState(null),[me,Ne]=H.useState(null),[K,ve]=H.useState(!1),[Ce,ye]=H.useState(!1),[pe,xe]=H.useState(!1),[He,bt]=H.useState(!1),[Hr,gr]=H.useState(!1),[Wr,hn]=H.useState(0),[Ra,cv]=H.useState(0),fo=H.useRef(p.duration||R||Fy),uv=H.useRef(null),$s=H.useRef(null),dC=w===0,fC=w+1<=x,sr=p.type,Aa=p.dismissible!==!1,hC=p.className||"",pC=p.descriptionClassName||"",Vl=H.useMemo(()=>y.findIndex(le=>le.toastId===p.id)||0,[y,p.id]),mC=H.useMemo(()=>{var le;return(le=p.closeButton)!=null?le:C},[p.closeButton,C]),dv=H.useMemo(()=>p.duration||R||Fy,[p.duration,R]),rf=H.useRef(0),Oa=H.useRef(0),fv=H.useRef(0),Da=H.useRef(null),[gC,vC]=M.split("-"),hv=H.useMemo(()=>y.reduce((le,je,Oe)=>Oe>=Vl?le:le+je.height,0),[y,Vl]),pv=yP(),yC=p.invert||h,nf=sr==="loading";Oa.current=H.useMemo(()=>Vl*z+hv,[Vl,hv]),H.useEffect(()=>{fo.current=dv},[dv]),H.useEffect(()=>{ve(!0)},[]),H.useEffect(()=>{let le=$s.current;if(le){let je=le.getBoundingClientRect().height;return cv(je),b(Oe=>[{toastId:p.id,height:je,position:p.position},...Oe]),()=>b(Oe=>Oe.filter(vr=>vr.toastId!==p.id))}},[b,p.id]),H.useLayoutEffect(()=>{if(!K)return;let le=$s.current,je=le.style.height;le.style.height="auto";let Oe=le.getBoundingClientRect().height;le.style.height=je,cv(Oe),b(vr=>vr.find(yr=>yr.toastId===p.id)?vr.map(yr=>yr.toastId===p.id?{...yr,height:Oe}:yr):[{toastId:p.id,height:Oe,position:p.position},...vr])},[K,p.title,p.description,b,p.id]);let qn=H.useCallback(()=>{ye(!0),hn(Oa.current),b(le=>le.filter(je=>je.toastId!==p.id)),setTimeout(()=>{j(p)},AP)},[p,j,b,Oa]);H.useEffect(()=>{if(p.promise&&sr==="loading"||p.duration===1/0||p.type==="loading")return;let le;return S||g||V&&pv?(()=>{if(fv.current<rf.current){let je=new Date().getTime()-rf.current;fo.current=fo.current-je}fv.current=new Date().getTime()})():fo.current!==1/0&&(rf.current=new Date().getTime(),le=setTimeout(()=>{var je;(je=p.onAutoClose)==null||je.call(p,p),qn()},fo.current)),()=>clearTimeout(le)},[S,g,p,sr,V,pv,qn]),H.useEffect(()=>{p.delete&&qn()},[qn,p.delete]);function xC(){var le,je,Oe;return D!=null&&D.loading?H.createElement("div",{className:wr(L==null?void 0:L.loader,(le=p==null?void 0:p.classNames)==null?void 0:le.loader,"sonner-loader"),"data-visible":sr==="loading"},D.loading):q?H.createElement("div",{className:wr(L==null?void 0:L.loader,(je=p==null?void 0:p.classNames)==null?void 0:je.loader,"sonner-loader"),"data-visible":sr==="loading"},q):H.createElement(fP,{className:wr(L==null?void 0:L.loader,(Oe=p==null?void 0:p.classNames)==null?void 0:Oe.loader),visible:sr==="loading"})}return H.createElement("li",{tabIndex:0,ref:$s,className:wr(T,hC,L==null?void 0:L.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[sr],(r=p==null?void 0:p.classNames)==null?void 0:r[sr]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:N,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":K,"data-promise":!!p.promise,"data-swiped":Hr,"data-removed":Ce,"data-visible":fC,"data-y-position":gC,"data-x-position":vC,"data-index":w,"data-front":dC,"data-swiping":pe,"data-dismissible":Aa,"data-type":sr,"data-invert":yC,"data-swipe-out":He,"data-swipe-direction":me,"data-expanded":!!(S||P&&K),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${Ce?Wr:Oa.current}px`,"--initial-height":P?"auto":`${Ra}px`,...k,...p.style},onDragEnd:()=>{xe(!1),ee(null),Da.current=null},onPointerDown:le=>{nf||!Aa||(uv.current=new Date,hn(Oa.current),le.target.setPointerCapture(le.pointerId),le.target.tagName!=="BUTTON"&&(xe(!0),Da.current={x:le.clientX,y:le.clientY}))},onPointerUp:()=>{var le,je,Oe,vr;if(He||!Aa)return;Da.current=null;let yr=Number(((le=$s.current)==null?void 0:le.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Un=Number(((je=$s.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Fs=new Date().getTime()-((Oe=uv.current)==null?void 0:Oe.getTime()),xr=Z==="x"?yr:Un,Bn=Math.abs(xr)/Fs;if(Math.abs(xr)>=RP||Bn>.11){hn(Oa.current),(vr=p.onDismiss)==null||vr.call(p,p),Ne(Z==="x"?yr>0?"right":"left":Un>0?"down":"up"),qn(),bt(!0),gr(!1);return}xe(!1),ee(null)},onPointerMove:le=>{var je,Oe,vr,yr;if(!Da.current||!Aa||((je=window.getSelection())==null?void 0:je.toString().length)>0)return;let Un=le.clientY-Da.current.y,Fs=le.clientX-Da.current.x,xr=(Oe=e.swipeDirections)!=null?Oe:OP(M);!Z&&(Math.abs(Fs)>1||Math.abs(Un)>1)&&ee(Math.abs(Fs)>Math.abs(Un)?"x":"y");let Bn={x:0,y:0};Z==="y"?(xr.includes("top")||xr.includes("bottom"))&&(xr.includes("top")&&Un<0||xr.includes("bottom")&&Un>0)&&(Bn.y=Un):Z==="x"&&(xr.includes("left")||xr.includes("right"))&&(xr.includes("left")&&Fs<0||xr.includes("right")&&Fs>0)&&(Bn.x=Fs),(Math.abs(Bn.x)>0||Math.abs(Bn.y)>0)&&gr(!0),(vr=$s.current)==null||vr.style.setProperty("--swipe-amount-x",`${Bn.x}px`),(yr=$s.current)==null||yr.style.setProperty("--swipe-amount-y",`${Bn.y}px`)}},mC&&!p.jsx?H.createElement("button",{"aria-label":B,"data-disabled":nf,"data-close-button":!0,onClick:nf||!Aa?()=>{}:()=>{var le;qn(),(le=p.onDismiss)==null||le.call(p,p)},className:wr(L==null?void 0:L.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(a=D==null?void 0:D.close)!=null?a:vP):null,p.jsx||m.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:H.createElement(H.Fragment,null,sr||p.icon||p.promise?H.createElement("div",{"data-icon":"",className:wr(L==null?void 0:L.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||xC():null,p.type!=="loading"?p.icon||(D==null?void 0:D[sr])||uP(sr):null):null,H.createElement("div",{"data-content":"",className:wr(L==null?void 0:L.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},H.createElement("div",{"data-title":"",className:wr(L==null?void 0:L.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?H.createElement("div",{"data-description":"",className:wr(A,pC,L==null?void 0:L.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),m.isValidElement(p.cancel)?p.cancel:p.cancel&&hc(p.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||O,onClick:le=>{var je,Oe;hc(p.cancel)&&Aa&&((Oe=(je=p.cancel).onClick)==null||Oe.call(je,le),qn())},className:wr(L==null?void 0:L.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,m.isValidElement(p.action)?p.action:p.action&&hc(p.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||F,onClick:le=>{var je,Oe;hc(p.action)&&((Oe=(je=p.action).onClick)==null||Oe.call(je,le),!le.defaultPrevented&&qn())},className:wr(L==null?void 0:L.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function qy(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function IP(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,o=a?"--mobile-offset":"--offset",l=a?kP:EP;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var MP=m.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:v=CP,toastOptions:g,dir:b=qy(),gap:x=PP,loadingIcon:y,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[j,N]=H.useState([]),C=H.useMemo(()=>Array.from(new Set([n].concat(j.filter(V=>V.position).map(V=>V.position)))),[j,n]),[k,O]=H.useState([]),[F,T]=H.useState(!1),[A,R]=H.useState(!1),[M,z]=H.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=H.useRef(null),P=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=H.useRef(null),D=H.useRef(!1),B=H.useCallback(V=>{N(Z=>{var ee;return(ee=Z.find(me=>me.id===V.id))!=null&&ee.delete||It.dismiss(V.id),Z.filter(({id:me})=>me!==V.id)})},[]);return H.useEffect(()=>It.subscribe(V=>{if(V.dismiss){N(Z=>Z.map(ee=>ee.id===V.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{Bw.flushSync(()=>{N(Z=>{let ee=Z.findIndex(me=>me.id===V.id);return ee!==-1?[...Z.slice(0,ee),{...Z[ee],...V},...Z.slice(ee+1)]:[V,...Z]})})})}),[]),H.useEffect(()=>{if(d!=="system"){z(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:Z})=>{z(Z?"dark":"light")})}catch{V.addListener(({matches:ee})=>{try{z(ee?"dark":"light")}catch(me){console.error(me)}})}},[d]),H.useEffect(()=>{j.length<=1&&T(!1)},[j]),H.useEffect(()=>{let V=Z=>{var ee,me;s.every(Ne=>Z[Ne]||Z.code===Ne)&&(T(!0),(ee=q.current)==null||ee.focus()),Z.code==="Escape"&&(document.activeElement===q.current||(me=q.current)!=null&&me.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[s]),H.useEffect(()=>{if(q.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,D.current=!1)}},[q.current]),H.createElement("section",{ref:t,"aria-label":`${_} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((V,Z)=>{var ee;let[me,Ne]=V.split("-");return j.length?H.createElement("ol",{key:V,dir:b==="auto"?qy():b,tabIndex:-1,ref:q,className:l,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":me,"data-lifted":F&&j.length>1&&!a,"data-x-position":Ne,style:{"--front-toast-height":`${((ee=k[0])==null?void 0:ee.height)||0}px`,"--width":`${TP}px`,"--gap":`${x}px`,...p,...IP(c,u)},onBlur:K=>{D.current&&!K.currentTarget.contains(K.relatedTarget)&&(D.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||D.current||(D.current=!0,L.current=K.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{A||T(!1)},onDragEnd:()=>T(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},j.filter(K=>!K.position&&Z===0||K.position===V).map((K,ve)=>{var Ce,ye;return H.createElement(DP,{key:K.id,icons:w,index:ve,toast:K,defaultRichColors:f,duration:(Ce=g==null?void 0:g.duration)!=null?Ce:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:v,closeButton:(ye=g==null?void 0:g.closeButton)!=null?ye:o,interacting:A,position:V,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:B,toasts:j.filter(pe=>pe.position==K.position),heights:k.filter(pe=>pe.position==K.position),setHeights:O,expandByDefault:a,gap:x,loadingIcon:y,expanded:F,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const LP=({...e})=>{const{theme:t="system"}=cP();return i.jsx(MP,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var $P=Gu[" useId ".trim().toString()]||(()=>{}),FP=0;function dr(e){const[t,r]=m.useState($P());return nt(()=>{r(n=>n??String(FP++))},[e]),t?`radix-${t}`:""}const qP=["top","right","bottom","left"],Cs=Math.min,Qt=Math.max,Nu=Math.round,pc=Math.floor,an=e=>({x:e,y:e}),UP={left:"right",right:"left",bottom:"top",top:"bottom"},BP={start:"end",end:"start"};function dp(e,t,r){return Qt(e,Cs(t,r))}function Mn(e,t){return typeof e=="function"?e(t):e}function Ln(e){return e.split("-")[0]}function so(e){return e.split("-")[1]}function rg(e){return e==="x"?"y":"x"}function ng(e){return e==="y"?"height":"width"}const zP=new Set(["top","bottom"]);function tn(e){return zP.has(Ln(e))?"y":"x"}function sg(e){return rg(tn(e))}function HP(e,t,r){r===void 0&&(r=!1);const n=so(e),s=sg(e),a=ng(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Cu(o)),[o,Cu(o)]}function WP(e){const t=Cu(e);return[fp(e),t,fp(t)]}function fp(e){return e.replace(/start|end/g,t=>BP[t])}const Uy=["left","right"],By=["right","left"],VP=["top","bottom"],KP=["bottom","top"];function GP(e,t,r){switch(e){case"top":case"bottom":return r?t?By:Uy:t?Uy:By;case"left":case"right":return t?VP:KP;default:return[]}}function QP(e,t,r,n){const s=so(e);let a=GP(Ln(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(fp)))),a}function Cu(e){return e.replace(/left|right|bottom|top/g,t=>UP[t])}function YP(e){return{top:0,right:0,bottom:0,left:0,...e}}function I1(e){return typeof e!="number"?YP(e):{top:e,right:e,bottom:e,left:e}}function Eu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function zy(e,t,r){let{reference:n,floating:s}=e;const a=tn(t),o=sg(t),l=ng(o),c=Ln(t),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(so(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}async function XP(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Mn(t,e),v=I1(p),b=l[h?f==="floating"?"reference":"floating":f],x=Eu(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(b)))==null||r?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),_=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Eu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(x.top-S.top+v.top)/_.y,bottom:(S.bottom-x.bottom+v.bottom)/_.y,left:(x.left-S.left+v.left)/_.x,right:(S.right-x.right+v.right)/_.x}}const JP=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=zy(u,n,c),h=n,p={},v=0;for(let b=0;b<l.length;b++){var g;const{name:x,fn:y}=l[b],{x:w,y:_,data:S,reset:j}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:{...o,detectOverflow:(g=o.detectOverflow)!=null?g:XP},elements:{reference:e,floating:t}});d=w??d,f=_??f,p={...p,[x]:{...p[x],...S}},j&&v<=50&&(v++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:d,y:f}=zy(u,h,c)),b=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}},ZP=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Mn(e,t)||{};if(u==null)return{};const f=I1(d),h={x:r,y:n},p=sg(s),v=ng(p),g=await o.getDimensions(u),b=p==="y",x=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",_=a.reference[v]+a.reference[p]-h[p]-a.floating[v],S=h[p]-a.reference[p],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=j?j[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(j)))&&(N=l.floating[w]||a.floating[v]);const C=_/2-S/2,k=N/2-g[v]/2-1,O=Cs(f[x],k),F=Cs(f[y],k),T=O,A=N-g[v]-F,R=N/2-g[v]/2+C,M=dp(T,R,A),z=!c.arrow&&so(s)!=null&&R!==M&&a.reference[v]/2-(R<T?O:F)-g[v]/2<0,q=z?R<T?R-T:R-A:0;return{[p]:h[p]+q,data:{[p]:M,centerOffset:R-M-q,...z&&{alignmentOffset:q}},reset:z}}}),eR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=Mn(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const x=Ln(s),y=tn(l),w=Ln(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(w||!g?[Cu(l)]:WP(l)),j=v!=="none";!h&&j&&S.push(...QP(l,g,v,_));const N=[l,...S],C=await c.detectOverflow(t,b),k=[];let O=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&k.push(C[x]),f){const R=HP(s,o,_);k.push(C[R[0]],C[R[1]])}if(O=[...O,{placement:s,overflows:k}],!k.every(R=>R<=0)){var F,T;const R=(((F=a.flip)==null?void 0:F.index)||0)+1,M=N[R];if(M&&(!(f==="alignment"?y!==tn(M):!1)||O.every(P=>tn(P.placement)===y?P.overflows[0]>0:!0)))return{data:{index:R,overflows:O},reset:{placement:M}};let z=(T=O.filter(q=>q.overflows[0]<=0).sort((q,P)=>q.overflows[1]-P.overflows[1])[0])==null?void 0:T.placement;if(!z)switch(p){case"bestFit":{var A;const q=(A=O.filter(P=>{if(j){const L=tn(P.placement);return L===y||L==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(L=>L>0).reduce((L,D)=>L+D,0)]).sort((P,L)=>P[1]-L[1])[0])==null?void 0:A[0];q&&(z=q);break}case"initialPlacement":z=l;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function Hy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Wy(e){return qP.some(t=>e[t]>=0)}const tR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:s="referenceHidden",...a}=Mn(e,t);switch(s){case"referenceHidden":{const o=await n.detectOverflow(t,{...a,elementContext:"reference"}),l=Hy(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Wy(l)}}}case"escaped":{const o=await n.detectOverflow(t,{...a,altBoundary:!0}),l=Hy(o,r.floating);return{data:{escapedOffsets:l,escaped:Wy(l)}}}default:return{}}}}},M1=new Set(["left","top"]);async function rR(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Ln(r),l=so(r),c=tn(r)==="y",u=M1.has(o)?-1:1,d=a&&c?-1:1,f=Mn(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const nR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await rR(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},sR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s,platform:a}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:x=>{let{x:y,y:w}=x;return{x:y,y:w}}},...u}=Mn(e,t),d={x:r,y:n},f=await a.detectOverflow(t,u),h=tn(Ln(s)),p=rg(h);let v=d[p],g=d[h];if(o){const x=p==="y"?"top":"left",y=p==="y"?"bottom":"right",w=v+f[x],_=v-f[y];v=dp(w,v,_)}if(l){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=g+f[x],_=g-f[y];g=dp(w,g,_)}const b=c.fn({...t,[p]:v,[h]:g});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[p]:o,[h]:l}}}}}},aR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Mn(e,t),d={x:r,y:n},f=tn(s),h=rg(f);let p=d[h],v=d[f];const g=Mn(l,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=h==="y"?"height":"width",_=a.reference[h]-a.floating[w]+b.mainAxis,S=a.reference[h]+a.reference[w]-b.mainAxis;p<_?p=_:p>S&&(p=S)}if(u){var x,y;const w=h==="y"?"width":"height",_=M1.has(Ln(s)),S=a.reference[f]-a.floating[w]+(_&&((x=o.offset)==null?void 0:x[f])||0)+(_?0:b.crossAxis),j=a.reference[f]+a.reference[w]+(_?0:((y=o.offset)==null?void 0:y[f])||0)-(_?b.crossAxis:0);v<S?v=S:v>j&&(v=j)}return{[h]:p,[f]:v}}}},iR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Mn(e,t),d=await o.detectOverflow(t,u),f=Ln(s),h=so(s),p=tn(s)==="y",{width:v,height:g}=a.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,b=h==="end"?"top":"bottom");const y=g-d.top-d.bottom,w=v-d.left-d.right,_=Cs(g-d[b],y),S=Cs(v-d[x],w),j=!t.middlewareData.shift;let N=_,C=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=y),j&&!h){const O=Qt(d.left,0),F=Qt(d.right,0),T=Qt(d.top,0),A=Qt(d.bottom,0);p?C=v-2*(O!==0||F!==0?O+F:Qt(d.left,d.right)):N=g-2*(T!==0||A!==0?T+A:Qt(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:N});const k=await o.getDimensions(l.floating);return v!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function gd(){return typeof window<"u"}function ao(e){return L1(e)?(e.nodeName||"").toLowerCase():"#document"}function Zt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function dn(e){var t;return(t=(L1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function L1(e){return gd()?e instanceof Node||e instanceof Zt(e).Node:!1}function $r(e){return gd()?e instanceof Element||e instanceof Zt(e).Element:!1}function ln(e){return gd()?e instanceof HTMLElement||e instanceof Zt(e).HTMLElement:!1}function Vy(e){return!gd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zt(e).ShadowRoot}const oR=new Set(["inline","contents"]);function Ml(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Fr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!oR.has(s)}const lR=new Set(["table","td","th"]);function cR(e){return lR.has(ao(e))}const uR=[":popover-open",":modal"];function vd(e){return uR.some(t=>{try{return e.matches(t)}catch{return!1}})}const dR=["transform","translate","scale","rotate","perspective"],fR=["transform","translate","scale","rotate","perspective","filter"],hR=["paint","layout","strict","content"];function ag(e){const t=ig(),r=$r(e)?Fr(e):e;return dR.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||fR.some(n=>(r.willChange||"").includes(n))||hR.some(n=>(r.contain||"").includes(n))}function pR(e){let t=Es(e);for(;ln(t)&&!Ki(t);){if(ag(t))return t;if(vd(t))return null;t=Es(t)}return null}function ig(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mR=new Set(["html","body","#document"]);function Ki(e){return mR.has(ao(e))}function Fr(e){return Zt(e).getComputedStyle(e)}function yd(e){return $r(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Es(e){if(ao(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Vy(e)&&e.host||dn(e);return Vy(t)?t.host:t}function $1(e){const t=Es(e);return Ki(t)?e.ownerDocument?e.ownerDocument.body:e.body:ln(t)&&Ml(t)?t:$1(t)}function fl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=$1(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=Zt(s);if(a){const l=hp(o);return t.concat(o,o.visualViewport||[],Ml(s)?s:[],l&&r?fl(l):[])}return t.concat(s,fl(s,[],r))}function hp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function F1(e){const t=Fr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=ln(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Nu(r)!==a||Nu(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function og(e){return $r(e)?e:e.contextElement}function xi(e){const t=og(e);if(!ln(t))return an(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=F1(t);let o=(a?Nu(r.width):r.width)/n,l=(a?Nu(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const gR=an(0);function q1(e){const t=Zt(e);return!ig()||!t.visualViewport?gR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vR(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Zt(e)?!1:t}function ga(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=og(e);let o=an(1);t&&(n?$r(n)&&(o=xi(n)):o=xi(e));const l=vR(a,r,n)?q1(a):an(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(a){const h=Zt(a),p=n&&$r(n)?Zt(n):n;let v=h,g=hp(v);for(;g&&n&&p!==v;){const b=xi(g),x=g.getBoundingClientRect(),y=Fr(g),w=x.left+(g.clientLeft+parseFloat(y.paddingLeft))*b.x,_=x.top+(g.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=w,u+=_,v=Zt(g),g=hp(v)}}return Eu({width:d,height:f,x:c,y:u})}function xd(e,t){const r=yd(e).scrollLeft;return t?t.left+r:ga(dn(e)).left+r}function U1(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-xd(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function yR(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=dn(n),l=t?vd(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=an(1);const d=an(0),f=ln(n);if((f||!f&&!a)&&((ao(n)!=="body"||Ml(o))&&(c=yd(n)),ln(n))){const p=ga(n);u=xi(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!a?U1(o,c):an(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function xR(e){return Array.from(e.getClientRects())}function bR(e){const t=dn(e),r=yd(e),n=e.ownerDocument.body,s=Qt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Qt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+xd(e);const l=-r.scrollTop;return Fr(n).direction==="rtl"&&(o+=Qt(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}const Ky=25;function wR(e,t){const r=Zt(e),n=dn(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const d=ig();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=xd(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,v=Math.abs(n.clientWidth-f.clientWidth-p);v<=Ky&&(a-=v)}else u<=Ky&&(a+=u);return{width:a,height:o,x:l,y:c}}const _R=new Set(["absolute","fixed"]);function SR(e,t){const r=ga(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=ln(e)?xi(e):an(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function Gy(e,t,r){let n;if(t==="viewport")n=wR(e,r);else if(t==="document")n=bR(dn(e));else if($r(t))n=SR(t,r);else{const s=q1(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Eu(n)}function B1(e,t){const r=Es(e);return r===t||!$r(r)||Ki(r)?!1:Fr(r).position==="fixed"||B1(r,t)}function jR(e,t){const r=t.get(e);if(r)return r;let n=fl(e,[],!1).filter(l=>$r(l)&&ao(l)!=="body"),s=null;const a=Fr(e).position==="fixed";let o=a?Es(e):e;for(;$r(o)&&!Ki(o);){const l=Fr(o),c=ag(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&_R.has(s.position)||Ml(o)&&!c&&B1(e,o))?n=n.filter(d=>d!==o):s=l,o=Es(o)}return t.set(e,n),n}function NR(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?vd(t)?[]:jR(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=Gy(t,d,s);return u.top=Qt(f.top,u.top),u.right=Cs(f.right,u.right),u.bottom=Cs(f.bottom,u.bottom),u.left=Qt(f.left,u.left),u},Gy(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function CR(e){const{width:t,height:r}=F1(e);return{width:t,height:r}}function ER(e,t,r){const n=ln(t),s=dn(t),a=r==="fixed",o=ga(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=an(0);function u(){c.x=xd(s)}if(n||!n&&!a)if((ao(t)!=="body"||Ml(s))&&(l=yd(t)),n){const p=ga(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?U1(s,l):an(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Lf(e){return Fr(e).position==="static"}function Qy(e,t){if(!ln(e)||Fr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return dn(e)===r&&(r=r.ownerDocument.body),r}function z1(e,t){const r=Zt(e);if(vd(e))return r;if(!ln(e)){let s=Es(e);for(;s&&!Ki(s);){if($r(s)&&!Lf(s))return s;s=Es(s)}return r}let n=Qy(e,t);for(;n&&cR(n)&&Lf(n);)n=Qy(n,t);return n&&Ki(n)&&Lf(n)&&!ag(n)?r:n||pR(e)||r}const kR=async function(e){const t=this.getOffsetParent||z1,r=this.getDimensions,n=await r(e.floating);return{reference:ER(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function TR(e){return Fr(e).direction==="rtl"}const PR={convertOffsetParentRelativeRectToViewportRelativeRect:yR,getDocumentElement:dn,getClippingRect:NR,getOffsetParent:z1,getElementRects:kR,getClientRects:xR,getDimensions:CR,getScale:xi,isElement:$r,isRTL:TR};function H1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function RR(e,t){let r=null,n;const s=dn(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const v=pc(f),g=pc(s.clientWidth-(d+h)),b=pc(s.clientHeight-(f+p)),x=pc(d),w={rootMargin:-v+"px "+-g+"px "+-b+"px "+-x+"px",threshold:Qt(0,Cs(1,c))||1};let _=!0;function S(j){const N=j[0].intersectionRatio;if(N!==c){if(!_)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!H1(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return o(!0),a}function AR(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=og(e),d=s||a?[...u?fl(u):[],...fl(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),a&&x.addEventListener("resize",r)});const f=u&&l?RR(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let v,g=c?ga(e):null;c&&b();function b(){const x=ga(e);g&&!H1(g,x)&&r(),g=x,v=requestAnimationFrame(b)}return r(),()=>{var x;d.forEach(y=>{s&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const OR=nR,DR=sR,IR=eR,MR=iR,LR=tR,Yy=ZP,$R=aR,FR=(e,t,r)=>{const n=new Map,s={platform:PR,...r},a={...s.platform,_c:n};return JP(e,t,{...s,platform:a})};var qR=typeof document<"u",UR=function(){},Hc=qR?m.useLayoutEffect:UR;function ku(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ku(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!ku(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function W1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Xy(e,t){const r=W1(e);return Math.round(t*r)/r}function $f(e){const t=m.useRef(e);return Hc(()=>{t.current=e}),t}function BR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(n);ku(h,n)||p(n);const[v,g]=m.useState(null),[b,x]=m.useState(null),y=m.useCallback(P=>{P!==j.current&&(j.current=P,g(P))},[]),w=m.useCallback(P=>{P!==N.current&&(N.current=P,x(P))},[]),_=a||v,S=o||b,j=m.useRef(null),N=m.useRef(null),C=m.useRef(d),k=c!=null,O=$f(c),F=$f(s),T=$f(u),A=m.useCallback(()=>{if(!j.current||!N.current)return;const P={placement:t,strategy:r,middleware:h};F.current&&(P.platform=F.current),FR(j.current,N.current,P).then(L=>{const D={...L,isPositioned:T.current!==!1};R.current&&!ku(C.current,D)&&(C.current=D,Na.flushSync(()=>{f(D)}))})},[h,t,r,F,T]);Hc(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const R=m.useRef(!1);Hc(()=>(R.current=!0,()=>{R.current=!1}),[]),Hc(()=>{if(_&&(j.current=_),S&&(N.current=S),_&&S){if(O.current)return O.current(_,S,A);A()}},[_,S,A,O,k]);const M=m.useMemo(()=>({reference:j,floating:N,setReference:y,setFloating:w}),[y,w]),z=m.useMemo(()=>({reference:_,floating:S}),[_,S]),q=m.useMemo(()=>{const P={position:r,left:0,top:0};if(!z.floating)return P;const L=Xy(z.floating,d.x),D=Xy(z.floating,d.y);return l?{...P,transform:"translate("+L+"px, "+D+"px)",...W1(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:D}},[r,l,z.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:A,refs:M,elements:z,floatingStyles:q}),[d,A,M,z,q])}const zR=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Yy({element:n.current,padding:s}).fn(r):{}:n?Yy({element:n,padding:s}).fn(r):{}}}},HR=(e,t)=>({...OR(e),options:[e,t]}),WR=(e,t)=>({...DR(e),options:[e,t]}),VR=(e,t)=>({...$R(e),options:[e,t]}),KR=(e,t)=>({...IR(e),options:[e,t]}),GR=(e,t)=>({...MR(e),options:[e,t]}),QR=(e,t)=>({...LR(e),options:[e,t]}),YR=(e,t)=>({...zR(e),options:[e,t]});var XR="Arrow",V1=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(ne.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});V1.displayName=XR;var JR=V1;function ZR(e){const[t,r]=m.useState(void 0);return nt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var lg="Popper",[K1,Os]=nr(lg),[eA,G1]=K1(lg),Q1=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return i.jsx(eA,{scope:t,anchor:n,onAnchorChange:s,children:r})};Q1.displayName=lg;var Y1="PopperAnchor",X1=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=G1(Y1,r),o=m.useRef(null),l=fe(t,o),c=m.useRef(null);return m.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:i.jsx(ne.div,{...s,ref:l})});X1.displayName=Y1;var cg="PopperContent",[tA,rA]=K1(cg),J1=m.forwardRef((e,t)=>{var K,ve,Ce,ye,pe,xe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...g}=e,b=G1(cg,r),[x,y]=m.useState(null),w=fe(t,He=>y(He)),[_,S]=m.useState(null),j=ZR(_),N=(j==null?void 0:j.width)??0,C=(j==null?void 0:j.height)??0,k=n+(a!=="center"?"-"+a:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(u)?u:[u],T=F.length>0,A={padding:O,boundary:F.filter(sA),altBoundary:T},{refs:R,floatingStyles:M,placement:z,isPositioned:q,middlewareData:P}=BR({strategy:"fixed",placement:k,whileElementsMounted:(...He)=>AR(...He,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[HR({mainAxis:s+C,alignmentAxis:o}),c&&WR({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?VR():void 0,...A}),c&&KR({...A}),GR({...A,apply:({elements:He,rects:bt,availableWidth:Hr,availableHeight:gr})=>{const{width:Wr,height:hn}=bt.reference,Ra=He.floating.style;Ra.setProperty("--radix-popper-available-width",`${Hr}px`),Ra.setProperty("--radix-popper-available-height",`${gr}px`),Ra.setProperty("--radix-popper-anchor-width",`${Wr}px`),Ra.setProperty("--radix-popper-anchor-height",`${hn}px`)}}),_&&YR({element:_,padding:l}),aA({arrowWidth:N,arrowHeight:C}),h&&QR({strategy:"referenceHidden",...A})]}),[L,D]=t_(z),B=Je(v);nt(()=>{q&&(B==null||B())},[q,B]);const V=(K=P.arrow)==null?void 0:K.x,Z=(ve=P.arrow)==null?void 0:ve.y,ee=((Ce=P.arrow)==null?void 0:Ce.centerOffset)!==0,[me,Ne]=m.useState();return nt(()=>{x&&Ne(window.getComputedStyle(x).zIndex)},[x]),i.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:q?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(ye=P.transformOrigin)==null?void 0:ye.x,(pe=P.transformOrigin)==null?void 0:pe.y].join(" "),...((xe=P.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(tA,{scope:r,placedSide:L,onArrowChange:S,arrowX:V,arrowY:Z,shouldHideArrow:ee,children:i.jsx(ne.div,{"data-side":L,"data-align":D,...g,ref:w,style:{...g.style,animation:q?void 0:"none"}})})})});J1.displayName=cg;var Z1="PopperArrow",nA={top:"bottom",right:"left",bottom:"top",left:"right"},e_=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=rA(Z1,n),o=nA[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(JR,{...s,ref:r,style:{...s.style,display:"block"}})})});e_.displayName=Z1;function sA(e){return e!==null}var aA=e=>({name:"transformOrigin",options:e,fn(t){var b,x,y;const{placement:r,rects:n,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=t_(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let v="",g="";return u==="bottom"?(v=o?f:`${h}px`,g=`${-c}px`):u==="top"?(v=o?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=o?f:`${p}px`):u==="left"&&(v=`${n.floating.width+c}px`,g=o?f:`${p}px`),{data:{x:v,y:g}}}});function t_(e){const[t,r="center"]=e.split("-");return[t,r]}var bd=Q1,Ll=X1,wd=J1,_d=e_,iA=Symbol("radix.slottable");function oA(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=iA,t}var[Sd]=nr("Tooltip",[Os]),jd=Os(),r_="TooltipProvider",lA=700,pp="tooltip.open",[cA,ug]=Sd(r_),n_=e=>{const{__scopeTooltip:t,delayDuration:r=lA,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,o=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(cA,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};n_.displayName=r_;var hl="Tooltip",[uA,Nd]=Sd(hl),s_=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=ug(hl,e.__scopeTooltip),u=jd(t),[d,f]=m.useState(null),h=dr(),p=m.useRef(0),v=o??c.disableHoverableContent,g=l??c.delayDuration,b=m.useRef(!1),[x,y]=pr({prop:n,defaultProp:s??!1,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(pp))):c.onClose(),a==null||a(N)},caller:hl}),w=m.useMemo(()=>x?b.current?"delayed-open":"instant-open":"closed",[x]),_=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,y(!0)},[y]),S=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),j=m.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,y(!0),p.current=0},g)},[g,y]);return m.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),i.jsx(bd,{...u,children:i.jsx(uA,{scope:t,contentId:h,open:x,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayedRef.current?j():_()},[c.isOpenDelayedRef,j,_]),onTriggerLeave:m.useCallback(()=>{v?S():(window.clearTimeout(p.current),p.current=0)},[S,v]),onOpen:_,onClose:S,disableHoverableContent:v,children:r})})};s_.displayName=hl;var mp="TooltipTrigger",a_=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Nd(mp,r),a=ug(mp,r),o=jd(r),l=m.useRef(null),c=fe(t,l,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(Ll,{asChild:!0,...o,children:i.jsx(ne.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Y(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Y(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Y(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Y(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Y(e.onBlur,s.onClose),onClick:Y(e.onClick,s.onClose)})})});a_.displayName=mp;var dA="TooltipPortal",[t6,fA]=Sd(dA,{forceMount:void 0}),Gi="TooltipContent",i_=m.forwardRef((e,t)=>{const r=fA(Gi,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,o=Nd(Gi,e.__scopeTooltip);return i.jsx(Pt,{present:n||o.open,children:o.disableHoverableContent?i.jsx(o_,{side:s,...a,ref:t}):i.jsx(hA,{side:s,...a,ref:t})})}),hA=m.forwardRef((e,t)=>{const r=Nd(Gi,e.__scopeTooltip),n=ug(Gi,e.__scopeTooltip),s=m.useRef(null),a=fe(t,s),[o,l]=m.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=m.useCallback(()=>{l(null),f(!1)},[f]),p=m.useCallback((v,g)=>{const b=v.currentTarget,x={x:v.clientX,y:v.clientY},y=yA(x,b.getBoundingClientRect()),w=xA(x,y),_=bA(g.getBoundingClientRect()),S=_A([...w,..._]);l(S),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const v=b=>p(b,d),g=b=>p(b,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[c,d,p,h]),m.useEffect(()=>{if(o){const v=g=>{const b=g.target,x={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),w=!wA(x,o);y?h():w&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,h]),i.jsx(o_,{...e,ref:a})}),[pA,mA]=Sd(hl,{isInside:!1}),gA=oA("TooltipContent"),o_=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=Nd(Gi,r),u=jd(r),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(pp,d),()=>document.removeEventListener(pp,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(Ea,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(wd,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(gA,{children:n}),i.jsx(pA,{scope:r,isInside:!0,children:i.jsx(T2,{id:c.contentId,role:"tooltip",children:s||n})})]})})});i_.displayName=Gi;var l_="TooltipArrow",vA=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=jd(r);return mA(l_,r).isInside?null:i.jsx(_d,{...s,...n,ref:t})});vA.displayName=l_;function yA(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function xA(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function bA(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function wA(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function _A(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),SA(t)}function SA(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var jA=n_,NA=s_,CA=a_,c_=i_;const dg=jA,u_=NA,d_=CA,fg=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(c_,{ref:n,sideOffset:t,className:U("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));fg.displayName=c_.displayName;var io=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},EA={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ns,tm,y0,kA=(y0=class{constructor(){re(this,ns,EA);re(this,tm,!1)}setTimeoutProvider(e){Q(this,ns,e)}setTimeout(e,t){return E(this,ns).setTimeout(e,t)}clearTimeout(e){E(this,ns).clearTimeout(e)}setInterval(e,t){return E(this,ns).setInterval(e,t)}clearInterval(e){E(this,ns).clearInterval(e)}},ns=new WeakMap,tm=new WeakMap,y0),Xs=new kA;function TA(e){setTimeout(e,0)}var va=typeof window>"u"||"Deno"in globalThis;function St(){}function PA(e,t){return typeof e=="function"?e(t):e}function gp(e){return typeof e=="number"&&e>=0&&e!==1/0}function f_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ss(e,t){return typeof e=="function"?e(t):e}function ir(e,t){return typeof e=="function"?e(t):e}function Jy(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==hg(o,t.options))return!1}else if(!pl(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function Zy(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(ya(t.options.mutationKey)!==ya(a))return!1}else if(!pl(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function hg(e,t){return((t==null?void 0:t.queryKeyHashFn)||ya)(e)}function ya(e){return JSON.stringify(e,(t,r)=>vp(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function pl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>pl(e[r],t[r])):!1}var RA=Object.prototype.hasOwnProperty;function h_(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=ex(e)&&ex(t);if(!n&&!(vp(e)&&vp(t)))return t;const a=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=n?d:o[d],h=e[f],p=t[f];if(h===p){c[f]=h,(n?d<a:RA.call(e,f))&&u++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){c[f]=p;continue}const v=h_(h,p,r+1);c[f]=v,v===h&&u++}return a===l&&u===a?e:c}function Tu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function ex(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function vp(e){if(!tx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!tx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function tx(e){return Object.prototype.toString.call(e)==="[object Object]"}function AA(e){return new Promise(t=>{Xs.setTimeout(t,e)})}function yp(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?h_(e,t):t}function OA(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function DA(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var pg=Symbol();function p_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===pg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function mg(e,t){return typeof e=="function"?e(...t):!!e}function IA(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var Zs,ss,Ni,x0,MA=(x0=class extends io{constructor(){super();re(this,Zs);re(this,ss);re(this,Ni);Q(this,Ni,t=>{if(!va&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){E(this,ss)||this.setEventListener(E(this,Ni))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,ss))==null||t.call(this),Q(this,ss,void 0))}setEventListener(t){var r;Q(this,Ni,t),(r=E(this,ss))==null||r.call(this),Q(this,ss,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){E(this,Zs)!==t&&(Q(this,Zs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof E(this,Zs)=="boolean"?E(this,Zs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Zs=new WeakMap,ss=new WeakMap,Ni=new WeakMap,x0),gg=new MA;function xp(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var LA=TA;function $A(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=LA;const a=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Xe=$A(),Ci,as,Ei,b0,FA=(b0=class extends io{constructor(){super();re(this,Ci,!0);re(this,as);re(this,Ei);Q(this,Ei,t=>{if(!va&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){E(this,as)||this.setEventListener(E(this,Ei))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,as))==null||t.call(this),Q(this,as,void 0))}setEventListener(t){var r;Q(this,Ei,t),(r=E(this,as))==null||r.call(this),Q(this,as,t(this.setOnline.bind(this)))}setOnline(t){E(this,Ci)!==t&&(Q(this,Ci,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return E(this,Ci)}},Ci=new WeakMap,as=new WeakMap,Ei=new WeakMap,b0),Pu=new FA;function qA(e){return Math.min(1e3*2**e,3e4)}function m_(e){return(e??"online")==="online"?Pu.isOnline():!0}var bp=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function g_(e){let t=!1,r=0,n;const s=xp(),a=()=>s.status!=="pending",o=g=>{var b;if(!a()){const x=new bp(g);h(x),(b=e.onCancel)==null||b.call(e,x)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>gg.isFocused()&&(e.networkMode==="always"||Pu.isOnline())&&e.canRun(),d=()=>m_(e.networkMode)&&e.canRun(),f=g=>{a()||(n==null||n(),s.resolve(g))},h=g=>{a()||(n==null||n(),s.reject(g))},p=()=>new Promise(g=>{var b;n=x=>{(a()||u())&&g(x)},(b=e.onPause)==null||b.call(e)}).then(()=>{var g;n=void 0,a()||(g=e.onContinue)==null||g.call(e)}),v=()=>{if(a())return;let g;const b=r===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var j;if(a())return;const y=e.retry??(va?0:3),w=e.retryDelay??qA,_=typeof w=="function"?w(r,x):w,S=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,x);if(t||!S){h(x);return}r++,(j=e.onFail)==null||j.call(e,r,x),AA(_).then(()=>u()?void 0:p()).then(()=>{t?h(x):v()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():p().then(v),s)}}var ea,w0,v_=(w0=class{constructor(){re(this,ea)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gp(this.gcTime)&&Q(this,ea,Xs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(va?1/0:5*60*1e3))}clearGcTimeout(){E(this,ea)&&(Xs.clearTimeout(E(this,ea)),Q(this,ea,void 0))}},ea=new WeakMap,w0),ta,ki,ar,ra,st,Sl,na,kr,gn,_0,UA=(_0=class extends v_{constructor(t){super();re(this,kr);re(this,ta);re(this,ki);re(this,ar);re(this,ra);re(this,st);re(this,Sl);re(this,na);Q(this,na,!1),Q(this,Sl,t.defaultOptions),this.setOptions(t.options),this.observers=[],Q(this,ra,t.client),Q(this,ar,E(this,ra).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Q(this,ta,nx(this.options)),this.state=t.state??E(this,ta),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=E(this,st))==null?void 0:t.promise}setOptions(t){if(this.options={...E(this,Sl),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=nx(this.options);r.data!==void 0&&(this.setState(rx(r.data,r.dataUpdatedAt)),Q(this,ta,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,ar).remove(this)}setData(t,r){const n=yp(this.state.data,t,this.options);return ue(this,kr,gn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ue(this,kr,gn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=E(this,st))==null?void 0:n.promise;return(s=E(this,st))==null||s.cancel(t),r?r.then(St).catch(St):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,ta))}isActive(){return this.observers.some(t=>ir(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ss(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!f_(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=E(this,st))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=E(this,st))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),E(this,ar).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(E(this,st)&&(E(this,na)?E(this,st).cancel({revert:!0}):E(this,st).cancelRetry()),this.scheduleGc()),E(this,ar).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ue(this,kr,gn).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,v,g,b,x,y,w;if(this.state.fetchStatus!=="idle"&&((c=E(this,st))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(E(this,st))return E(this,st).continueRetry(),E(this,st).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(S=>S.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Q(this,na,!0),n.signal)})},a=()=>{const _=p_(this.options,r),j=(()=>{const N={client:E(this,ra),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return Q(this,na,!1),this.options.persister?this.options.persister(_,j,this):_(j)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:E(this,ra),state:this.state,fetchFn:a};return s(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),Q(this,ki,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ue(this,kr,gn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Q(this,st,g_({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof bp&&_.revert&&this.setState({...E(this,ki),fetchStatus:"idle"}),n.abort()},onFail:(_,S)=>{ue(this,kr,gn).call(this,{type:"failed",failureCount:_,error:S})},onPause:()=>{ue(this,kr,gn).call(this,{type:"pause"})},onContinue:()=>{ue(this,kr,gn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await E(this,st).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(h=E(this,ar).config).onSuccess)==null||p.call(h,_,this),(g=(v=E(this,ar).config).onSettled)==null||g.call(v,_,this.state.error,this),_}catch(_){if(_ instanceof bp){if(_.silent)return E(this,st).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw ue(this,kr,gn).call(this,{type:"error",error:_}),(x=(b=E(this,ar).config).onError)==null||x.call(b,_,this),(w=(y=E(this,ar).config).onSettled)==null||w.call(y,this.state.data,_,this),_}finally{this.scheduleGc()}}},ta=new WeakMap,ki=new WeakMap,ar=new WeakMap,ra=new WeakMap,st=new WeakMap,Sl=new WeakMap,na=new WeakMap,kr=new WeakSet,gn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...y_(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...rx(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Q(this,ki,t.manual?s:void 0),s;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Xe.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),E(this,ar).notify({query:this,type:"updated",action:t})})},_0);function y_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:m_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function rx(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function nx(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ot,ge,jl,wt,sa,Ti,Sn,is,Nl,Pi,Ri,aa,ia,os,Ai,we,Po,wp,_p,Sp,jp,Np,Cp,Ep,x_,S0,BA=(S0=class extends io{constructor(t,r){super();re(this,we);re(this,Ot);re(this,ge);re(this,jl);re(this,wt);re(this,sa);re(this,Ti);re(this,Sn);re(this,is);re(this,Nl);re(this,Pi);re(this,Ri);re(this,aa);re(this,ia);re(this,os);re(this,Ai,new Set);this.options=r,Q(this,Ot,t),Q(this,is,null),Q(this,Sn,xp()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,ge).addObserver(this),sx(E(this,ge),this.options)?ue(this,we,Po).call(this):this.updateResult(),ue(this,we,jp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kp(E(this,ge),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kp(E(this,ge),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ue(this,we,Np).call(this),ue(this,we,Cp).call(this),E(this,ge).removeObserver(this)}setOptions(t){const r=this.options,n=E(this,ge);if(this.options=E(this,Ot).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ir(this.options.enabled,E(this,ge))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ue(this,we,Ep).call(this),E(this,ge).setOptions(this.options),r._defaulted&&!Tu(this.options,r)&&E(this,Ot).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,ge),observer:this});const s=this.hasListeners();s&&ax(E(this,ge),n,this.options,r)&&ue(this,we,Po).call(this),this.updateResult(),s&&(E(this,ge)!==n||ir(this.options.enabled,E(this,ge))!==ir(r.enabled,E(this,ge))||Ss(this.options.staleTime,E(this,ge))!==Ss(r.staleTime,E(this,ge)))&&ue(this,we,wp).call(this);const a=ue(this,we,_p).call(this);s&&(E(this,ge)!==n||ir(this.options.enabled,E(this,ge))!==ir(r.enabled,E(this,ge))||a!==E(this,os))&&ue(this,we,Sp).call(this,a)}getOptimisticResult(t){const r=E(this,Ot).getQueryCache().build(E(this,Ot),t),n=this.createResult(r,t);return HA(this,n)&&(Q(this,wt,n),Q(this,Ti,this.options),Q(this,sa,E(this,ge).state)),n}getCurrentResult(){return E(this,wt)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&E(this,Sn).status==="pending"&&E(this,Sn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){E(this,Ai).add(t)}getCurrentQuery(){return E(this,ge)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=E(this,Ot).defaultQueryOptions(t),n=E(this,Ot).getQueryCache().build(E(this,Ot),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ue(this,we,Po).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,wt)))}createResult(t,r){var k;const n=E(this,ge),s=this.options,a=E(this,wt),o=E(this,sa),l=E(this,Ti),u=t!==n?t.state:E(this,jl),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const O=this.hasListeners(),F=!O&&sx(t,r),T=O&&ax(t,n,r,s);(F||T)&&(f={...f,...y_(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:b}=f;p=f.data;let x=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let O;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(O=a.data,x=!0):O=typeof r.placeholderData=="function"?r.placeholderData((k=E(this,Ri))==null?void 0:k.state.data,E(this,Ri)):r.placeholderData,O!==void 0&&(b="success",p=yp(a==null?void 0:a.data,O,r),h=!0)}if(r.select&&p!==void 0&&!x)if(a&&p===(o==null?void 0:o.data)&&r.select===E(this,Nl))p=E(this,Pi);else try{Q(this,Nl,r.select),p=r.select(p),p=yp(a==null?void 0:a.data,p,r),Q(this,Pi,p),Q(this,is,null)}catch(O){Q(this,is,O)}E(this,is)&&(v=E(this,is),p=E(this,Pi),g=Date.now(),b="error");const y=f.fetchStatus==="fetching",w=b==="pending",_=b==="error",S=w&&y,j=p!==void 0,C={status:b,fetchStatus:f.fetchStatus,isPending:w,isSuccess:b==="success",isError:_,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:_&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&j,isStale:vg(t,r),refetch:this.refetch,promise:E(this,Sn),isEnabled:ir(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=C.data!==void 0,F=C.status==="error"&&!O,T=M=>{F?M.reject(C.error):O&&M.resolve(C.data)},A=()=>{const M=Q(this,Sn,C.promise=xp());T(M)},R=E(this,Sn);switch(R.status){case"pending":t.queryHash===n.queryHash&&T(R);break;case"fulfilled":(F||C.data!==R.value)&&A();break;case"rejected":(!F||C.error!==R.reason)&&A();break}}return C}updateResult(){const t=E(this,wt),r=this.createResult(E(this,ge),this.options);if(Q(this,sa,E(this,ge).state),Q(this,Ti,this.options),E(this,sa).data!==void 0&&Q(this,Ri,E(this,ge)),Tu(r,t))return;Q(this,wt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!E(this,Ai).size)return!0;const o=new Set(a??E(this,Ai));return this.options.throwOnError&&o.add("error"),Object.keys(E(this,wt)).some(l=>{const c=l;return E(this,wt)[c]!==t[c]&&o.has(c)})};ue(this,we,x_).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ue(this,we,jp).call(this)}},Ot=new WeakMap,ge=new WeakMap,jl=new WeakMap,wt=new WeakMap,sa=new WeakMap,Ti=new WeakMap,Sn=new WeakMap,is=new WeakMap,Nl=new WeakMap,Pi=new WeakMap,Ri=new WeakMap,aa=new WeakMap,ia=new WeakMap,os=new WeakMap,Ai=new WeakMap,we=new WeakSet,Po=function(t){ue(this,we,Ep).call(this);let r=E(this,ge).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(St)),r},wp=function(){ue(this,we,Np).call(this);const t=Ss(this.options.staleTime,E(this,ge));if(va||E(this,wt).isStale||!gp(t))return;const n=f_(E(this,wt).dataUpdatedAt,t)+1;Q(this,aa,Xs.setTimeout(()=>{E(this,wt).isStale||this.updateResult()},n))},_p=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,ge)):this.options.refetchInterval)??!1},Sp=function(t){ue(this,we,Cp).call(this),Q(this,os,t),!(va||ir(this.options.enabled,E(this,ge))===!1||!gp(E(this,os))||E(this,os)===0)&&Q(this,ia,Xs.setInterval(()=>{(this.options.refetchIntervalInBackground||gg.isFocused())&&ue(this,we,Po).call(this)},E(this,os)))},jp=function(){ue(this,we,wp).call(this),ue(this,we,Sp).call(this,ue(this,we,_p).call(this))},Np=function(){E(this,aa)&&(Xs.clearTimeout(E(this,aa)),Q(this,aa,void 0))},Cp=function(){E(this,ia)&&(Xs.clearInterval(E(this,ia)),Q(this,ia,void 0))},Ep=function(){const t=E(this,Ot).getQueryCache().build(E(this,Ot),this.options);if(t===E(this,ge))return;const r=E(this,ge);Q(this,ge,t),Q(this,jl,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},x_=function(t){Xe.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(E(this,wt))}),E(this,Ot).getQueryCache().notify({query:E(this,ge),type:"observerResultsUpdated"})})},S0);function zA(e,t){return ir(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function sx(e,t){return zA(e,t)||e.state.data!==void 0&&kp(e,t,t.refetchOnMount)}function kp(e,t,r){if(ir(t.enabled,e)!==!1&&Ss(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&vg(e,t)}return!1}function ax(e,t,r,n){return(e!==t||ir(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&vg(e,r)}function vg(e,t){return ir(t.enabled,e)!==!1&&e.isStaleByTime(Ss(t.staleTime,e))}function HA(e,t){return!Tu(e.getCurrentResult(),t)}function ix(e){return{onFetch:(t,r)=>{var d,f,h,p,v;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const b=w=>{IA(w,()=>t.signal,()=>g=!0)},x=p_(t.options,t.fetchOptions),y=async(w,_,S)=>{if(g)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const F={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return b(F),F})(),C=await x(N),{maxPages:k}=t.options,O=S?DA:OA;return{pages:O(w.pages,C,k),pageParams:O(w.pageParams,_,k)}};if(s&&a.length){const w=s==="backward",_=w?WA:ox,S={pages:a,pageParams:o},j=_(n,S);l=await y(S,j,w)}else{const w=e??a.length;do{const _=c===0?o[0]??n.initialPageParam:ox(n,l);if(c>0&&_==null)break;l=await y(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,b;return(b=(g=t.options).persister)==null?void 0:b.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function ox(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function WA(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Cl,Gr,gt,oa,Qr,Qn,j0,VA=(j0=class extends v_{constructor(t){super();re(this,Qr);re(this,Cl);re(this,Gr);re(this,gt);re(this,oa);Q(this,Cl,t.client),this.mutationId=t.mutationId,Q(this,gt,t.mutationCache),Q(this,Gr,[]),this.state=t.state||b_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){E(this,Gr).includes(t)||(E(this,Gr).push(t),this.clearGcTimeout(),E(this,gt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Q(this,Gr,E(this,Gr).filter(r=>r!==t)),this.scheduleGc(),E(this,gt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){E(this,Gr).length||(this.state.status==="pending"?this.scheduleGc():E(this,gt).remove(this))}continue(){var t;return((t=E(this,oa))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,p,v,g,b,x,y,w,_,S,j,N;const r=()=>{ue(this,Qr,Qn).call(this,{type:"continue"})},n={client:E(this,Cl),meta:this.options.meta,mutationKey:this.options.mutationKey};Q(this,oa,g_({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,k)=>{ue(this,Qr,Qn).call(this,{type:"failed",failureCount:C,error:k})},onPause:()=>{ue(this,Qr,Qn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,gt).canRun(this)}));const s=this.state.status==="pending",a=!E(this,oa).canStart();try{if(s)r();else{ue(this,Qr,Qn).call(this,{type:"pending",variables:t,isPaused:a}),E(this,gt).config.onMutate&&await E(this,gt).config.onMutate(t,this,n);const k=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t,n));k!==this.state.context&&ue(this,Qr,Qn).call(this,{type:"pending",context:k,variables:t,isPaused:a})}const C=await E(this,oa).start();return await((u=(c=E(this,gt).config).onSuccess)==null?void 0:u.call(c,C,t,this.state.context,this,n)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,C,t,this.state.context,n)),await((p=(h=E(this,gt).config).onSettled)==null?void 0:p.call(h,C,null,this.state.variables,this.state.context,this,n)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,C,null,t,this.state.context,n)),ue(this,Qr,Qn).call(this,{type:"success",data:C}),C}catch(C){try{await((x=(b=E(this,gt).config).onError)==null?void 0:x.call(b,C,t,this.state.context,this,n))}catch(k){Promise.reject(k)}try{await((w=(y=this.options).onError)==null?void 0:w.call(y,C,t,this.state.context,n))}catch(k){Promise.reject(k)}try{await((S=(_=E(this,gt).config).onSettled)==null?void 0:S.call(_,void 0,C,this.state.variables,this.state.context,this,n))}catch(k){Promise.reject(k)}try{await((N=(j=this.options).onSettled)==null?void 0:N.call(j,void 0,C,t,this.state.context,n))}catch(k){Promise.reject(k)}throw ue(this,Qr,Qn).call(this,{type:"error",error:C}),C}finally{E(this,gt).runNext(this)}}},Cl=new WeakMap,Gr=new WeakMap,gt=new WeakMap,oa=new WeakMap,Qr=new WeakSet,Qn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Xe.batch(()=>{E(this,Gr).forEach(n=>{n.onMutationUpdate(t)}),E(this,gt).notify({mutation:this,type:"updated",action:t})})},j0);function b_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jn,Tr,El,N0,KA=(N0=class extends io{constructor(t={}){super();re(this,jn);re(this,Tr);re(this,El);this.config=t,Q(this,jn,new Set),Q(this,Tr,new Map),Q(this,El,0)}build(t,r,n){const s=new VA({client:t,mutationCache:this,mutationId:++Kl(this,El)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){E(this,jn).add(t);const r=mc(t);if(typeof r=="string"){const n=E(this,Tr).get(r);n?n.push(t):E(this,Tr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(E(this,jn).delete(t)){const r=mc(t);if(typeof r=="string"){const n=E(this,Tr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&E(this,Tr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=mc(t);if(typeof r=="string"){const n=E(this,Tr).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=mc(t);if(typeof r=="string"){const s=(n=E(this,Tr).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Xe.batch(()=>{E(this,jn).forEach(t=>{this.notify({type:"removed",mutation:t})}),E(this,jn).clear(),E(this,Tr).clear()})}getAll(){return Array.from(E(this,jn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Zy(r,n))}findAll(t={}){return this.getAll().filter(r=>Zy(t,r))}notify(t){Xe.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Xe.batch(()=>Promise.all(t.map(r=>r.continue().catch(St))))}},jn=new WeakMap,Tr=new WeakMap,El=new WeakMap,N0);function mc(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Nn,ls,Dt,Cn,Rn,Wc,Tp,C0,GA=(C0=class extends io{constructor(r,n){super();re(this,Rn);re(this,Nn);re(this,ls);re(this,Dt);re(this,Cn);Q(this,Nn,r),this.setOptions(n),this.bindMethods(),ue(this,Rn,Wc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=E(this,Nn).defaultMutationOptions(r),Tu(this.options,n)||E(this,Nn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,Dt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ya(n.mutationKey)!==ya(this.options.mutationKey)?this.reset():((s=E(this,Dt))==null?void 0:s.state.status)==="pending"&&E(this,Dt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=E(this,Dt))==null||r.removeObserver(this)}onMutationUpdate(r){ue(this,Rn,Wc).call(this),ue(this,Rn,Tp).call(this,r)}getCurrentResult(){return E(this,ls)}reset(){var r;(r=E(this,Dt))==null||r.removeObserver(this),Q(this,Dt,void 0),ue(this,Rn,Wc).call(this),ue(this,Rn,Tp).call(this)}mutate(r,n){var s;return Q(this,Cn,n),(s=E(this,Dt))==null||s.removeObserver(this),Q(this,Dt,E(this,Nn).getMutationCache().build(E(this,Nn),this.options)),E(this,Dt).addObserver(this),E(this,Dt).execute(r)}},Nn=new WeakMap,ls=new WeakMap,Dt=new WeakMap,Cn=new WeakMap,Rn=new WeakSet,Wc=function(){var n;const r=((n=E(this,Dt))==null?void 0:n.state)??b_();Q(this,ls,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Tp=function(r){Xe.batch(()=>{var n,s,a,o,l,c,u,d;if(E(this,Cn)&&this.hasListeners()){const f=E(this,ls).variables,h=E(this,ls).context,p={client:E(this,Nn),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(s=(n=E(this,Cn)).onSuccess)==null||s.call(n,r.data,f,h,p)}catch(v){Promise.reject(v)}try{(o=(a=E(this,Cn)).onSettled)==null||o.call(a,r.data,null,f,h,p)}catch(v){Promise.reject(v)}}else if((r==null?void 0:r.type)==="error"){try{(c=(l=E(this,Cn)).onError)==null||c.call(l,r.error,f,h,p)}catch(v){Promise.reject(v)}try{(d=(u=E(this,Cn)).onSettled)==null||d.call(u,void 0,r.error,f,h,p)}catch(v){Promise.reject(v)}}}this.listeners.forEach(f=>{f(E(this,ls))})})},C0),Yr,E0,QA=(E0=class extends io{constructor(t={}){super();re(this,Yr);this.config=t,Q(this,Yr,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??hg(s,r);let o=this.get(a);return o||(o=new UA({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){E(this,Yr).has(t.queryHash)||(E(this,Yr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=E(this,Yr).get(t.queryHash);r&&(t.destroy(),r===t&&E(this,Yr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return E(this,Yr).get(t)}getAll(){return[...E(this,Yr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Jy(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Jy(t,n)):r}notify(t){Xe.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Xe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Yr=new WeakMap,E0),Fe,cs,us,Oi,Di,ds,Ii,Mi,k0,YA=(k0=class{constructor(e={}){re(this,Fe);re(this,cs);re(this,us);re(this,Oi);re(this,Di);re(this,ds);re(this,Ii);re(this,Mi);Q(this,Fe,e.queryCache||new QA),Q(this,cs,e.mutationCache||new KA),Q(this,us,e.defaultOptions||{}),Q(this,Oi,new Map),Q(this,Di,new Map),Q(this,ds,0)}mount(){Kl(this,ds)._++,E(this,ds)===1&&(Q(this,Ii,gg.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,Fe).onFocus())})),Q(this,Mi,Pu.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,Fe).onOnline())})))}unmount(){var e,t;Kl(this,ds)._--,E(this,ds)===0&&((e=E(this,Ii))==null||e.call(this),Q(this,Ii,void 0),(t=E(this,Mi))==null||t.call(this),Q(this,Mi,void 0))}isFetching(e){return E(this,Fe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return E(this,cs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=E(this,Fe).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=E(this,Fe).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ss(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return E(this,Fe).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=E(this,Fe).get(n.queryHash),a=s==null?void 0:s.state.data,o=PA(t,a);if(o!==void 0)return E(this,Fe).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Xe.batch(()=>E(this,Fe).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=E(this,Fe).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=E(this,Fe);Xe.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=E(this,Fe);return Xe.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Xe.batch(()=>E(this,Fe).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(St).catch(St)}invalidateQueries(e,t={}){return Xe.batch(()=>(E(this,Fe).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Xe.batch(()=>E(this,Fe).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(St)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(St)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=E(this,Fe).build(this,t);return r.isStaleByTime(Ss(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(St).catch(St)}fetchInfiniteQuery(e){return e.behavior=ix(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(St).catch(St)}ensureInfiniteQueryData(e){return e.behavior=ix(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Pu.isOnline()?E(this,cs).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,Fe)}getMutationCache(){return E(this,cs)}getDefaultOptions(){return E(this,us)}setDefaultOptions(e){Q(this,us,e)}setQueryDefaults(e,t){E(this,Oi).set(ya(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...E(this,Oi).values()],r={};return t.forEach(n=>{pl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){E(this,Di).set(ya(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...E(this,Di).values()],r={};return t.forEach(n=>{pl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...E(this,us).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=hg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===pg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...E(this,us).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){E(this,Fe).clear(),E(this,cs).clear()}},Fe=new WeakMap,cs=new WeakMap,us=new WeakMap,Oi=new WeakMap,Di=new WeakMap,ds=new WeakMap,Ii=new WeakMap,Mi=new WeakMap,k0),w_=m.createContext(void 0),Rt=e=>{const t=m.useContext(w_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},XA=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(w_.Provider,{value:e,children:t})),__=m.createContext(!1),JA=()=>m.useContext(__);__.Provider;function ZA(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var eO=m.createContext(ZA()),tO=()=>m.useContext(eO),rO=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?mg(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},nO=e=>{m.useEffect(()=>{e.clearReset()},[e])},sO=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||mg(r,[e.error,n])),aO=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},iO=(e,t)=>e.isLoading&&e.isFetching&&!t,oO=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,lx=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function lO(e,t,r){var h,p,v,g;const n=JA(),s=tO(),a=Rt(),o=a.defaultQueryOptions(e);(p=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,o);const l=a.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",aO(o),rO(o,s,l),nO(s);const c=!a.getQueryCache().get(o.queryHash),[u]=m.useState(()=>new t(a,o)),d=u.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(b=>{const x=f?u.subscribe(Xe.batchCalls(b)):St;return u.updateResult(),x},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),m.useEffect(()=>{u.setOptions(o)},[o,u]),oO(o,d))throw lx(o,u,s);if(sO({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;if((g=(v=a.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||g.call(v,o,d),o.experimental_prefetchInRender&&!va&&iO(d,n)){const b=c?lx(o,u,s):l==null?void 0:l.promise;b==null||b.catch(St).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function Be(e,t){return lO(e,BA)}function de(e,t){const r=Rt(),[n]=m.useState(()=>new GA(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(o=>n.subscribe(Xe.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=m.useCallback((o,l)=>{n.mutate(o,l).catch(St)},[n]);if(s.error&&mg(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ru.apply(this,arguments)}var ps;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ps||(ps={}));const cx="popstate";function cO(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return Pp("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:j_(s)}return dO(t,r,null,e)}function Ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function S_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uO(){return Math.random().toString(36).substr(2,8)}function ux(e,t){return{usr:e.state,key:e.key,idx:t}}function Pp(e,t,r,n){return r===void 0&&(r=null),Ru({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cd(t):t,{state:r,key:t&&t.key||n||uO()})}function j_(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function dO(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=ps.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Ru({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ps.Pop;let b=d(),x=b==null?null:b-u;u=b,c&&c({action:l,location:g.location,delta:x})}function h(b,x){l=ps.Push;let y=Pp(g.location,b,x);u=d()+1;let w=ux(y,u),_=g.createHref(y);try{o.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}a&&c&&c({action:l,location:g.location,delta:1})}function p(b,x){l=ps.Replace;let y=Pp(g.location,b,x);u=d();let w=ux(y,u),_=g.createHref(y);o.replaceState(w,"",_),a&&c&&c({action:l,location:g.location,delta:0})}function v(b){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof b=="string"?b:j_(b);return y=y.replace(/ $/,"%20"),Ht(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let g={get action(){return l},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(cx,f),c=b,()=>{s.removeEventListener(cx,f),c=null}},createHref(b){return t(s,b)},createURL:v,encodeLocation(b){let x=v(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(b){return o.go(b)}};return g}var dx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dx||(dx={}));function fO(e,t,r){return r===void 0&&(r="/"),hO(e,t,r)}function hO(e,t,r,n){let s=typeof t=="string"?Cd(t):t,a=E_(s.pathname||"/",r);if(a==null)return null;let o=N_(e);pO(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=CO(a);l=SO(o[c],u)}return l}function N_(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Ht(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=bi([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Ht(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),N_(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:wO(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of C_(a.path))s(a,o,c)}),t}function C_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=C_(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function pO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:_O(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const mO=/^:[\w-]+$/,gO=3,vO=2,yO=1,xO=10,bO=-2,fx=e=>e==="*";function wO(e,t){let r=e.split("/"),n=r.length;return r.some(fx)&&(n+=bO),t&&(n+=vO),r.filter(s=>!fx(s)).reduce((s,a)=>s+(mO.test(a)?gO:a===""?yO:xO),n)}function _O(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function SO(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=jO({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:bi([a,f.pathname]),pathnameBase:EO(bi([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=bi([a,f.pathnameBase]))}return o}function jO(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=NO(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=l[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[f];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function NO(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),S_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function CO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return S_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function E_(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const bi=e=>e.join("/").replace(/\/\/+/g,"/"),EO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function kO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const k_=["post","put","patch","delete"];new Set(k_);const TO=["get",...k_];new Set(TO);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Au(){return Au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Au.apply(this,arguments)}const PO=m.createContext(null),RO=m.createContext(null),T_=m.createContext(null),Ed=m.createContext(null),kd=m.createContext({outlet:null,matches:[],isDataRoute:!1}),P_=m.createContext(null);function yg(){return m.useContext(Ed)!=null}function R_(){return yg()||Ht(!1),m.useContext(Ed).location}function AO(e,t){return OO(e,t)}function OO(e,t,r,n){yg()||Ht(!1);let{navigator:s}=m.useContext(T_),{matches:a}=m.useContext(kd),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=R_(),d;if(t){var f;let b=typeof t=="string"?Cd(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Ht(!1),d=b}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=fO(e,{pathname:p}),g=$O(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:bi([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:bi([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return t&&g?m.createElement(Ed.Provider,{value:{location:Au({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ps.Pop}},g):g}function DO(){let e=BO(),t=kO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const IO=m.createElement(DO,null);class MO extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(kd.Provider,{value:this.props.routeContext},m.createElement(P_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LO(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(PO);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(kd.Provider,{value:t},n)}function $O(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Ht(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,v=!1,g=null,b=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||IO,c&&(u<0&&h===0?(zO("route-fallback"),v=!0,b=null):u===h&&(v=!0,b=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),y=()=>{let w;return p?w=g:v?w=b:f.route.Component?w=m.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,m.createElement(LO,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(MO,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var A_=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(A_||{});function FO(e){let t=m.useContext(RO);return t||Ht(!1),t}function qO(e){let t=m.useContext(kd);return t||Ht(!1),t}function UO(e){let t=qO(),r=t.matches[t.matches.length-1];return r.route.id||Ht(!1),r.route.id}function BO(){var e;let t=m.useContext(P_),r=FO(A_.UseRouteError),n=UO();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}const hx={};function zO(e,t,r){hx[e]||(hx[e]=!0)}function HO(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Rp(e){Ht(!1)}function WO(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ps.Pop,navigator:a,static:o=!1,future:l}=e;yg()&&Ht(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:a,static:o,future:Au({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Cd(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:v="default"}=n,g=m.useMemo(()=>{let b=E_(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:v},navigationType:s}},[c,d,f,h,p,v,s]);return g==null?null:m.createElement(T_.Provider,{value:u},m.createElement(Ed.Provider,{children:r,value:g}))}function VO(e){let{children:t,location:r}=e;return AO(Ap(t),r)}new Promise(()=>{});function Ap(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let a=[...t,s];if(n.type===m.Fragment){r.push.apply(r,Ap(n.props.children,a));return}n.type!==Rp&&Ht(!1),!n.props.index||!n.props.children||Ht(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ap(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const KO="6";try{window.__reactRouterVersion=KO}catch{}const GO="startTransition",px=Gu[GO];function QO(e){let{basename:t,children:r,future:n,window:s}=e,a=m.useRef();a.current==null&&(a.current=cO({window:s,v5Compat:!0}));let o=a.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=m.useCallback(f=>{u&&px?px(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.useEffect(()=>HO(n),[n]),m.createElement(WO,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var mx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mx||(mx={}));var gx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gx||(gx={}));var Jr=function(){return Jr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Jr.apply(this,arguments)};function oo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function YO(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function XO(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}const JO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class xg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class ZO extends xg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class vx extends xg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class yx extends xg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Op;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Op||(Op={}));class e4{constructor(t,{headers:r={},customFetch:n,region:s=Op.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=JO(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return YO(this,arguments,void 0,function*(r,n={}){var s;let a,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const v=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?g=JSON.stringify(u):g=u;let b=d;f&&(o=new AbortController,a=setTimeout(()=>o.abort(),f),d?(b=o.signal,d.addEventListener("abort",()=>o.abort())):b=o.signal);const x=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:g,signal:b}).catch(S=>{throw new ZO(S)}),y=x.headers.get("x-relay-error");if(y&&y==="true")throw new vx(x);if(!x.ok)throw new yx(x);let w=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield x.json():w==="application/octet-stream"||w==="application/pdf"?_=yield x.blob():w==="text/event-stream"?_=x:w==="multipart/form-data"?_=yield x.formData():_=yield x.text(),{data:_,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof yx||l instanceof vx?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var t4=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},r4=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,l=null,c=null,u=a.status,d=a.statusText;if(a.ok){var f,h;if(r.method!=="HEAD"){var p;const x=await a.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=x:l=JSON.parse(x))}const g=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),b=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&b&&b.length>1&&(c=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var v;const g=await a.text();try{o=JSON.parse(g),Array.isArray(o)&&a.status===404&&(l=[],o=null,u=200,d="OK")}catch{a.status===404&&g===""?(u=204,d="No Content"):o={message:g}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new t4(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(a=>{var o;let l="";const c=a==null?void 0:a.cause;if(c){var u,d,f,h;const v=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",g=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=a==null?void 0:a.name)!==null&&f!==void 0?f:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${v}`,g&&(l+=` (${g})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=a==null?void 0:a.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},n4=class extends r4{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const xx=new RegExp("[,()]");var Ka=class extends n4{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&xx.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&xx.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},s4=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new Ka({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:a,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);a.searchParams.set("columns",c.join(","))}}return new Ka({method:s,url:a,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var a;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new Ka({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new Ka({method:n,url:s,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Ka({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},a4=class O_{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new s4(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new O_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{c.searchParams.append(p,v)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&h.set("Prefer",`count=${a}`),new Ka({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class i4{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const o4="2.93.3",l4=`realtime-js/${o4}`,c4="1.0.0",D_="2.0.0",bx=D_,Dp=1e4,u4=1e3,d4=100;var Zn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Zn||(Zn={}));var Qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Qe||(Qe={}));var Rr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Rr||(Rr={}));var Ip;(function(e){e.websocket="websocket"})(Ip||(Ip={}));var Vs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Vs||(Vs={}));class f4{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,a;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(p),g=0;v.setUint8(g++,this.KINDS.userBroadcastPush),v.setUint8(g++,c.length),v.setUint8(g++,l.length),v.setUint8(g++,o.length),v.setUint8(g++,u.length),v.setUint8(g++,f.length),v.setUint8(g++,r),Array.from(c,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(l,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(o,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(u,x=>v.setUint8(g++,x.charCodeAt(0))),Array.from(f,x=>v.setUint8(g++,x.charCodeAt(0)));var b=new Uint8Array(p.byteLength+n.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(n),p.byteLength),b.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,a,o,l,c]=n;return r({join_ref:s,ref:a,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+a));c=c+a;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,v={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class I_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ee||(Ee={}));const wx=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=h4(o,e,t,s),a),{}):{}},h4=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?M_(a,o):Mp(o)},M_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return v4(t,r)}switch(e){case Ee.bool:return p4(t);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return m4(t);case Ee.json:case Ee.jsonb:return g4(t);case Ee.timestamp:return y4(t);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return Mp(t);default:return Mp(t)}},Mp=e=>e,p4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},m4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},g4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},v4=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>M_(t,l))}return e},y4=e=>typeof e=="string"?e.replace(" ","T"):e,L_=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ff{constructor(t,r,n={},s=Dp){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _x;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(_x||(_x={}));class Ho{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ho.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=Ho.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ho.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const h=d.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),v=d.filter(b=>p.indexOf(b.presence_ref)<0),g=f.filter(b=>h.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Sx||(Sx={}));var Wo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Wo||(Wo={}));var wn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wn||(wn={}));class ci{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ff(this,Rr.join,this.params,this.timeout),this.rejoinTimer=new I_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rr.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Ho(this),this.broadcastEndpointURL=L_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Wo.PRESENCE]&&this.bindings[Wo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(wn.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(wn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(wn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,b=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,x=[];for(let y=0;y<b;y++){const w=g[y],{filter:{event:_,schema:S,table:j,filter:N}}=w,C=p&&p[y];if(C&&C.event===_&&ci.isFilterValueEqual(C.schema,S)&&ci.isFilterValueEqual(C.table,j)&&ci.isFilterValueEqual(C.filter,N))x.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=Qe.errored,t==null||t(wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(wn.SUBSCRIBED);return}}).receive("error",p=>{this.state=Qe.errored,t==null||t(wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Qe.joined&&t===Wo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Qe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ff(this,Rr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ff(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>d4){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Rr;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,g,b;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var v,g,b,x,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,S=(v=p.filter)===null||v===void 0?void 0:v.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(y=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:g,table:b,commit_timestamp:x,type:y,errors:w}=v;h=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:x,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&ci.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Rr.close,{},t)}_onError(t){this._on(Rr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=wx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=wx(t.columns,t.old_record)),r}}const qf=()=>{},gc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},x4=[1e3,2e3,5e3,1e4],b4=1e4,w4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _4{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dp,this.transport=null,this.heartbeatIntervalMs=gc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qf,this.ref=0,this.reconnectTimer=null,this.vsn=bx,this.logger=qf,this.conn=null,this.sendBuffer=[],this.serializer=new f4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Ip.websocket}`,this.httpEndpoint=L_(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=i4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Zn.connecting:return Vs.Connecting;case Zn.open:return Vs.Open;case Zn.closing:return Vs.Closing;default:return Vs.Closed}}isConnected(){return this.connectionState()===Vs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new ci(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(u4,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},gc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Zn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Zn.open||this.conn.readyState===Zn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Rr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([w4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:l4};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(Rr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new I_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,o,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Dp,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:gc.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:qf,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:bx,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>x4[v-1]||b4,this.vsn){case c4:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,g)=>g(JSON.stringify(v)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(v,g)=>g(JSON.parse(v));break;case D_:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ml=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function S4(e,t,r){const n=new URL(t,e);if(r)for(const[s,a]of Object.entries(r))a!==void 0&&n.searchParams.set(s,a);return n.toString()}async function j4(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function N4(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:a,headers:o}){const l=S4(e.baseUrl,n,s),c=await j4(e.auth),u=await t(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,v=p==null?void 0:p.error;throw new ml((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function vc(e){return e.join("")}var C4=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:vc(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vc(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vc(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vc(e.namespace)}`}),!0}catch(t){if(t instanceof ml&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ml&&r.status===409)return;throw r}}};function Ma(e){return e.join("")}var E4=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ma(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ma(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ma(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ma(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ma(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ma(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ml&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ml&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},k4=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=N4({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new C4(this.client,t),this.tableOps=new E4(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Td=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Pd(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var yc=class extends Td{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$_=class extends Td{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const T4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),P4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Lp=e=>{if(Array.isArray(e))return e.map(r=>Lp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Lp(n)}),t},R4=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function A4(e,t){if(gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O4(e){var t=A4(e,"string");return gl(t)=="symbol"?t:t+""}function D4(e,t,r){return(t=O4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jx(Object(r),!0).forEach(function(n){D4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Nx=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},I4=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,a=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new yc(Nx(o),a,l,n))}).catch(()=>{if(n==="vectors"){const o=a+"";t(new yc(s.statusText||`HTTP ${a} error`,a,o,n))}else{const o=a+"";t(new yc(s.statusText||`HTTP ${a} error`,a,o,n))}});else{const o=a+"";t(new yc(s.statusText||`HTTP ${a} error`,a,o,n))}}else t(new $_(Nx(e),e,n))},M4=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?ae(ae({},s),r):(P4(n)?(s.headers=ae({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),ae(ae({},s),r))};async function So(e,t,r,n,s,a,o){return new Promise((l,c)=>{e(r,M4(t,n,s,a)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>I4(u,c,n,o))})}function F_(e="storage"){return{get:async(t,r,n,s)=>So(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,a)=>So(t,"POST",r,s,a,n,e),put:async(t,r,n,s,a)=>So(t,"PUT",r,s,a,n,e),head:async(t,r,n,s)=>So(t,"HEAD",r,ae(ae({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,a)=>So(t,"DELETE",r,s,a,n,e)}}const L4=F_("storage"),{get:vl,post:Nr,put:$p,head:$4,remove:bg}=L4,Yt=F_("vectors");var lo=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=T4(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pd(r))return{data:null,error:r};throw r}}},F4=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Pd(t))return{data:null,error:t};throw t}}};let q_;q_=Symbol.toStringTag;var q4=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[q_]="BlobDownloadBuilder",this.promise=null}asStream(){return new F4(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Pd(t))return{data:null,error:t};throw t}}};const U4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var B4=class extends lo{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let a;const o=ae(ae({},Cx),n);let l=ae(ae({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",s.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=ae(ae({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?$p:Nr)(s.fetch,`${s.url}/object/${d}`,a,ae({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const a=s._removeEmptyFolders(e),o=s._getFinalPath(a),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=ae({upsert:Cx.upsert},n),d=ae(ae({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:a,fullPath:(await $p(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=ae({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=await Nr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+a.url),l=o.searchParams.get("token");if(!l)throw new Td("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Nr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Nr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),a=await Nr(n.fetch,`${n.url}/object/sign/${s}`,ae({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${a.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await Nr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>ae(ae({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${a}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",a=this._getFinalPath(e),o=()=>vl(this.fetch,`${this.url}/${r}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new q4(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Lp(await vl(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await $4(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Pd(n)&&n instanceof $_){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await bg(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=ae(ae(ae({},U4),t),{},{prefix:e||""});return await Nr(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=ae({},e);return await Nr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const z4="2.93.3",$l={"X-Client-Info":`storage-js/${z4}`};var H4=class extends lo{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const a=s.href.replace(/\/$/,""),o=ae(ae({},$l),t);super(a,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await vl(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await vl(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Nr(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await $p(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Nr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await bg(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},W4=class extends lo{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=ae(ae({},$l),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Nr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await vl(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await bg(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!R4(e))throw new Td("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new k4({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,a){const o=s[a];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},V4=class extends lo{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=ae(ae({},$l),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Yt.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Yt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Yt.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Yt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},K4=class extends lo{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=ae(ae({},$l),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Yt.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Yt.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Yt.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Yt.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Yt.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},G4=class extends lo{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=ae(ae({},$l),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Yt.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Yt.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Yt.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Yt.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Q4=class extends G4{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Y4(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Y4=class extends V4{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,ae(ae({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,ae(ae({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new X4(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},X4=class extends K4{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,ae(ae({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,ae(ae({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,ae(ae({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,ae(ae({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,ae(ae({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},J4=class extends H4{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new B4(this.url,this.headers,e,this.fetch)}get vectors(){return new Q4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new W4(this.url+"/iceberg",this.headers,this.fetch)}};const U_="2.93.3",Ga=30*1e3,Fp=3,Uf=Fp*Ga,Z4="http://localhost:9999",eD="supabase.auth.token",tD={"X-Client-Info":`gotrue-js/${U_}`},qp="X-Supabase-Api-Version",B_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nD=10*60*1e3;class yl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class sD extends yl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function aD(e){return te(e)&&e.name==="AuthApiError"}class Ks extends yl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Fn extends yl{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Kt extends Fn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bf(e){return te(e)&&e.name==="AuthSessionMissingError"}class La extends Fn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xc extends Fn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class bc extends Fn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iD(e){return te(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ex extends Fn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oD extends Fn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Up extends Fn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function zf(e){return te(e)&&e.name==="AuthRetryableFetchError"}class kx extends Fn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bp extends Fn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ou="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tx=` 	
\r=`.split(""),lD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Tx.length;t+=1)e[Tx[t].charCodeAt(0)]=-2;for(let t=0;t<Ou.length;t+=1)e[Ou[t].charCodeAt(0)]=t;return e})();function Px(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ou[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ou[n]),t.queuedBits-=6}}function z_(e,t,r){const n=lD[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Rx(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{dD(o,n,r)};for(let o=0;o<e.length;o+=1)z_(e.charCodeAt(o),s,a);return t.join("")}function cD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function uD(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}cD(n,t)}}function dD(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function wi(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)z_(e.charCodeAt(s),r,n);return new Uint8Array(t)}function fD(e){const t=[];return uD(e,r=>t.push(r)),new Uint8Array(t)}function Js(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Px(s,r,n)),Px(null,r,n),t.join("")}function hD(e){return Math.round(Date.now()/1e3)+e}function pD(){return Symbol("auth-callback")}const ct=()=>typeof window<"u"&&typeof document<"u",qs={tested:!1,writable:!1},H_=()=>{if(!ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qs.tested)return qs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),qs.tested=!0,qs.writable=!0}catch{qs.tested=!0,qs.writable=!1}return qs.writable};function mD(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const W_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qa=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Us=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},lt=async(e,t)=>{await e.removeItem(t)};class Rd{constructor(){this.promise=new Rd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Rd.promiseConstructor=Promise;function wc(e){const t=e.split(".");if(t.length!==3)throw new Bp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!rD.test(t[n]))throw new Bp("JWT not in base64url format");return{header:JSON.parse(Rx(t[0])),payload:JSON.parse(Rx(t[1])),signature:wi(t[2]),raw:{header:t[0],payload:t[1]}}}async function vD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function yD(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function xD(e){return("0"+e.toString(16)).substr(-2)}function bD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,xD).join("")}async function wD(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function _D(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await wD(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $a(e,t,r=!1){const n=bD();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Qa(e,`${t}-code-verifier`,s);const a=await _D(n);return[a,n===a?"plain":"s256"]}const SD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jD(e){const t=e.headers.get(qp);if(!t||!t.match(SD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ND(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function CD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ED=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fa(e){if(!ED.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hf(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kD(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Ax(e){return JSON.parse(JSON.stringify(e))}const Hs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),TD=[502,503,504];async function Ox(e){var t;if(!gD(e))throw new Up(Hs(e),0);if(TD.includes(e.status))throw new Up(Hs(e),e.status);let r;try{r=await e.json()}catch(a){throw new Ks(Hs(a),a)}let n;const s=jD(e);if(s&&s.getTime()>=B_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new kx(Hs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Kt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new kx(Hs(r),e.status,r.weak_password.reasons);throw new sD(Hs(r),e.status||500,n)}const PD=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function se(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[qp]||(a[qp]=B_["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await RD(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function RD(e,t,r,n,s,a){const o=PD(t,n,s,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Up(Hs(c),0)}if(l.ok||await Ox(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Ox(c)}}function _r(e){var t;let r=null;DD(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=hD(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Dx(e){const t=_r(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function rs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function AD(e){return{data:e,error:null}}function OD(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=oo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Ix(e){return e}function DD(e){return e.access_token&&e.refresh_token&&e.expires_in}const Wf=["global","local","others"];class ID{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=W_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Wf[0]){if(Wf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wf.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:rs})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=oo(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:OD,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:rs})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Ix});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(te(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Fa(t);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:rs})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Fa(t);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:rs})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Fa(t);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:rs})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Fa(t.userId);try{const{data:r,error:n}=await se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Fa(t.userId),Fa(t.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Ix});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(te(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}}function Mx(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const qa={debug:!!(globalThis&&H_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class V_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class MD extends V_{}async function LD(e,t,r){qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),qa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new MD(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function $D(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function K_(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function FD(e){return parseInt(e,16)}function qD(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function UD(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=K_(e.address),v=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${p}

${g}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}x+=y}return`${b}
${x}`}class We extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Du extends We{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function BD({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new We({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new We({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new We({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new We({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new We({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new We({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new We({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new We({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(G_(o)){if(a.rp.id!==o)return new We({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new We({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function zD({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new We({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new We({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(G_(n)){if(r.rpId!==n)return new We({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class HD{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const WD=new HD;function VD(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=oo(e,["challenge","user","excludeCredentials"]),a=wi(t).buffer,o=Object.assign(Object.assign({},r),{id:wi(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:wi(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function KD(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=oo(e,["challenge","allowCredentials"]),s=wi(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:wi(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function GD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Js(new Uint8Array(e.response.attestationObject)),clientDataJSON:Js(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function QD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Js(new Uint8Array(s.authenticatorData)),clientDataJSON:Js(new Uint8Array(s.clientDataJSON)),signature:Js(new Uint8Array(s.signature)),userHandle:s.userHandle?Js(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function G_(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Lx(){var e,t;return!!(ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function YD(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Du("Browser returned unexpected credential type",t)}:{data:null,error:new Du("Empty credential response",t)}}catch(t){return{data:null,error:BD({error:t,options:e})}}}async function XD(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Du("Browser returned unexpected credential type",t)}:{data:null,error:new Du("Empty credential response",t)}}catch(t){return{data:null,error:zD({error:t,options:e})}}}const JD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ZD={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Iu(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const o=s[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const l=n[a];t(l)?n[a]=Iu(l,o):n[a]=Iu(o)}else n[a]=o}return n}function eI(e,t){return Iu(JD,e,t||{})}function tI(e,t){return Iu(ZD,e,t||{})}class rI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=s??WD.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const p=(await this.client.getUser()).data.user,v=((o=p==null?void 0:p.user_metadata)===null||o===void 0?void 0:o.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";d.name=`${d.id}:${v}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=eI(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:f,error:h}=await YD({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=tI(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:f,error:h}=await XD(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return te(l)?{data:null,error:l}:{data:null,error:new Ks("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new yl("rpId is required for WebAuthn authentication")};try{if(!Lx())return{data:null,error:new Ks("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return te(o)?{data:null,error:o}:{data:null,error:new Ks("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new yl("rpId is required for WebAuthn registration")};try{if(!Lx())return{data:null,error:new Ks("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return te(o)?{data:null,error:o}:{data:null,error:new Ks("Unexpected error in register",o)}}}}$D();const nI={url:Z4,storageKey:eD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function $x(e,t,r){return await r()}const Ua={};class xl{get jwks(){var t,r;return(r=(t=Ua[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ua[this.storageKey]=Object.assign(Object.assign({},Ua[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ua[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ua[this.storageKey]=Object.assign(Object.assign({},Ua[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},nI),t);if(this.storageKey=a.storageKey,this.instanceID=(r=xl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,xl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&ct()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new ID({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=W_(a.fetch),this.lock=a.lock||$x,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&ct()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=LD:this.lock=$x,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new rI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:H_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mx(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Mx(this.memoryStorage)),ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${U_}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(ct()&&(r=mD(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ct()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),iD(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return te(r)?this._returnResult({error:r}):this._returnResult({error:new Ks("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:_r}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await $a(this.storage,this.storageKey)),a=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:_r})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:_r})}else throw new xc("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await lt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await lt(this.storage,`${this.storageKey}-code-verifier`),te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dx})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dx})}else throw new xc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const a=new La;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,o,l,c,u,d,f,h;let p,v;if("message"in t)p=t.message,v=t.signature;else{const{chain:g,wallet:b,statement:x,options:y}=t;let w;if(ct())if(typeof b=="object")w=b;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")w=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=K_(S[0]);let N=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const k=await w.request({method:"eth_chainId"});N=FD(k)}const C={domain:_.host,address:j,statement:x,uri:_.href,version:"1",chainId:N,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=UD(C),v=await w.request({method:"personal_sign",params:[qD(p),j]})}try{const{data:g,error:b}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:_r});if(b)throw b;if(!g||!g.session||!g.user){const x=new La;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:b})}catch(g){if(te(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,s,a,o,l,c,u,d,f,h,p;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:b,wallet:x,statement:y,options:w}=t;let _;if(ct())if(typeof x=="object")_=x;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let N;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")N=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)N=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)v=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),g=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=j}}try{const{data:b,error:x}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Js(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:_r});if(x)throw x;if(!b||!b.session||!b.user){const y=new La;return this._returnResult({data:{user:null,session:null},error:y})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:x})}catch(b){if(te(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await Us(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new oD;const{data:a,error:o}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:_r});if(await lt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new La;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(await lt(this.storage,`${this.storageKey}-code-verifier`),te(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:_r}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new La;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await $a(this.storage,this.storageKey));const{error:f}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new xc("You must provide either an email or phone number.")}catch(l){if(await lt(this.storage,`${this.storageKey}-code-verifier`),te(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:_r});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(te(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,a,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await $a(this.storage,this.storageKey));const u=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:AD});return!((a=u.data)===null||a===void 0)&&a.url&&ct()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await lt(this.storage,`${this.storageKey}-code-verifier`),te(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Kt;const{error:s}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(te(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await se(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await se(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new xc("You must provide either an email or phone number and a type")}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Us(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Uf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Us(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Hf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=kD(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:rs}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:rs})})}catch(r){if(te(r))return Bf(r)&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Kt;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await $a(this.storage,this.storageKey));const{data:u,error:d}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:rs});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await lt(this.storage,`${this.storageKey}-code-verifier`),te(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Kt;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=wc(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Kt;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ct())throw new bc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ex("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ex("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new bc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Ga&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:g,error:b}=await this._getUser(a);if(b)throw b;const x={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(n){if(te(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Us(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a&&!Bf(a))return this._returnResult({error:a});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(aD(l)&&(l.status===404||l.status===401||l.status===403)||Bf(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=pD(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await $a(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await lt(this.storage,`${this.storageKey}-code-verifier`),te(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ct()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(te(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_r}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new La}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(s){if(await lt(this.storage,`${this.storageKey}-code-verifier`),te(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await yD(async s=>(s>0&&await vD(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_r})),(s,a)=>{const o=200*Math.pow(2,s);return a&&zf(a)&&Date.now()+o-n<Ga})}catch(n){if(this._debug(r,"error",n),te(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ct()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Us(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Us(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Qa(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Hf()}else if(s&&!s.user&&!s.user){const o=await Us(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await lt(this.storage,this.storageKey+"-user"),await Qa(this.storage,this.storageKey,s)):s.user=Hf()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Uf;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Uf}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),zf(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Rd;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Kt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),te(a)){const o={data:null,error:a};return zf(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await lt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Qa(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=Ax(s);await Qa(this.storage,this.storageKey,a)}else{const s=Ax(r);await Qa(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await lt(this.storage,this.storageKey),await lt(this.storage,this.storageKey+"-code-verifier"),await lt(this.storage,this.storageKey+"-user"),this.userStorage&&await lt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ga);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Ga);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ga}ms, refresh threshold is ${Fp} ticks`),s<=Fp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof V_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await $a(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?this._returnResult({data:null,error:a}):await se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await se(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?GD(t.webauthn.credential_response):QD(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:VD(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:KD(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,a;if(t)try{const{payload:p}=wc(t);let v=null;p.aal&&(v=p.aal);let g=v;const{data:{user:b},error:x}=await this.getUser(t);if(x)return this._returnResult({data:null,error:x});((n=(r=b==null?void 0:b.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const w=p.amr||[];return{data:{currentLevel:v,nextLevel:g,currentAuthenticationMethods:w},error:null}}catch(p){if(te(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=wc(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((a=(s=o.user.factors)===null||s===void 0?void 0:s.filter(p=>p.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Kt})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Kt});const o=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ct()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Kt});const o=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ct()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Kt})})}catch(t){if(te(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Kt})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+nD>s)return n;const{data:a,error:o}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});n=p.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=wc(n);r!=null&&r.allowExpired||ND(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:s,signature:o},error:null}}const d=CD(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,fD(`${l}.${c}`)))throw new Bp("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}}xl.nextInstanceID={};const sI=xl,aI="2.93.3";let Ro="";typeof Deno<"u"?Ro="deno":typeof document<"u"?Ro="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ro="react-native":Ro="node";const iI={"X-Client-Info":`supabase-js-${Ro}/${aI}`},oI={headers:iI},lI={schema:"public"},cI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uI={};function bl(e){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(e)}function dI(e,t){if(bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fI(e){var t=dI(e,"string");return bl(t)=="symbol"?t:t+""}function hI(e,t,r){return(t=fI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fx(Object(r),!0).forEach(function(n){hI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const pI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),mI=()=>Headers,gI=(e,t,r)=>{const n=pI(r),s=mI();return async(a,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,qe(qe({},o),{},{headers:u}))}};function vI(e){return e.endsWith("/")?e:e+"/"}function yI(e,t){var r,n;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:qe(qe({},c),s),auth:qe(qe({},u),a),realtime:qe(qe({},d),o),storage:{},global:qe(qe(qe({},f),l),{},{headers:qe(qe({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function xI(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vI(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var bI=class extends sI{constructor(e){super(e)}},wI=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const a=xI(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:lI,realtime:uI,auth:qe(qe({},cI),{},{storageKey:o}),global:oI},c=yI(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=gI(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(qe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new a4(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new J4(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new e4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:a,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bI({url:this.authUrl.href,headers:qe(qe({},h),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new _4(this.realtimeUrl.href,qe(qe({},e),{},{params:qe(qe({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const _I=(e,t,r)=>new wI(e,t,r);function SI(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}SI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qx="https://ljqcnvsethddhaxvytlm.supabase.co",jI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqcWNudnNldGhkZGhheHZ5dGxtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAyMzU1MDUsImV4cCI6MjA4NTgxMTUwNX0.Mjxh-OD-bSUg9nNqD8TW_3C0yQuEogcR2MA-OFlYn3o",NI=qx.startsWith("http")?qx:"https://placeholder-project.supabase.co",CI=jI,I=_I(NI,CI,{auth:{storage:typeof window<"u"?window.localStorage:void 0,persistSession:!0,autoRefreshToken:!0}}),Q_=m.createContext(void 0);function EI({children:e}){const[t,r]=m.useState(null),[n,s]=m.useState(null),[a,o]=m.useState(!0);m.useEffect(()=>{const{data:{subscription:f}}=I.auth.onAuthStateChange((h,p)=>{s(p),r((p==null?void 0:p.user)??null),o(!1)});return I.auth.getSession().then(({data:{session:h}})=>{s(h),r((h==null?void 0:h.user)??null),o(!1)}),()=>f.unsubscribe()},[]);const l=async(f,h,p)=>{try{const{error:v}=await I.auth.signUp({email:f,password:h,options:{emailRedirectTo:window.location.origin,data:{username:p}}});return{error:v}}catch(v){return{error:v}}},c=async(f,h)=>{try{const{error:p}=await I.auth.signInWithPassword({email:f,password:h});return{error:p}}catch(p){return{error:p}}},u=async()=>{try{const{error:f}=await I.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});return{error:f}}catch(f){return{error:f}}},d=async()=>{await I.auth.signOut()};return i.jsx(Q_.Provider,{value:{user:t,session:n,loading:a,signUp:l,signIn:c,signInWithGoogle:u,signOut:d},children:e})}function $e(){const e=m.useContext(Q_);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}var kI=Symbol.for("react.lazy"),Mu=Gu[" use ".trim().toString()];function TI(e){return typeof e=="object"&&e!==null&&"then"in e}function Y_(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===kI&&"_payload"in e&&TI(e._payload)}function wg(e){const t=RI(e),r=m.forwardRef((n,s)=>{let{children:a,...o}=n;Y_(a)&&typeof Mu=="function"&&(a=Mu(a._payload));const l=m.Children.toArray(a),c=l.find(OI);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var PI=wg("Slot");function RI(e){const t=m.forwardRef((r,n)=>{let{children:s,...a}=r;if(Y_(s)&&typeof Mu=="function"&&(s=Mu(s._payload)),m.isValidElement(s)){const o=II(s),l=DI(a,s.props);return s.type!==m.Fragment&&(l.ref=n?Ca(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AI=Symbol("radix.slottable");function OI(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AI}function DI(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function II(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const zp=hd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),G=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const o=n?PI:"button";return i.jsx(o,{className:U(zp({variant:t,size:r,className:e})),ref:a,...s})});G.displayName="Button";const Ke=m.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:U("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ke.displayName="Input";var MI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],LI=MI.reduce((e,t)=>{const r=wg(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),$I="Label",X_=m.forwardRef((e,t)=>i.jsx(LI.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));X_.displayName=$I;var J_=X_;const FI=hd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ya=m.forwardRef(({className:e,...t},r)=>i.jsx(J_,{ref:r,className:U(FI(),e),...t}));Ya.displayName=J_.displayName;const Ge=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:U("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ge.displayName="Card";const Ir=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:U("flex flex-col space-y-1.5 p-6",e),...t}));Ir.displayName="CardHeader";const Mr=m.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:U("text-2xl font-semibold leading-none tracking-tight",e),...t}));Mr.displayName="CardTitle";const Z_=m.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:U("text-sm text-muted-foreground",e),...t}));Z_.displayName="CardDescription";const dt=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:U("p-6 pt-0",e),...t}));dt.displayName="CardContent";const eS=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:U("flex items-center p-6 pt-0",e),...t}));eS.displayName="CardFooter";var qI=m.createContext(void 0);function Fl(e){const t=m.useContext(qI);return e||t||"ltr"}var Vf="rovingFocusGroup.onEntryFocus",UI={bubbles:!1,cancelable:!0},ql="RovingFocusGroup",[Hp,tS,BI]=ud(ql),[zI,rS]=nr(ql,[BI]),[HI,WI]=zI(ql),nS=m.forwardRef((e,t)=>i.jsx(Hp.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Hp.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(VI,{...e,ref:t})})}));nS.displayName=ql;var VI=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),p=fe(t,h),v=Fl(a),[g,b]=pr({prop:o,defaultProp:l??null,onChange:c,caller:ql}),[x,y]=m.useState(!1),w=Je(u),_=tS(r),S=m.useRef(!1),[j,N]=m.useState(0);return m.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Vf,w),()=>C.removeEventListener(Vf,w)},[w]),i.jsx(HI,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(C=>b(C),[b]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>N(C=>C+1),[]),onFocusableItemRemove:m.useCallback(()=>N(C=>C-1),[]),children:i.jsx(ne.div,{tabIndex:x||j===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Y(e.onMouseDown,()=>{S.current=!0}),onFocus:Y(e.onFocus,C=>{const k=!S.current;if(C.target===C.currentTarget&&k&&!x){const O=new CustomEvent(Vf,UI);if(C.currentTarget.dispatchEvent(O),!O.defaultPrevented){const F=_().filter(z=>z.focusable),T=F.find(z=>z.active),A=F.find(z=>z.id===g),M=[T,A,...F].filter(Boolean).map(z=>z.ref.current);iS(M,d)}}S.current=!1}),onBlur:Y(e.onBlur,()=>y(!1))})})}),sS="RovingFocusGroupItem",aS=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:o,...l}=e,c=dr(),u=a||c,d=WI(sS,r),f=d.currentTabStopId===u,h=tS(r),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:g}=d;return m.useEffect(()=>{if(n)return p(),()=>v()},[n,p,v]),i.jsx(Hp.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:i.jsx(ne.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Y(e.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:Y(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Y(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=QI(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const _=w.indexOf(b.currentTarget);w=d.loop?YI(w,_+1):w.slice(_+1)}setTimeout(()=>iS(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});aS.displayName=sS;var KI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function GI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function QI(e,t,r){const n=GI(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return KI[n]}function iS(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function YI(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var XI=nS,JI=aS,Ad="Tabs",[ZI]=nr(Ad,[rS]),oS=rS(),[e5,_g]=ZI(Ad),lS=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Fl(l),[f,h]=pr({prop:n,onChange:s,defaultProp:a??"",caller:Ad});return i.jsx(e5,{scope:r,baseId:dr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(ne.div,{dir:d,"data-orientation":o,...u,ref:t})})});lS.displayName=Ad;var cS="TabsList",uS=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=_g(cS,r),o=oS(r);return i.jsx(XI,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(ne.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});uS.displayName=cS;var dS="TabsTrigger",fS=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,o=_g(dS,r),l=oS(r),c=mS(o.baseId,n),u=gS(o.baseId,n),d=n===o.value;return i.jsx(JI,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(ne.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Y(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Y(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Y(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});fS.displayName=dS;var hS="TabsContent",pS=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=e,l=_g(hS,r),c=mS(l.baseId,n),u=gS(l.baseId,n),d=n===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Pt,{present:s||d,children:({present:h})=>i.jsx(ne.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});pS.displayName=hS;function mS(e,t){return`${e}-trigger-${t}`}function gS(e,t){return`${e}-content-${t}`}var t5=lS,vS=uS,yS=fS,xS=pS;const bS=t5,Sg=m.forwardRef(({className:e,...t},r)=>i.jsx(vS,{ref:r,className:U("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Sg.displayName=vS.displayName;const Cr=m.forwardRef(({className:e,...t},r)=>i.jsx(yS,{ref:r,className:U("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Cr.displayName=yS.displayName;const Er=m.forwardRef(({className:e,...t},r)=>i.jsx(xS,{ref:r,className:U("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Er.displayName=xS.displayName;function r5(){const{signIn:e,signUp:t,signInWithGoogle:r}=$e(),[n,s]=m.useState(!1),[a,o]=m.useState(""),[l,c]=m.useState(""),[u,d]=m.useState(""),[f,h]=m.useState(""),[p,v]=m.useState(""),g=async()=>{s(!0);const{error:y}=await r();y&&($.error(y.message),s(!1))},b=async y=>{y.preventDefault(),s(!0);const{error:w}=await e(a,l);w?$.error(w.message):$.success("Bem-vindo de volta! "),s(!1)},x=async y=>{if(y.preventDefault(),s(!0),p.length<3){$.error("O nome de usurio deve ter pelo menos 3 caracteres"),s(!1);return}const{error:w}=await t(u,f,p);w?$.error(w.message):$.success("Conta criada! Verifique seu email. "),s(!1)};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4 pattern-grid",children:i.jsxs(Ge,{className:"w-full max-w-md pixel-border shadow-xl bg-card/95 backdrop-blur",children:[i.jsxs(Ir,{className:"text-center space-y-1",children:[i.jsx(Mr,{className:"text-2xl font-bold tracking-tighter glow-text",children:"TasKLegends."}),i.jsx(Z_,{children:"Sua produtividade, gamificada."})]}),i.jsxs(dt,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs(G,{variant:"outline",onClick:g,disabled:n,className:"w-full pixel-border border-[#3d2b7a]/30 h-11 bg-white hover:bg-zinc-50 text-zinc-900 font-bold flex items-center justify-center gap-3 transition-all hover:scale-[1.01] active:scale-95",children:[i.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",style:{fill:"#4285F4"}}),i.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",style:{fill:"#34A853"}}),i.jsx("path",{fill:"currentColor",d:"M5.84 14.1c-.22-.66-.35-1.36-.35-2.1s.13-1.44.35-2.1V7.06H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.94l3.66-2.84z",style:{fill:"#FBBC05"}}),i.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.06l3.66 2.84c.87-2.6 3.3-4.52 6.16-4.52z",style:{fill:"#EA4335"}})]}),"CONTINUAR COM GOOGLE"]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t border-[#3d2b7a]/20"})}),i.jsx("div",{className:"relative flex justify-center text-[8px] uppercase font-black",children:i.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Ou use seu pergaminho"})})]})]}),i.jsxs(bS,{defaultValue:"login",className:"space-y-4",children:[i.jsxs(Sg,{className:"grid w-full grid-cols-2 pixel-border",children:[i.jsx(Cr,{value:"login",children:"Login"}),i.jsx(Cr,{value:"register",children:"Cadastro"})]}),i.jsx(Er,{value:"login",className:"space-y-4",children:i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ya,{htmlFor:"login-email",children:"Email"}),i.jsx(Ke,{id:"login-email",type:"email",placeholder:"heroi@exemplo.com",value:a,onChange:y=>o(y.target.value),required:!0,className:"pixel-border"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ya,{htmlFor:"login-password",children:"Senha"}),i.jsx(Ke,{id:"login-password",type:"password",value:l,onChange:y=>c(y.target.value),required:!0,className:"pixel-border"})]}),i.jsx(G,{type:"submit",className:"w-full pixel-button",disabled:n,children:n?"Entrando...":"Entrar na Aventura"})]})}),i.jsx(Er,{value:"register",className:"space-y-4",children:i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ya,{htmlFor:"register-username",children:"Nome de Heri"}),i.jsx(Ke,{id:"register-username",placeholder:"SuperProdutivo",value:p,onChange:y=>v(y.target.value),required:!0,className:"pixel-border"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ya,{htmlFor:"register-email",children:"Email"}),i.jsx(Ke,{id:"register-email",type:"email",placeholder:"heroi@exemplo.com",value:u,onChange:y=>d(y.target.value),required:!0,className:"pixel-border"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ya,{htmlFor:"register-password",children:"Senha"}),i.jsx(Ke,{id:"register-password",type:"password",value:f,onChange:y=>h(y.target.value),required:!0,className:"pixel-border"})]}),i.jsx(G,{type:"submit",className:"w-full pixel-button",disabled:n,children:n?"Criando Personagem...":"Comear Jornada"})]})})]})]}),i.jsx(eS,{className:"flex justify-center",children:i.jsx("p",{className:"text-xs text-muted-foreground text-center px-4",children:"Ao entrar, voc concorda em completar suas tarefas e derrotar monstros! "})})]})})}function n5(e){return Math.floor((e*e+24*e+475)/2)}function wl(e){return n5(e+1)}const Od={easy:1,medium:2,hard:3},Vc={easy:5,medium:12,hard:25},Kc={easy:2,medium:5,hard:12},Kf=3,Gf=5,s5=3,a5={apprentice:1,warrior:1.5,mage:.8,rogue:1,cleric:1,paladin:1.2},i5={apprentice:1,warrior:1,mage:1.5,rogue:1,cleric:1.2,paladin:1},o5={apprentice:0,warrior:0,mage:0,rogue:0,cleric:10,paladin:5};function l5(e,t,r,n=0){const s=Od[t]*2.5,a=a5[r],o=n*.5,l=e*s/a;return Math.max(1,Math.ceil(l-o))}function Ux(e,t=0){const r=Vc[e],n=t*.5;return Math.ceil(r+n)}function Bx(e,t=0){const r=Kc[e],n=t*.2;return Math.ceil(r+n)}function wS(e,t,r=0){const n=Od[e]*2,s=i5[t],a=r*.2;return Math.ceil(n*s+a)}function _S(e,t){const r=1+t*.02;return Math.ceil(e*r)}function c5(e,t){return t>=wl(e)}function u5(e,t){let r=e,n=t;for(;n>=wl(r);)n-=wl(r),r++;return{newLevel:r,remainingXp:n}}const jg={apprentice:{name:"Aprendiz",description:"Um aventureiro iniciante buscando seu caminho",skill:"Nenhuma habilidade ativa ainda.",icon:""},warrior:{name:"Guerreiro",description:"Reduz o dano recebido por tarefas falhadas em 50%",skill:" BALUARTE: Absorve 30% do dano que os aliados receberiam de ataques do Boss na Raid.",icon:""},mage:{name:"Mago",description:"Ganha 50% mais Mana por tarefa completada",skill:" ECO ARCANO: A cada 3 tarefas completadas, libera uma exploso que causa 50% de dano extra no Boss.",icon:""},rogue:{name:"Ladino",description:"Maior chance de drop de itens (15% bnus)",skill:" SARAIVADA: A cada 3 tarefas completadas, dispara uma rajada que causa 30% de dano extra no Boss.",icon:""},cleric:{name:"Clrigo",description:"Regenera 10 HP extra ao completar hbitos",skill:" ORAO COLETIVA: A cada 3 tarefas completadas, cura 10% do HP de TODOS os aliados na Raid.",icon:""},paladin:{name:"Paladino",description:"Perde 50% menos XP ao falhar tarefas",skill:" AURA DE SACRIFCIO: Reduz passivamente 10% do dano de todos os membros da Raid.",icon:""}},Tn=10,d5=4,f5=4,Dd={common:"text-muted-foreground border-muted-foreground",uncommon:"text-success border-success",rare:"text-[hsl(var(--mana-bar))] border-[hsl(var(--mana-bar))]",epic:"text-purple-400 border-purple-500",legendary:"text-primary border-primary"},SS={common:"Comum",uncommon:"Incomum",rare:"Raro",epic:"pico",legendary:"Lendrio"},cn=[{id:"sword-wood",name:"Espada de Madeira",description:"Uma espada de treino para iniciantes.",type:"weapon",rarity:"common",price:1e3,priceType:"gold",effects:[{attribute:"strength",value:1}],icon:""},{id:"sword-iron",name:"Espada de Ferro",description:"Uma espada bsica mas confivel.",type:"weapon",rarity:"common",price:1200,priceType:"gold",effects:[{attribute:"strength",value:2}],icon:""},{id:"sword-bronze",name:"Espada de Bronze",description:"Forjada com bronze resistente.",type:"weapon",rarity:"common",price:1400,priceType:"gold",effects:[{attribute:"strength",value:2},{attribute:"agility",value:1}],icon:""},{id:"sword-steel",name:"Espada de Ao",description:"Ao temperado de qualidade.",type:"weapon",rarity:"uncommon",price:1800,priceType:"gold",effects:[{attribute:"strength",value:3}],icon:""},{id:"sword-knight",name:"Espada de Cavaleiro",description:"Usada pelos cavaleiros reais.",type:"weapon",rarity:"uncommon",price:2200,priceType:"gold",effects:[{attribute:"strength",value:3},{attribute:"vitality",value:1}],icon:""},{id:"sword-silver",name:"Espada de Prata",description:"Eficaz contra criaturas das trevas.",type:"weapon",rarity:"uncommon",price:2500,priceType:"gold",effects:[{attribute:"strength",value:4}],icon:""},{id:"sword-gladius",name:"Gladius Romana",description:"A arma clssica dos gladiadores.",type:"weapon",rarity:"uncommon",price:10,priceType:"gems",effects:[{attribute:"strength",value:3},{attribute:"agility",value:2}],icon:""},{id:"sword-samurai",name:"Katana do Samurai",description:"Lmina oriental afiada como navalha.",type:"weapon",rarity:"rare",price:12,priceType:"gems",effects:[{attribute:"strength",value:4},{attribute:"agility",value:2}],icon:""},{id:"sword-royal",name:"Espada Real",description:"Pertencia  famlia real.",type:"weapon",rarity:"rare",price:3500,priceType:"gold",effects:[{attribute:"strength",value:5}],icon:""},{id:"sword-flame",name:"Espada Flamejante",description:"Queima com fogo eterno.",type:"weapon",rarity:"rare",price:12,priceType:"gems",effects:[{attribute:"strength",value:4},{attribute:"damage",value:5}],icon:""},{id:"sword-ice",name:"Espada Glacial",description:"Congela o ar ao redor.",type:"weapon",rarity:"rare",price:3800,priceType:"gold",effects:[{attribute:"strength",value:4},{attribute:"intelligence",value:2}],icon:""},{id:"sword-thunder",name:"Espada Trovo",description:"Carregada com energia eltrica.",type:"weapon",rarity:"rare",price:13,priceType:"gems",effects:[{attribute:"strength",value:5},{attribute:"agility",value:2}],icon:""},{id:"sword-shadow",name:"Espada das Sombras",description:"Forjada na escurido eterna.",type:"weapon",rarity:"epic",price:14,priceType:"gems",effects:[{attribute:"strength",value:5},{attribute:"agility",value:3}],icon:""},{id:"sword-holy",name:"Espada Sagrada",description:"Abenoada pelos deuses.",type:"weapon",rarity:"epic",price:4500,priceType:"gold",effects:[{attribute:"strength",value:5},{attribute:"vitality",value:3}],icon:""},{id:"sword-demon",name:"Espada Demonaca",description:"Carrega a maldio de demnios.",type:"weapon",rarity:"epic",price:15,priceType:"gems",effects:[{attribute:"strength",value:6},{attribute:"damage",value:8}],icon:""},{id:"sword-titan",name:"Espada do Tit",description:"Requer fora sobre-humana.",type:"weapon",rarity:"epic",price:15,priceType:"gems",effects:[{attribute:"strength",value:7},{attribute:"endurance",value:2}],icon:""},{id:"sword-dragon",name:"Espada do Drago",description:"Forjada com fogo de drago ancestral.",type:"weapon",rarity:"legendary",price:15,priceType:"gems",effects:[{attribute:"strength",value:8},{attribute:"damage",value:12}],icon:""},{id:"sword-excalibur",name:"Excalibur",description:"A lendria espada dos reis.",type:"weapon",rarity:"legendary",price:20,priceType:"gems",effects:[{attribute:"strength",value:10},{attribute:"vitality",value:5}],icon:""},{id:"sword-cosmic",name:"Lmina Csmica",description:"Forjada com energia das estrelas.",type:"weapon",rarity:"legendary",price:18,priceType:"gems",effects:[{attribute:"strength",value:8},{attribute:"intelligence",value:5},{attribute:"damage",value:10}],icon:""},{id:"sword-apocalypse",name:"Espada do Apocalipse",description:"Anuncia o fim dos tempos.",type:"weapon",rarity:"legendary",price:20,priceType:"gems",effects:[{attribute:"strength",value:12},{attribute:"damage",value:15}],icon:""},{id:"staff-apprentice",name:"Cajado do Aprendiz",description:"Canaliza energia mgica bsica.",type:"weapon",rarity:"common",price:1e3,priceType:"gold",effects:[{attribute:"intelligence",value:2}],icon:""},{id:"staff-oak",name:"Cajado de Carvalho",description:"Feito de madeira ancestral.",type:"weapon",rarity:"common",price:10,priceType:"gems",effects:[{attribute:"intelligence",value:2},{attribute:"endurance",value:1}],icon:""},{id:"staff-crystal",name:"Cajado de Cristal",description:"Amplifica poderes mgicos.",type:"weapon",rarity:"uncommon",price:1800,priceType:"gold",effects:[{attribute:"intelligence",value:3}],icon:""},{id:"staff-fire",name:"Cajado de Fogo",description:"Canaliza magia de fogo.",type:"weapon",rarity:"uncommon",price:12,priceType:"gems",effects:[{attribute:"intelligence",value:3},{attribute:"damage",value:3}],icon:""},{id:"staff-ice",name:"Cajado de Gelo",description:"Congela os inimigos.",type:"weapon",rarity:"uncommon",price:2200,priceType:"gold",effects:[{attribute:"intelligence",value:4}],icon:""},{id:"staff-nature",name:"Cajado da Natureza",description:"Conecta com as foras da terra.",type:"weapon",rarity:"uncommon",price:12,priceType:"gems",effects:[{attribute:"intelligence",value:3},{attribute:"vitality",value:2}],icon:""},{id:"staff-thunder",name:"Cajado do Trovo",description:"Invoca tempestades.",type:"weapon",rarity:"rare",price:3e3,priceType:"gold",effects:[{attribute:"intelligence",value:4},{attribute:"agility",value:2}],icon:""},{id:"staff-arcane",name:"Cajado Arcano",description:"Poder mgico concentrado.",type:"weapon",rarity:"rare",price:13,priceType:"gems",effects:[{attribute:"intelligence",value:5},{attribute:"mana",value:20}],icon:""},{id:"staff-necro",name:"Cajado Necromante",description:"Controla os mortos.",type:"weapon",rarity:"rare",price:3800,priceType:"gold",effects:[{attribute:"intelligence",value:5},{attribute:"damage",value:5}],icon:""},{id:"staff-void",name:"Cajado do Vazio",description:"Canaliza energia do vazio.",type:"weapon",rarity:"epic",price:14,priceType:"gems",effects:[{attribute:"intelligence",value:6},{attribute:"mana",value:30}],icon:""},{id:"staff-holy",name:"Cajado Sagrado",description:"Abenoado pelos deuses.",type:"weapon",rarity:"epic",price:4500,priceType:"gold",effects:[{attribute:"intelligence",value:6},{attribute:"vitality",value:3}],icon:""},{id:"staff-elder",name:"Cajado Ancestral",description:"Passado de gerao em gerao.",type:"weapon",rarity:"epic",price:15,priceType:"gems",effects:[{attribute:"intelligence",value:7},{attribute:"endurance",value:3}],icon:""},{id:"staff-cosmos",name:"Cajado Csmico",description:"Poder das estrelas concentrado.",type:"weapon",rarity:"legendary",price:15,priceType:"gems",effects:[{attribute:"intelligence",value:9},{attribute:"mana",value:50}],icon:""},{id:"staff-god",name:"Cajado dos Deuses",description:"Poder divino em suas mos.",type:"weapon",rarity:"legendary",price:20,priceType:"gems",effects:[{attribute:"intelligence",value:12},{attribute:"damage",value:12}],icon:""},{id:"bow-short",name:"Arco Curto",description:"Rpido mas de curto alcance.",type:"weapon",rarity:"common",price:1e3,priceType:"gold",effects:[{attribute:"agility",value:2}],icon:""},{id:"bow-hunter",name:"Arco do Caador",description:"Leve e preciso.",type:"weapon",rarity:"common",price:10,priceType:"gems",effects:[{attribute:"agility",value:2},{attribute:"strength",value:1}],icon:""},{id:"bow-long",name:"Arco Longo",description:"Grande alcance e poder.",type:"weapon",rarity:"uncommon",price:1900,priceType:"gold",effects:[{attribute:"agility",value:3}],icon:""},{id:"bow-composite",name:"Arco Composto",description:"Feito de materiais diversos.",type:"weapon",rarity:"uncommon",price:11,priceType:"gems",effects:[{attribute:"agility",value:3},{attribute:"strength",value:2}],icon:""},{id:"bow-elven",name:"Arco lfico",description:"Artesanato lfico perfeito.",type:"weapon",rarity:"uncommon",price:2700,priceType:"gold",effects:[{attribute:"agility",value:4}],icon:""},{id:"bow-war",name:"Arco de Guerra",description:"Usado em grandes batalhas.",type:"weapon",rarity:"rare",price:12,priceType:"gems",effects:[{attribute:"agility",value:4},{attribute:"damage",value:4}],icon:""},{id:"bow-shadow",name:"Arco das Sombras",description:"Dispara flechas silenciosas.",type:"weapon",rarity:"rare",price:3500,priceType:"gold",effects:[{attribute:"agility",value:5},{attribute:"damage",value:3}],icon:""},{id:"bow-phoenix",name:"Arco da Fnix",description:"Flechas de fogo purificador.",type:"weapon",rarity:"rare",price:13,priceType:"gems",effects:[{attribute:"agility",value:5},{attribute:"damage",value:5}],icon:""},{id:"bow-wind",name:"Arco do Vento",description:"Flechas guiadas pelo vento.",type:"weapon",rarity:"epic",price:14,priceType:"gems",effects:[{attribute:"agility",value:6},{attribute:"damage",value:5}],icon:""},{id:"bow-assassin",name:"Arco do Assassino",description:"Perfeito para ataques furtivos.",type:"weapon",rarity:"epic",price:4600,priceType:"gold",effects:[{attribute:"agility",value:7},{attribute:"damage",value:6}],icon:""},{id:"bow-titan",name:"Arco do Tit",description:"Fora titnica em cada disparo.",type:"weapon",rarity:"epic",price:15,priceType:"gems",effects:[{attribute:"agility",value:6},{attribute:"strength",value:4}],icon:""},{id:"bow-artemis",name:"Arco de rtemis",description:"O arco da deusa da caa.",type:"weapon",rarity:"legendary",price:15,priceType:"gems",effects:[{attribute:"agility",value:10},{attribute:"damage",value:10}],icon:""},{id:"bow-celestial",name:"Arco Celestial",description:"Dispara estrelas cadentes.",type:"weapon",rarity:"legendary",price:20,priceType:"gems",effects:[{attribute:"agility",value:12},{attribute:"damage",value:12}],icon:""},{id:"mace-iron",name:"Maa de Ferro",description:"Pesada e devastadora.",type:"weapon",rarity:"common",price:1100,priceType:"gold",effects:[{attribute:"strength",value:2}],icon:""},{id:"mace-war",name:"Maa de Guerra",description:"Usada em combates intensos.",type:"weapon",rarity:"uncommon",price:10,priceType:"gems",effects:[{attribute:"strength",value:3},{attribute:"vitality",value:1}],icon:""},{id:"mace-holy",name:"Maa Sagrada",description:"Abenoada pelos deuses.",type:"weapon",rarity:"uncommon",price:2400,priceType:"gold",effects:[{attribute:"strength",value:3},{attribute:"vitality",value:2}],icon:""},{id:"hammer-blacksmith",name:"Martelo do Ferreiro",description:"Forjado com percia.",type:"weapon",rarity:"uncommon",price:11,priceType:"gems",effects:[{attribute:"strength",value:4}],icon:""},{id:"hammer-thunder",name:"Martelo do Trovo",description:"Causa tremores ao impactar.",type:"weapon",rarity:"rare",price:3200,priceType:"gold",effects:[{attribute:"strength",value:5},{attribute:"damage",value:4}],icon:""},{id:"mace-skull",name:"Maa Caveira",description:"Decorada com crnios.",type:"weapon",rarity:"rare",price:13,priceType:"gems",effects:[{attribute:"strength",value:5},{attribute:"damage",value:5}],icon:""},{id:"hammer-war",name:"Martelo de Guerra",description:"Destruio garantida.",type:"weapon",rarity:"epic",price:4200,priceType:"gold",effects:[{attribute:"strength",value:6},{attribute:"damage",value:6}],icon:""},{id:"hammer-giant",name:"Martelo do Gigante",description:"Tamanho descomunal.",type:"weapon",rarity:"epic",price:15,priceType:"gems",effects:[{attribute:"strength",value:8},{attribute:"endurance",value:2}],icon:""},{id:"hammer-mjolnir",name:"Mjlnir",description:"O martelo dos deuses.",type:"weapon",rarity:"legendary",price:20,priceType:"gems",effects:[{attribute:"strength",value:12},{attribute:"damage",value:15}],icon:""},{id:"armor-tunic",name:"Tnica de Pano",description:"Uma simples tnica de pano para iniciantes.",type:"armor",rarity:"common",price:500,priceType:"gold",effects:[{attribute:"vitality",value:1}],icon:""},{id:"armor-cloth",name:"Vestes de Tecido",description:"Proteo mnima mas confortvel.",type:"armor",rarity:"common",price:1e3,priceType:"gold",effects:[{attribute:"vitality",value:1}],icon:""},{id:"armor-leather",name:"Armadura de Couro",description:"Proteo bsica sem perder mobilidade.",type:"armor",rarity:"common",price:10,priceType:"gems",effects:[{attribute:"vitality",value:2}],icon:""},{id:"armor-studded",name:"Couro Reforado",description:"Couro com tachas de metal.",type:"armor",rarity:"common",price:1500,priceType:"gold",effects:[{attribute:"vitality",value:2},{attribute:"endurance",value:1}],icon:""},{id:"armor-chain",name:"Cota de Malha",description:"Boa proteo contra cortes.",type:"armor",rarity:"uncommon",price:11,priceType:"gems",effects:[{attribute:"vitality",value:3}],icon:""},{id:"armor-scale",name:"Armadura de Escamas",description:"Escamas metlicas sobrepostas.",type:"armor",rarity:"uncommon",price:2300,priceType:"gold",effects:[{attribute:"vitality",value:3},{attribute:"endurance",value:1}],icon:""},{id:"armor-brigandine",name:"Brigandina",description:"Placas de metal escondidas.",type:"armor",rarity:"uncommon",price:12,priceType:"gems",effects:[{attribute:"vitality",value:4}],icon:""},{id:"armor-plate",name:"Armadura de Placas",description:"Proteo pesada para guerreiros.",type:"armor",rarity:"uncommon",price:2900,priceType:"gold",effects:[{attribute:"vitality",value:4},{attribute:"endurance",value:2}],icon:""},{id:"armor-knight",name:"Armadura de Cavaleiro",description:"Proteo completa do corpo.",type:"armor",rarity:"rare",price:13,priceType:"gems",effects:[{attribute:"vitality",value:5},{attribute:"strength",value:1}],icon:""},{id:"armor-mage",name:"Manto do Mago",description:"Tecido encantado.",type:"armor",rarity:"rare",price:3e3,priceType:"gold",effects:[{attribute:"vitality",value:3},{attribute:"intelligence",value:3}],icon:""},{id:"armor-assassin",name:"Vestes do Assassino",description:"Leve e silenciosa.",type:"armor",rarity:"rare",price:13,priceType:"gems",effects:[{attribute:"vitality",value:3},{attribute:"agility",value:3}],icon:""},{id:"armor-paladin",name:"Armadura de Paladino",description:"Proteo sagrada.",type:"armor",rarity:"rare",price:3500,priceType:"gold",effects:[{attribute:"vitality",value:5},{attribute:"endurance",value:2}],icon:""},{id:"armor-royal",name:"Armadura Real",description:"Usada pela realeza.",type:"armor",rarity:"rare",price:14,priceType:"gems",effects:[{attribute:"vitality",value:5},{attribute:"strength",value:2}],icon:""},{id:"armor-shadow",name:"Armadura das Sombras",description:"Se mistura com a escurido.",type:"armor",rarity:"epic",price:15,priceType:"gems",effects:[{attribute:"vitality",value:5},{attribute:"agility",value:3}],icon:""},{id:"armor-elemental",name:"Armadura Elemental",description:"Protege contra elementos.",type:"armor",rarity:"epic",price:4400,priceType:"gold",effects:[{attribute:"vitality",value:6},{attribute:"endurance",value:3}],icon:""},{id:"armor-battle",name:"Armadura de Batalha",description:"Forjada para a guerra.",type:"armor",rarity:"epic",price:15,priceType:"gems",effects:[{attribute:"vitality",value:6},{attribute:"strength",value:3}],icon:""},{id:"armor-titan",name:"Armadura do Tit",description:"Resistncia titnica.",type:"armor",rarity:"epic",price:5e3,priceType:"gold",effects:[{attribute:"vitality",value:7},{attribute:"endurance",value:4}],icon:""},{id:"armor-dragon",name:"Armadura Dracnica",description:"Escamas de drago impenetrveis.",type:"armor",rarity:"legendary",price:15,priceType:"gems",effects:[{attribute:"vitality",value:10},{attribute:"endurance",value:5}],icon:""},{id:"armor-god",name:"Armadura Divina",description:"Proteo dos deuses.",type:"armor",rarity:"legendary",price:20,priceType:"gems",effects:[{attribute:"vitality",value:12},{attribute:"endurance",value:6}],icon:""},{id:"armor-celestial",name:"Armadura Celestial",description:"Forjada nas estrelas.",type:"armor",rarity:"legendary",price:20,priceType:"gems",effects:[{attribute:"vitality",value:10},{attribute:"strength",value:5},{attribute:"agility",value:5}],icon:""},{id:"legs-cloth",name:"Calas de Tecido",description:"Calas simples de pano.",type:"legs",rarity:"common",price:500,priceType:"gold",effects:[{attribute:"agility",value:1}],icon:""},{id:"legs-leather",name:"Calas de Couro",description:"Couro resistente para aventuras.",type:"legs",rarity:"common",price:800,priceType:"gold",effects:[{attribute:"agility",value:1},{attribute:"endurance",value:1}],icon:""},{id:"legs-chain",name:"Grevas de Malha",description:"Proteo leve para as pernas.",type:"legs",rarity:"uncommon",price:1500,priceType:"gold",effects:[{attribute:"vitality",value:2},{attribute:"agility",value:1}],icon:""},{id:"legs-plate",name:"Grevas de Placas",description:"Pesadas mas muito protetoras.",type:"legs",rarity:"uncommon",price:10,priceType:"gems",effects:[{attribute:"vitality",value:3},{attribute:"endurance",value:1}],icon:""},{id:"legs-knight",name:"Grevas de Cavaleiro",description:"Usadas por cavaleiros nobres.",type:"legs",rarity:"rare",price:2500,priceType:"gold",effects:[{attribute:"vitality",value:3},{attribute:"strength",value:2}],icon:""},{id:"legs-assassin",name:"Calas do Assassino",description:"Silenciosas e flexveis.",type:"legs",rarity:"rare",price:12,priceType:"gems",effects:[{attribute:"agility",value:4},{attribute:"damage",value:2}],icon:""},{id:"legs-mage",name:"Calas do Mago",description:"Tecido encantado com runas.",type:"legs",rarity:"rare",price:2800,priceType:"gold",effects:[{attribute:"intelligence",value:3},{attribute:"mana",value:15}],icon:""},{id:"legs-titan",name:"Grevas do Tit",description:"Fora titnica nas pernas.",type:"legs",rarity:"epic",price:14,priceType:"gems",effects:[{attribute:"vitality",value:5},{attribute:"strength",value:3}],icon:""},{id:"legs-shadow",name:"Calas das Sombras",description:"Quase invisveis na escurido.",type:"legs",rarity:"epic",price:4e3,priceType:"gold",effects:[{attribute:"agility",value:5},{attribute:"damage",value:4}],icon:""},{id:"legs-dragon",name:"Grevas Dracnicas",description:"Escamas de drago nas pernas.",type:"legs",rarity:"legendary",price:15,priceType:"gems",effects:[{attribute:"vitality",value:7},{attribute:"agility",value:5}],icon:""},{id:"legs-celestial",name:"Grevas Celestiais",description:"Velocidade das estrelas.",type:"legs",rarity:"legendary",price:18,priceType:"gems",effects:[{attribute:"agility",value:8},{attribute:"vitality",value:5},{attribute:"damage",value:5}],icon:""},{id:"helmet-cloth",name:"Capuz de Tecido",description:"Proteo mnima.",type:"helmet",rarity:"common",price:1e3,priceType:"gold",effects:[{attribute:"vitality",value:1}],icon:""},{id:"helmet-leather",name:"Capuz de Couro",description:"Leve e flexvel.",type:"helmet",rarity:"common",price:10,priceType:"gems",effects:[{attribute:"vitality",value:1},{attribute:"agility",value:1}],icon:""},{id:"helmet-iron",name:"Elmo de Ferro",description:"Proteo bsica para a cabea.",type:"helmet",rarity:"common",price:1400,priceType:"gold",effects:[{attribute:"vitality",value:2}],icon:""},{id:"helmet-chain",name:"Coifa de Malha",description:"Anis de metal entrelaados.",type:"helmet",rarity:"uncommon",price:11,priceType:"gems",effects:[{attribute:"vitality",value:2},{attribute:"endurance",value:1}],icon:""},{id:"helmet-knight",name:"Elmo de Cavaleiro",description:"Usado por cavaleiros nobres.",type:"helmet",rarity:"uncommon",price:2200,priceType:"gold",effects:[{attribute:"vitality",value:3}],icon:""},{id:"helmet-viking",name:"Elmo Viking",description:"Estilo nrdico imponente.",type:"helmet",rarity:"uncommon",price:11,priceType:"gems",effects:[{attribute:"vitality",value:2},{attribute:"strength",value:2}],icon:""},{id:"helmet-wizard",name:"Chapu de Mago",description:"Amplifica poderes mgicos.",type:"helmet",rarity:"uncommon",price:2300,priceType:"gold",effects:[{attribute:"intelligence",value:3}],icon:""},{id:"helmet-samurai",name:"Kabuto Samurai",description:"Elmo tradicional japons.",type:"helmet",rarity:"rare",price:12,priceType:"gems",effects:[{attribute:"vitality",value:3},{attribute:"strength",value:2}],icon:""},{id:"helmet-royal",name:"Coroa Real",description:"Smbolo de poder.",type:"helmet",rarity:"rare",price:3400,priceType:"gold",effects:[{attribute:"vitality",value:3},{attribute:"intelligence",value:2}],icon:""},{id:"helmet-shadow",name:"Capuz das Sombras",description:"Esconde na escurido.",type:"helmet",rarity:"rare",price:12,priceType:"gems",effects:[{attribute:"agility",value:4}],icon:""},{id:"helmet-paladin",name:"Elmo de Paladino",description:"Proteo sagrada.",type:"helmet",rarity:"rare",price:3600,priceType:"gold",effects:[{attribute:"vitality",value:4},{attribute:"endurance",value:2}],icon:""},{id:"helmet-battle",name:"Elmo de Batalha",description:"Forjado para a guerra.",type:"helmet",rarity:"epic",price:14,priceType:"gems",effects:[{attribute:"vitality",value:4},{attribute:"strength",value:2}],icon:""},{id:"helmet-titan",name:"Elmo do Tit",description:"Tamanho e proteo titnica.",type:"helmet",rarity:"epic",price:4500,priceType:"gold",effects:[{attribute:"vitality",value:5},{attribute:"endurance",value:3}],icon:""},{id:"helmet-demon",name:"Elmo Demonaco",description:"Carrega maldio.",type:"helmet",rarity:"epic",price:15,priceType:"gems",effects:[{attribute:"vitality",value:4},{attribute:"damage",value:5}],icon:""},{id:"helmet-dragon",name:"Elmo Dracnico",description:"Feito de chifres de drago.",type:"helmet",rarity:"legendary",price:15,priceType:"gems",effects:[{attribute:"vitality",value:7},{attribute:"strength",value:4}],icon:""},{id:"helmet-god",name:"Coroa Divina",description:"Poder dos deuses.",type:"helmet",rarity:"legendary",price:18,priceType:"gems",effects:[{attribute:"vitality",value:8},{attribute:"intelligence",value:5}],icon:""},{id:"helmet-celestial",name:"Diadema Celestial",description:"Brilha como as estrelas.",type:"helmet",rarity:"legendary",price:18,priceType:"gems",effects:[{attribute:"vitality",value:6},{attribute:"intelligence",value:6},{attribute:"agility",value:3}],icon:""},{id:"ring-copper",name:"Anel de Cobre",description:"Um simples anel de cobre.",type:"accessory",rarity:"common",price:1e3,priceType:"gold",effects:[{attribute:"endurance",value:1}],icon:""},{id:"ring-iron",name:"Anel de Ferro",description:"Resistente e durvel.",type:"accessory",rarity:"common",price:10,priceType:"gems",effects:[{attribute:"vitality",value:1},{attribute:"endurance",value:1}],icon:""},{id:"ring-silver",name:"Anel de Prata",description:"Prata polida.",type:"accessory",rarity:"uncommon",price:1600,priceType:"gold",effects:[{attribute:"intelligence",value:2}],icon:""},{id:"ring-strength",name:"Anel de Fora",description:"Aumenta a fora fsica.",type:"accessory",rarity:"uncommon",price:11,priceType:"gems",effects:[{attribute:"strength",value:3}],icon:""},{id:"ring-agility",name:"Anel de Agilidade",description:"Movimentos mais rpidos.",type:"accessory",rarity:"uncommon",price:1800,priceType:"gold",effects:[{attribute:"agility",value:3}],icon:""},{id:"ring-endurance",name:"Anel de Resistncia",description:"Aumenta sua resistncia fsica.",type:"accessory",rarity:"uncommon",price:11,priceType:"gems",effects:[{attribute:"endurance",value:3}],icon:""},{id:"ring-gold",name:"Anel de Ouro",description:"Ouro macio.",type:"accessory",rarity:"rare",price:2500,priceType:"gold",effects:[{attribute:"vitality",value:2},{attribute:"goldBonus",value:5}],icon:""},{id:"ring-ruby",name:"Anel de Rubi",description:"Pedra de fogo.",type:"accessory",rarity:"rare",price:12,priceType:"gems",effects:[{attribute:"strength",value:4},{attribute:"damage",value:3}],icon:""},{id:"ring-sapphire",name:"Anel de Safira",description:"Pedra do oceano.",type:"accessory",rarity:"rare",price:3e3,priceType:"gold",effects:[{attribute:"intelligence",value:4},{attribute:"mana",value:15}],icon:""},{id:"ring-emerald",name:"Anel de Esmeralda",description:"Pedra da natureza.",type:"accessory",rarity:"rare",price:12,priceType:"gems",effects:[{attribute:"vitality",value:4},{attribute:"hp",value:15}],icon:""},{id:"ring-shadow",name:"Anel das Sombras",description:"Poder oculto.",type:"accessory",rarity:"epic",price:14,priceType:"gems",effects:[{attribute:"agility",value:5},{attribute:"damage",value:4}],icon:""},{id:"ring-phoenix",name:"Anel da Fnix",description:"Renascimento eterno.",type:"accessory",rarity:"epic",price:15,priceType:"gems",effects:[{attribute:"vitality",value:5},{attribute:"hp",value:25}],icon:""},{id:"ring-diamond",name:"Anel de Diamante",description:"Brilho eterno.",type:"accessory",rarity:"legendary",price:15,priceType:"gems",effects:[{attribute:"strength",value:5},{attribute:"agility",value:5}],icon:""},{id:"ring-god",name:"Anel Divino",description:"Poder dos deuses.",type:"accessory",rarity:"legendary",price:20,priceType:"gems",effects:[{attribute:"strength",value:4},{attribute:"intelligence",value:4},{attribute:"agility",value:4},{attribute:"vitality",value:4},{attribute:"endurance",value:4}],icon:""},{id:"amulet-wood",name:"Amuleto de Madeira",description:"Talism simples.",type:"accessory",rarity:"common",price:1e3,priceType:"gold",effects:[{attribute:"endurance",value:1}],icon:""},{id:"amulet-bone",name:"Amuleto de Osso",description:"Ossos de criaturas.",type:"accessory",rarity:"common",price:10,priceType:"gems",effects:[{attribute:"vitality",value:2}],icon:""},{id:"amulet-silver",name:"Amuleto de Prata",description:"Prata protetora.",type:"accessory",rarity:"uncommon",price:1700,priceType:"gold",effects:[{attribute:"vitality",value:2},{attribute:"intelligence",value:1}],icon:""},{id:"amulet-health",name:"Amuleto de Vitalidade",description:"Aumenta seus pontos de vida.",type:"accessory",rarity:"uncommon",price:11,priceType:"gems",effects:[{attribute:"vitality",value:3},{attribute:"hp",value:15}],icon:""},{id:"amulet-mana",name:"Amuleto de Mana",description:"Aumenta reservas de mana.",type:"accessory",rarity:"uncommon",price:2e3,priceType:"gold",effects:[{attribute:"intelligence",value:3},{attribute:"mana",value:20}],icon:""},{id:"amulet-protection",name:"Amuleto de Proteo",description:"Proteo mgica.",type:"accessory",rarity:"uncommon",price:11,priceType:"gems",effects:[{attribute:"vitality",value:3},{attribute:"endurance",value:2}],icon:""},{id:"amulet-warrior",name:"Amuleto do Guerreiro",description:"Fora em combate.",type:"accessory",rarity:"rare",price:2800,priceType:"gold",effects:[{attribute:"strength",value:4},{attribute:"damage",value:3}],icon:""},{id:"amulet-sage",name:"Amuleto do Sbio",description:"Sabedoria antiga.",type:"accessory",rarity:"rare",price:12,priceType:"gems",effects:[{attribute:"intelligence",value:4},{attribute:"xpBonus",value:5}],icon:""},{id:"amulet-hunter",name:"Amuleto do Caador",description:"Instinto predador.",type:"accessory",rarity:"rare",price:2800,priceType:"gold",effects:[{attribute:"agility",value:4},{attribute:"damage",value:3}],icon:""},{id:"amulet-dragon",name:"Amuleto do Drago",description:"Escama de drago.",type:"accessory",rarity:"rare",price:13,priceType:"gems",effects:[{attribute:"vitality",value:4},{attribute:"damage",value:4}],icon:""},{id:"amulet-phoenix",name:"Amuleto da Fnix",description:"Pena da fnix.",type:"accessory",rarity:"epic",price:14,priceType:"gems",effects:[{attribute:"vitality",value:5},{attribute:"hp",value:30}],icon:""},{id:"amulet-void",name:"Amuleto do Vazio",description:"Energia do vazio.",type:"accessory",rarity:"epic",price:4500,priceType:"gold",effects:[{attribute:"intelligence",value:5},{attribute:"mana",value:40}],icon:""},{id:"amulet-titan",name:"Amuleto do Tit",description:"Poder titnico.",type:"accessory",rarity:"epic",price:15,priceType:"gems",effects:[{attribute:"strength",value:5},{attribute:"vitality",value:4}],icon:""},{id:"amulet-legend",name:"Amuleto Lendrio",description:"Poder dos antigos campees.",type:"accessory",rarity:"legendary",price:15,priceType:"gems",effects:[{attribute:"strength",value:3},{attribute:"intelligence",value:3},{attribute:"agility",value:3},{attribute:"vitality",value:3},{attribute:"endurance",value:3}],icon:""},{id:"amulet-god",name:"Amuleto dos Deuses",description:"Favor divino.",type:"accessory",rarity:"legendary",price:20,priceType:"gems",effects:[{attribute:"vitality",value:8},{attribute:"hp",value:50},{attribute:"mana",value:30}],icon:""},{id:"mount-donkey",name:"Burro",description:"Lento mas persistente.",type:"mount",rarity:"common",price:1500,priceType:"gold",effects:[{attribute:"endurance",value:2}],icon:""},{id:"mount-pony",name:"Pnei",description:"Pequeno e gil.",type:"mount",rarity:"common",price:10,priceType:"gems",effects:[{attribute:"agility",value:2}],icon:""},{id:"mount-horse",name:"Cavalo",description:"Companheiro fiel.",type:"mount",rarity:"uncommon",price:2200,priceType:"gold",effects:[{attribute:"agility",value:3}],icon:""},{id:"mount-warhorse",name:"Cavalo de Guerra",description:"Treinado para batalha.",type:"mount",rarity:"uncommon",price:12,priceType:"gems",effects:[{attribute:"agility",value:3},{attribute:"strength",value:1}],icon:""},{id:"mount-wolf",name:"Lobo Selvagem",description:"Rpido e feroz.",type:"mount",rarity:"rare",price:3200,priceType:"gold",effects:[{attribute:"agility",value:4},{attribute:"damage",value:2}],icon:""},{id:"mount-bear",name:"Urso de Guerra",description:"Fora bruta.",type:"mount",rarity:"rare",price:15,priceType:"gems",effects:[{attribute:"strength",value:4},{attribute:"vitality",value:2}],icon:""},{id:"mount-unicorn",name:"Unicrnio",description:"Criatura mgica rara.",type:"mount",rarity:"legendary",price:15,priceType:"gems",effects:[{attribute:"agility",value:5},{attribute:"intelligence",value:5}],icon:""},{id:"mount-dragon",name:"Drago de Fogo",description:"A montaria mais poderosa!",type:"mount",rarity:"legendary",price:20,priceType:"gems",effects:[{attribute:"agility",value:6},{attribute:"strength",value:4},{attribute:"damage",value:10}],icon:""},{id:"bg-1",name:"Cidade Praiana",description:"Uma vista relaxante da orla urbana.",type:"background",rarity:"uncommon",price:13,priceType:"gems",effects:[{attribute:"vitality",value:0}],icon:""},{id:"bg-2",name:"Alvorada Mstica",description:"O sol nasce em um vale desconhecido.",type:"background",rarity:"rare",price:16,priceType:"gems",effects:[{attribute:"intelligence",value:0}],icon:""},{id:"bg-3",name:"Lago de Cristal",description:"guas calmas que refletem o cu.",type:"background",rarity:"common",price:10,priceType:"gems",effects:[{attribute:"endurance",value:0}],icon:""},{id:"bg-4",name:"Floresta Profunda",description:"A mata onde o tempo parou.",type:"background",rarity:"common",price:11,priceType:"gems",effects:[{attribute:"vitality",value:0}],icon:""},{id:"bg-5",name:"Vale Esmeralda",description:"Plancies verdes a perder de vista.",type:"background",rarity:"common",price:10,priceType:"gems",effects:[{attribute:"agility",value:0}],icon:""},{id:"bg-6",name:"Noite Estrelada",description:"Um cu limpo e cheio de mistrios.",type:"background",rarity:"uncommon",price:14,priceType:"gems",effects:[{attribute:"intelligence",value:0}],icon:""},{id:"bg-7",name:"Galxia Distante",description:"Nebulosas e estrelas infinitas.",type:"background",rarity:"legendary",price:20,priceType:"gems",effects:[{attribute:"damage",value:0}],icon:""},{id:"bg-8",name:"Floresta das Sombras",description:"Misteriosa e levemente assustadora.",type:"background",rarity:"rare",price:17,priceType:"gems",effects:[{attribute:"strength",value:0}],icon:""},{id:"bg-9",name:"Oasis do Deserto",description:"Um refgio no calor escaldante.",type:"background",rarity:"uncommon",price:13,priceType:"gems",effects:[{attribute:"endurance",value:0}],icon:""},{id:"bg-10",name:"Templo Antigo",description:"Runas de uma civilizao perdida.",type:"background",rarity:"rare",price:16,priceType:"gems",effects:[{attribute:"intelligence",value:0}],icon:""},{id:"bg-11",name:"Montanhas Glidas",description:"Picos eternamente cobertos de neve.",type:"background",rarity:"uncommon",price:14,priceType:"gems",effects:[{attribute:"vitality",value:0}],icon:""},{id:"bg-12",name:"Cachoeira Sagrada",description:"guas puras que curam a alma.",type:"background",rarity:"epic",price:19,priceType:"gems",effects:[{attribute:"hp",value:0}],icon:""},{id:"bg-13",name:"Caverna de Cristais",description:"Brilho subterrneo multicolorido.",type:"background",rarity:"rare",price:16,priceType:"gems",effects:[{attribute:"mana",value:0}],icon:""},{id:"bg-14",name:"Vila Medieval",description:"O aconchego de um lar simples.",type:"background",rarity:"common",price:10,priceType:"gems",effects:[{attribute:"vitality",value:0}],icon:""},{id:"bg-15",name:"Pntano Venenoso",description:"Cuidado onde pisa!",type:"background",rarity:"uncommon",price:13,priceType:"gems",effects:[{attribute:"endurance",value:0}],icon:""},{id:"bg-16",name:"Castelo Real",description:"O luxo da realeza.",type:"background",rarity:"epic",price:18,priceType:"gems",effects:[{attribute:"strength",value:0}],icon:""},{id:"bg-17",name:"Cemitrio Assombrado",description:"Espritos vagam por aqui.",type:"background",rarity:"rare",price:17,priceType:"gems",effects:[{attribute:"damage",value:0}],icon:""},{id:"bg-18",name:"Floresta de Outono",description:"Folhas alaranjadas e clima ameno.",type:"background",rarity:"common",price:11,priceType:"gems",effects:[{attribute:"agility",value:0}],icon:""},{id:"bg-19",name:"Campo de Lavanda",description:"Beleza e perfume inesquecveis.",type:"background",rarity:"legendary",price:20,priceType:"gems",effects:[{attribute:"vitality",value:0}],icon:""},{id:"potion-hp-small",name:"Poo de Vida Pequena",description:"Recupera 30 HP.",type:"consumable",rarity:"common",price:500,priceType:"gold",effects:[{attribute:"hp",value:30}],icon:""},{id:"potion-hp-medium",name:"Poo de Vida Mdia",description:"Recupera 60 HP.",type:"consumable",rarity:"uncommon",price:900,priceType:"gold",effects:[{attribute:"hp",value:60}],icon:""},{id:"potion-mana-small",name:"Poo de Mana Pequena",description:"Recupera 30 Mana.",type:"consumable",rarity:"common",price:500,priceType:"gold",effects:[{attribute:"mana",value:30}],icon:""},{id:"potion-mana-medium",name:"Poo de Mana Mdia",description:"Recupera 50 Mana.",type:"consumable",rarity:"uncommon",price:800,priceType:"gold",effects:[{attribute:"mana",value:50}],icon:""},{id:"potion-hp-small-gem",name:"Poo de Vida Instantnea",description:"Recupera 30 HP (Entrega Imediata).",type:"consumable",rarity:"rare",price:5,priceType:"gems",effects:[{attribute:"hp",value:30}],icon:""},{id:"potion-hp-medium-gem",name:"Poo de Vida Potente",description:"Recupera 60 HP (Entrega Imediata).",type:"consumable",rarity:"rare",price:5,priceType:"gems",effects:[{attribute:"hp",value:60}],icon:""},{id:"potion-mana-small-gem",name:"Poo de Mana Instantnea",description:"Recupera 30 Mana (Entrega Imediata).",type:"consumable",rarity:"rare",price:5,priceType:"gems",effects:[{attribute:"mana",value:30}],icon:""},{id:"potion-hp-full",name:"Poo de Vida Completa",description:"Recupera 100% do HP.",type:"consumable",rarity:"legendary",price:10,priceType:"gems",effects:[{attribute:"hp",value:9999}],icon:""},{id:"buff-xp-small",name:"Pergaminho de XP",description:"+5% XP por 1 dia.",type:"buff",rarity:"common",price:800,priceType:"gold",effects:[{attribute:"xpBonus",value:5}],icon:"",buffDuration:1},{id:"buff-gold-small",name:"Moeda da Sorte",description:"+5% Ouro por 1 dia.",type:"buff",rarity:"common",price:800,priceType:"gold",effects:[{attribute:"goldBonus",value:5}],icon:"",buffDuration:1},{id:"buff-all-premium",name:"Poder Supremo",description:"+15% em TUDO por 5 dias.",type:"buff",rarity:"legendary",price:20,priceType:"gems",effects:[{attribute:"xpBonus",value:15},{attribute:"goldBonus",value:15},{attribute:"damage",value:15}],icon:"",buffDuration:5},{id:"special-lucky-charm",name:"Amuleto da Sorte",description:"Aumenta drop de itens.",type:"accessory",rarity:"rare",price:10,priceType:"gems",effects:[{attribute:"goldBonus",value:10}],icon:""},{id:"special-godslayer",name:"Matador de Deuses",description:"O item mais poderoso.",type:"accessory",rarity:"legendary",price:20,priceType:"gems",effects:[{attribute:"damage",value:25},{attribute:"strength",value:8},{attribute:"agility",value:5}],icon:""}];function At(){const{user:e}=$e(),t=Rt(),{data:r,isLoading:n}=Be({queryKey:["profile",e==null?void 0:e.id],queryFn:async()=>{if(!e)return null;const{data:_,error:S}=await I.from("profiles").select("*").eq("user_id",e.id).single();if(S)throw S;return _},enabled:!!e}),{data:s=[]}=Be({queryKey:["equipped_items_data",e==null?void 0:e.id],queryFn:async()=>{if(!r)return[];const _=[r==null?void 0:r.equipped_weapon,r==null?void 0:r.equipped_armor,r==null?void 0:r.equipped_shield,r==null?void 0:r.equipped_hat,r==null?void 0:r.equipped_skin,r==null?void 0:r.equipped_mount,r==null?void 0:r.equipped_legs,r==null?void 0:r.equipped_accessory,r==null?void 0:r.equipped_background].filter(Boolean);if(_.length===0)return[];const{data:S,error:j}=await I.from("shop_items").select("*").in("id",_);if(j)throw j;return S},enabled:!!r}),a=(s||[]).reduce((_,S)=>{const j=cn.find(N=>N.id===S.id);if(j&&j.effects)j.effects.forEach(N=>{const C=N.attribute;_[C]!==void 0&&(_[C]+=N.value)});else if(S.effect_type&&S.effect_value){const N=S.effect_type;_[N]!==void 0&&(_[N]+=S.effect_value)}return _},{strength:0,intelligence:0,constitution:0,perception:0,agility:0,vitality:0,endurance:0,hp:0,mana:0,damage:0}),o={strength:((r==null?void 0:r.strength)||0)+a.strength,intelligence:((r==null?void 0:r.intelligence)||0)+a.intelligence,constitution:((r==null?void 0:r.constitution)||0)+a.constitution,perception:((r==null?void 0:r.perception)||0)+a.perception},l=(r?100+(r.level-1)*10+o.constitution*5:100)+a.hp,c=(r?50+(r.level-1)*5+o.intelligence*5:50)+a.mana,u=de({mutationFn:async _=>{if(!e)throw new Error("Not authenticated");const{data:S,error:j}=await I.from("profiles").update(_).eq("user_id",e.id).select().single();if(j)throw j;return S},onSuccess:()=>{t.invalidateQueries({queryKey:["profile",e==null?void 0:e.id]})}});return{profile:r,bonusStats:a,totalStats:o,maxHp:l,maxMana:c,isLoading:n,equippedItemsData:s,updateProfile:u,addXp:async _=>{if(!r)return;let S=r.current_xp+_,j=r.level;if(c5(j,S)){const N=u5(j,S),C=N.newLevel-r.level;j=N.newLevel,S=N.remainingXp;const k=(r.points_to_assign||0)+C;await u.mutateAsync({current_xp:S,level:j,current_hp:l,current_mana:c,points_to_assign:k}),$.success(` Level Up! Voc alcanou o nvel ${j}! +${C} pontos de atributo!`,{duration:5e3})}else await u.mutateAsync({current_xp:S})},addGold:async _=>{r&&await u.mutateAsync({gold:r.gold+_})},addMana:async _=>{if(!r)return;const S=Math.min(r.current_mana+_,c);await u.mutateAsync({current_mana:S})},addTrophies:async _=>{r&&await u.mutateAsync({trophies:(r.trophies||0)+_})},takeDamage:async _=>{if(!r)return;const S=Math.max(r.current_hp-_,0);await u.mutateAsync({current_hp:S}),S===0&&$.error(" Voc foi derrotado! Descanse e complete tarefas para recuperar HP.")},healHp:async(_,S=!1)=>{if(!r)return;let j=_;S&&(j+=o5[r.player_class]);const N=Math.min(r.current_hp+j,l);await u.mutateAsync({current_hp:N})},assignAttributePoint:async _=>{if(!r||(r.points_to_assign||0)<=0)return;const S={[_]:(r[_]||0)+1,points_to_assign:(r.points_to_assign||0)-1};await u.mutateAsync(S),$.success(`${String(_).toUpperCase()} aumentado!`)},changeClass:async _=>{r&&(await u.mutateAsync({player_class:_}),$.success(` Voc agora  um ${_}!`))},upgradeToPro:async()=>{if(r)return r.diamonds<5?($.error("Voc precisa de 5 diamantes para fazer upgrade!"),!1):(await u.mutateAsync({diamonds:r.diamonds-5,is_pro:!0}),$.success(" Parabns! Voc agora  PRO!"),!0)},revive:async()=>{if(r){if(r.diamonds<5)return $.error("Voc precisa de 5 diamantes para reviver!"),!1;try{return await u.mutateAsync({diamonds:r.diamonds-5,current_hp:Math.floor(l*.5)}),$.success("Voc reviveu com 50% de HP! "),!0}catch{return $.error("Erro ao reviver. Tente novamente."),!1}}},changeUsername:async _=>{if(!r)return!1;if(r.has_changed_username)return $.error("Voc j alterou seu nome de heri uma vez!"),!1;if(_.length<3)return $.error("O nome deve ter pelo menos 3 caracteres"),!1;try{return await u.mutateAsync({username:_,has_changed_username:!0}),$.success("Nome de heri atualizado com sucesso! "),!0}catch(S){return S.code==="23505"?$.error("Este nome de usurio j est sendo usado por outro heri!"):$.error("Erro ao atualizar nome: "+S.message),!1}},redeemCode:async _=>{const{data:S,error:j}=await I.rpc("redeem_diamond_code",{input_code:_});if(j)return $.error("Erro ao resgatar cdigo: "+j.message),!1;const N=S;return N.success?($.success(N.message),t.invalidateQueries({queryKey:["profile",e==null?void 0:e.id]}),!0):($.error(N.message),!1)}}}const _l=[{name:"Ignis, o Devorador",hp:1200,damage:30,emoji:"",image:"84-840679_blue-flame-boss-pixel-art-enemy-png-clipart.png",lore:"Antigamente, a Chama Eterna de um vulco mstico trazia vida e calor ao mundo, mas a ganncia dos seus guardies enfraqueceu os selos que a protegiam. Esse desequilbrio despertou Ignis, um drago ancestral que consume a energia trmica de tudo ao seu redor. Ao se fundir com a Chama Eterna, ele condenou o continente a um inverno de cinzas. Heris devem invadir o Vulco da Ascenso Ardente para romper sua conexo antes que ele se torne imparvel."},{name:"A Hydra dos Loops Literrios",hp:1500,damage:30,emoji:"",image:"boss_hydra.png",lore:"Nascida nas profundezas das Bibliotecas de Cdigo Esquecidas, esta Hydra  a personificao dos erros de lgica e ciclos infinitos. Cada cabea representa uma tarefa mal resolvida que gera dois novos problemas ao ser cortada. Somente um esforo coordenado de lgica e persistncia pode silenciar seus chiados binrios e libertar os sistemas de TasKLegends de seu controle paralisante."},{name:"Sir Galen, o Cavaleiro da Inrcia",hp:2e3,damage:40,emoji:"",image:"images.png",lore:"Antigo campeo da Ordem do Foco, Sir Galen foi corrompido pela Maldio da Procrastinao. Sua armadura, antes reluzente como o sol, agora  um amlgama pesado de prazos perdidos e promessas quebradas. Ele guarda as Portas da Disciplina, impedindo que novos heris alcancem a maestria. Derrot-lo no  apenas uma batalha de espadas, mas uma prova de que a vontade pode superar o peso do passado."},{name:"Xylo, o Olho Plasmtico",hp:1e3,damage:35,emoji:"",image:"images (1).png",lore:"Vindo de uma dimenso onde a ateno  a moeda mais valiosa, Xylo  um observador csmico que drena o foco daqueles que cruzam o seu caminho. Seu ncleo de plasma vibra na frequncia das distraes mundanas, atraindo a mente dos heris para longe de seus objetivos. Para derrot-lo, o grupo deve manter uma concentrao absoluta, provando que nem mesmo o brilho hipntico do abismo pode desvi-los."},{name:"Glup, o Terror Geomtrico",hp:1300,damage:25,emoji:"",image:"desenho-de-pixel-de-monstro-dos-desenhos-animados_61878-709.avif",lore:"Uma falha visual que ganhou vida nas nvoas do Pntano Estagnado. Glup  formado por pixels instveis que representam o progresso no salvo e o esforo desperdiado. Ele se alimenta da confuso organizacional e da falta de mtodo. Enfrentar esse monstro requer uma estratgia clara e movimentos precisos, ou os heris sero absorvidos por sua forma amorfa e catica."},{name:"Vaelith, a Soberana Esmeralda",hp:3500,damage:55,emoji:"",image:"images (11).jpg",lore:"Diz a lenda que Vaelith nasceu do primeiro diamante purificado nos Fornos da Disciplina. Como protetora das riquezas de TasKLegends, ela s concede acesso aos Tesouros Divinos para aqueles que provarem valor atravs de conquistas hercleas. No entanto, sua natureza dracnica a tornou possessiva, e agora ela desafia as guildas em um teste final de fora e unio. Ela  o desafio supremo entre os aventureiros e a glria eterna."}];function Ds(){const{user:e}=$e(),{profile:t,addGold:r,addXp:n,takeDamage:s}=At(),a=Rt(),{data:o=[],isLoading:l}=Be({queryKey:["raids"],queryFn:async()=>{const{data:_,error:S}=await I.from("raids").select("*").eq("status","active").order("created_at",{ascending:!1});if(S)throw S;return _||[]},enabled:!!e}),{data:c=[]}=Be({queryKey:["raid_members",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:_,error:S}=await I.from("raid_members").select("*").eq("user_id",e.id);if(S)throw S;return _||[]},enabled:!!e}),u=o.find(_=>_.status==="active"&&c.some(S=>S.raid_id===_.id)),{data:d=[]}=Be({queryKey:["raid_damage_logs",u==null?void 0:u.id],queryFn:async()=>{if(!u)return[];const{data:_,error:S}=await I.from("raid_damage_logs").select("*").eq("raid_id",u.id).order("created_at",{ascending:!1}).limit(10);if(S)throw S;return _||[]},enabled:!!u}),f=de({mutationFn:async({name:_,bossIndex:S})=>{if(!e)throw new Error("Not authenticated");const j=_l[S],{data:N,error:C}=await I.from("raids").insert({name:_,boss_name:j.name,boss_max_hp:j.hp,boss_current_hp:j.hp,boss_damage:j.damage,leader_id:e.id,status:"active",deadline:new Date(Date.now()+7*24*60*60*1e3).toISOString(),charge_meter:0,charge_deadline:new Date(Date.now()+3*24*60*60*1e3).toISOString()}).select().single();if(C)throw C;return await I.from("raid_members").insert({raid_id:N.id,user_id:e.id,is_leader:!0}),N},onSuccess:()=>{a.invalidateQueries({queryKey:["raids"]}),a.invalidateQueries({queryKey:["raid_members"]}),$.success(" Raid criada! Convide heris para ajudar.")},onError:_=>{$.error("Erro ao criar raid: "+_.message)}}),h=de({mutationFn:async _=>{if(!e)throw new Error("Not authenticated");const{error:S}=await I.from("raid_members").insert({raid_id:_,user_id:e.id,is_leader:!1});if(S)throw S},onSuccess:()=>{a.invalidateQueries({queryKey:["raid_members"]}),$.success(" Voc entrou na raid!")}}),p=async(_,S)=>{const{data:j,error:N}=await I.from("profiles").select("user_id, username").eq("username",S.trim()).limit(1);if(N)throw N;if(!j||j.length===0)throw new Error("Usurio no encontrado");const C=j[0],{error:k}=await I.from("raid_members").insert({raid_id:_,user_id:C.user_id,is_leader:!1});if(k)throw k;return C},v=async(_,S,j)=>{if(!e)return;const{data:N}=await I.from("raids").select("*").eq("id",_).single();if(!N||N.status!=="active")return;const C=_S(S,(t==null?void 0:t.level)||1),k=Math.max(N.boss_current_hp-C,0);await I.from("raids").update({boss_current_hp:k,status:k<=0?"victory":"active"}).eq("id",_),await I.from("raid_damage_logs").insert({raid_id:_,user_id:e.id,damage_amount:C,type:"player_to_boss",task_title:j});const{data:O}=await I.from("raid_members").select("damage_dealt").eq("raid_id",_).eq("user_id",e.id).single();await I.from("raid_members").update({damage_dealt:((O==null?void 0:O.damage_dealt)||0)+C}).eq("raid_id",_).eq("user_id",e.id),k<=0&&await g();const{data:F}=await I.from("raid_members").select("task_counter, user_id, damage_dealt").eq("raid_id",_).eq("user_id",e.id).single(),T=((F==null?void 0:F.task_counter)||0)+1;if(T>=3){if(await I.from("raid_members").update({task_counter:0}).eq("raid_id",_).eq("user_id",e.id),(t==null?void 0:t.player_class)==="mage"){const A=Math.floor(C*.5);await v(_,A,"MAGIA: Eco Arcano"),await I.from("messages").insert({channel_type:"raid",channel_id:_,sender_id:e.id,content:` ECO ARCANO! ${t.username} liberou uma exploso de mana causando ${A} de dano extra!`})}else if((t==null?void 0:t.player_class)==="rogue"){const A=Math.floor(C*.3);await v(_,A,"RAJADA: Saraivada de Flechas"),await I.from("messages").insert({channel_type:"raid",channel_id:_,sender_id:e.id,content:` SARAIVADA! ${t.username} disparou uma rajada de flechas causando ${A} de dano extra!`})}else if((t==null?void 0:t.player_class)==="cleric"){const{data:A}=await I.from("raid_members").select("user_id").eq("raid_id",_);if(A)for(const R of A){const{data:M}=await I.from("profiles").select("current_hp, max_hp").eq("user_id",R.user_id).single();if(M){const z=Math.floor(M.max_hp*.1);await I.from("profiles").update({current_hp:Math.min(M.max_hp,M.current_hp+z)}).eq("user_id",R.user_id)}}await I.from("messages").insert({channel_type:"raid",channel_id:_,sender_id:e.id,content:` ORAO COLETIVA! ${t.username} curou 10% do HP de todos os membros da Raid!`})}}else await I.from("raid_members").update({task_counter:T}).eq("raid_id",_).eq("user_id",e.id);a.invalidateQueries({queryKey:["raids"]}),a.invalidateQueries({queryKey:["raid_members"]}),a.invalidateQueries({queryKey:["raid_damage_logs"]})},g=async _=>{await r(100),await n(200),$.success(" VITRIA! +100 ouro, +200 XP",{duration:5e3})},b=async()=>{if(!e||!u||!t)return;const _=c.find(C=>C.raid_id===u.id),S=_==null?void 0:_.last_damage_check,j=new Date().toISOString().split("T")[0];if(S&&S.startsWith(j))return;const{data:N}=await I.from("tasks").select("*").eq("user_id",e.id).eq("status","pending").lt("created_at",j);if(N&&N.length>0){const C=u.boss_damage||10;let k=N.length*C;await s(k);for(const O of N)await I.from("raid_damage_logs").insert({raid_id:u.id,user_id:e.id,damage_amount:C,type:"boss_to_player",task_title:O.title}),await I.from("tasks").update({status:"failed"}).eq("id",O.id);$.error(` Boss Atacou! -${k} HP por tarefas pendentes.`)}await I.from("raid_members").update({last_damage_check:new Date().toISOString()}).eq("raid_id",u.id).eq("user_id",e.id),a.invalidateQueries({queryKey:["raid_members"]})},x=m.useRef(!1),y=async()=>{if(!x.current&&!(!e||!u))try{if(x.current=!0,Math.random()>.15)return;const _=new Date().toISOString().split("T")[0],{data:S}=await I.from("raids").select("daily_crit_count, last_crit_reset_date, boss_name").eq("id",u.id).single();if(!S)return;const j=S;let N=j.daily_crit_count||0;if(j.last_crit_reset_date!==_&&(N=0),N>=3)return;const k={"Drago de Fogo":"Sopro de Plasma","Hydra de Cdigo":"Loop Infinito","Golem de Pedra":"Terremoto de Dados","Fnix Sombria":"Exploso Estelar","Kraken Abissal":"Tsunami Binria","Ignis, o Devorador":"Chamas do Esquecimento","A Hydra dos Loops Literrios":"Recurso Fatal","Sir Galen, o Cavaleiro da Inrcia":"Golpe da Preguia","Xylo, o Olho Plasmtico":"Raio Desfocante","Glup, o Terror Geomtrico":"Priso Poligonal","Vaelith, a Soberana Esmeralda":"Bafejada Txica"}[j.boss_name]||`Ataque de ${j.boss_name}`,{data:O}=await I.from("raid_members").select("user_id").eq("raid_id",u.id);if(O)for(const T of O){const{data:A}=await I.from("profiles").select("current_hp, max_hp").eq("user_id",T.user_id).single();if(A){const R=Math.max(1,Math.floor(A.max_hp*.05));await I.from("profiles").update({current_hp:Math.max(0,A.current_hp-R)}).eq("user_id",T.user_id)}}const{error:F}=await I.from("raids").update({daily_crit_count:N+1,last_crit_reset_date:_}).eq("id",u.id);if(F)throw F;await I.from("raid_damage_logs").insert({raid_id:u.id,user_id:e.id,damage_amount:5,type:"boss_skill",task_title:` BOSS USOU: ${k} (-5% HP em TODOS)`}),await I.from("messages").insert({channel_type:"raid",channel_id:u.id,sender_id:"SYSTEM",content:` O Boss usou ${k}! Todo o grupo perdeu 5% de HP.`}),$.error(` O BOSS CONTRA-ATACA! ${k} acerta o grupo!`,{duration:5e3,style:{background:"#330000",color:"#ff4444",border:"1px solid red"}}),a.invalidateQueries({queryKey:["raids"]}),a.invalidateQueries({queryKey:["raid_damage_logs"]})}catch(_){console.error("Erro no critico do boss:",_)}finally{setTimeout(()=>{x.current=!1},2e3)}};m.useEffect(()=>{u&&t&&b()},[u==null?void 0:u.id,t==null?void 0:t.id]);const w=de({mutationFn:async _=>{if(!e||!t)throw new Error("Not authenticated");const S=Math.floor(t.gold*.5),j=Math.floor(t.current_hp*.4),{error:N}=await I.from("raid_members").delete().eq("raid_id",_).eq("user_id",e.id);if(N)throw N;const{error:C}=await I.from("profiles").update({gold:Math.max(0,t.gold-S),current_hp:Math.max(0,t.current_hp-j)}).eq("user_id",e.id);if(C)throw C;return{goldPenalty:S,hpPenalty:j}},onSuccess:({goldPenalty:_,hpPenalty:S})=>{a.invalidateQueries({queryKey:["raid_members"]}),a.invalidateQueries({queryKey:["profile",e==null?void 0:e.id]}),$.error(` Desertor! Voc perdeu ${S} HP e ${_}  por abandonar a raid.`)},onError:_=>{$.error("Erro ao sair da raid: "+_.message)}});return{raids:o.filter(_=>_.status==="active"),myActiveRaid:u,myRaidMemberships:c,raidsLoading:l,createRaid:f.mutate,joinRaid:h.mutate,leaveRaid:w.mutate,deleteRaid:de({mutationFn:async _=>{if(!e)throw new Error("Not authenticated");await I.from("raid_members").delete().eq("raid_id",_);const{error:S}=await I.from("raids").update({status:"failed"}).eq("id",_).eq("leader_id",e.id);if(S)throw S},onSuccess:()=>{a.invalidateQueries({queryKey:["raids"]}),a.invalidateQueries({queryKey:["raid_members"]}),$.success(" Raid encerrada pelo lder.")},onError:_=>{$.error("Erro ao encerrar raid: "+_.message)}}).mutate,dealDamageToBoss:v,getRaidMembers:async _=>{const{data:S}=await I.from("raid_members").select("*").eq("raid_id",_);return S||[]},inviteByEmail:p,damageLogs:d,triggerBossRandomCrit:y,isCreating:f.isPending}}function Ng(){const{user:e}=$e(),{profile:t,addXp:r,addGold:n,addMana:s,takeDamage:a}=At(),{myActiveRaid:o,dealDamageToBoss:l}=Ds(),c=Rt(),{data:u=[],isLoading:d}=Be({queryKey:["tasks",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:y,error:w}=await I.from("tasks").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(w)throw w;const{data:_}=await I.from("pvp_duels").select("id").or(`challenger_id.eq.${e.id},challenged_id.eq.${e.id}`).in("status",["selecting","active"]).maybeSingle();if(_){const{data:S}=await I.from("pvp_selected_tasks").select("id, task_id").eq("duel_id",_.id).eq("user_id",e.id);if(S&&S.length>0){const j=new Map(S.map(N=>[N.task_id,N.id]));return y.map(N=>({...N,pvp_selection_id:j.get(N.id),is_pvp:j.has(N.id)}))}}return y},enabled:!!e}),f=u.filter(y=>y.status==="pending"),h=u.filter(y=>y.status==="completed");m.useEffect(()=>{if(!e||u.length===0||!t)return;(async()=>{const w=new Date,_=f.filter(S=>{if(!S.due_date)return!1;const j=new Date(S.due_date);return j.setHours(23,59,59,999),w>j});for(const S of _)await x(S)})()},[u,e,t==null?void 0:t.id]);const p=()=>t?t.is_pro?!0:f.length<d5:!1,v=de({mutationFn:async y=>{if(!e)throw new Error("Not authenticated");if(!p())throw new Error("Limite de tarefas gratuitas atingido. Faa upgrade para PRO!");const w=Ux(y.difficulty,(t==null?void 0:t.intelligence)||0),_=Bx(y.difficulty,(t==null?void 0:t.perception)||0),{data:S,error:j}=await I.from("tasks").insert({user_id:e.id,title:y.title,description:y.description,difficulty:y.difficulty,due_date:y.due_date,xp_reward:w,gold_reward:_}).select().single();if(j)throw j;return S},onSuccess:()=>{c.invalidateQueries({queryKey:["tasks",e==null?void 0:e.id]}),$.success(" Tarefa criada com sucesso!")},onError:y=>{$.error(y.message)}}),g=de({mutationFn:async y=>{if(!e)throw new Error("Not authenticated");const w=u.find(S=>S.id===y);if(!w)throw new Error("Tarefa no encontrada");if(w.status==="completed")throw new Error("Tarefa j completada");if(w.is_pvp)throw new Error("Esta tarefa est vinculada a um Duelo PvP! Use a Arena PvP para complet-la com evidncia (foto) e causar dano no oponente.");const{error:_}=await I.from("tasks").update({status:"completed",completed_at:new Date().toISOString()}).eq("id",y);if(_)throw _;return w},onSuccess:async y=>{if(t&&y){const w=Ux(y.difficulty,t.intelligence),_=Bx(y.difficulty,t.perception),S=wS(y.difficulty,t.player_class,t.intelligence);if(await r(w),await n(_),await s(S),o){const j=_S(t.level*Od[y.difficulty],t.level);await l(o.id,j,y.title),$.success(` Misso Cumprida! +${w} XP, +${_} Ouro,  ${j} dmg ao Boss!`)}else $.success(` Misso Cumprida! +${w} XP, +${_} Ouro`)}c.invalidateQueries({queryKey:["tasks",e==null?void 0:e.id]})}}),b=de({mutationFn:async y=>{var S;if(!e)throw new Error("Not authenticated");const{data:w}=await I.from("pvp_selected_tasks").select("duel_id, pvp_duels(status)").eq("task_id",y).maybeSingle();if(w&&["active","selecting"].includes((S=w.pvp_duels)==null?void 0:S.status))throw new Error("Esta tarefa est travada em um duelo PvP ativo e no pode ser excluda at o duelo terminar.");await I.from("pvp_selected_tasks").delete().eq("task_id",y);const{error:_}=await I.from("tasks").delete().eq("id",y);if(_)throw _},onSuccess:()=>{c.invalidateQueries({queryKey:["tasks",e==null?void 0:e.id]}),$.success(" Tarefa removida")},onError:y=>{console.error("Erro ao deletar tarefa:",y),y.code==="23503"?$.error(" Esta tarefa ainda possui vnculos ativos no sistema e no pode ser excluda."):$.error(" Erro ao excluir tarefa: "+(y.message||"Erro desconhecido"))}}),x=async y=>{if(!t)return;const w=l5(t.level,y.difficulty,t.player_class,t.constitution);await I.from("tasks").update({status:"failed"}).eq("id",y.id),await a(w),$.error(` Misso falhou! Voc recebeu ${w} de dano.`),c.invalidateQueries({queryKey:["tasks",e==null?void 0:e.id]})};return{tasks:u,pendingTasks:f,completedTasks:h,isLoading:d,canCreateTask:p,createTask:v.mutate,completeTask:g.mutate,deleteTask:b.mutate,failTask:x,isCreating:v.isPending,isCompleting:g.isPending,isDeleting:b.isPending}}function Cg(){const{user:e}=$e(),t=Rt(),{data:r=[],isLoading:n}=Be({queryKey:["guilds"],queryFn:async()=>{const{data:v,error:g}=await I.from("guilds").select("*").order("created_at",{ascending:!1});if(g)throw g;return v},enabled:!!e}),{data:s}=Be({queryKey:["guild_members",e==null?void 0:e.id],queryFn:async()=>{if(!e)return null;const{data:v,error:g}=await I.from("guild_members").select("*").eq("user_id",e.id).maybeSingle();if(g)throw g;return v},enabled:!!e}),a=r.find(v=>v.id===(s==null?void 0:s.guild_id)),{data:o=[]}=Be({queryKey:["guild_announcements",a==null?void 0:a.id],queryFn:async()=>{if(!a)return[];const{data:v,error:g}=await I.from("guild_announcements").select("*").eq("guild_id",a.id).order("created_at",{ascending:!1}).limit(10);if(g)throw g;return v},enabled:!!a}),l=async v=>{const{data:g,error:b}=await I.from("guild_members").select("*").eq("guild_id",v);if(b)throw b;return g},c=de({mutationFn:async({name:v,description:g,emblemColor:b})=>{if(!e)throw new Error("Not authenticated");const{data:x,error:y}=await I.from("guilds").insert({name:v,description:g,emblem_color:b,leader_id:e.id}).select().single();if(y)throw y;return await I.from("guild_members").insert({guild_id:x.id,user_id:e.id,role:"leader"}),x},onSuccess:()=>{t.invalidateQueries({queryKey:["guilds"]}),t.invalidateQueries({queryKey:["guild_members"]}),$.success(" Guilda criada com sucesso!")},onError:v=>{$.error("Erro ao criar guilda: "+v.message)}}),u=de({mutationFn:async v=>{if(!e)throw new Error("Not authenticated");if(s)throw new Error("Voc j faz parte de uma guilda");const{count:g,error:b}=await I.from("guild_members").select("*",{count:"exact",head:!0}).eq("guild_id",v);if(b)throw b;if(g!==null&&g>=20)throw new Error("Esta guilda j atingiu o limite mximo de 20 membros");const{error:x}=await I.from("guild_members").insert({guild_id:v,user_id:e.id,role:"member"});if(x)throw x},onSuccess:()=>{t.invalidateQueries({queryKey:["guild_members"]}),t.invalidateQueries({queryKey:["guild_ranking"]}),$.success(" Voc entrou na guilda!")},onError:v=>{$.error("Erro: "+v.message)}}),d=de({mutationFn:async()=>{if(!e||!s)throw new Error("Not in a guild");const{error:v}=await I.from("guild_members").delete().eq("guild_id",s.guild_id).eq("user_id",e.id);if(v)throw v},onSuccess:()=>{t.invalidateQueries({queryKey:["guild_members"]}),$.success("Voc saiu da guilda")}}),f=de({mutationFn:async v=>{if(!e||!a)throw new Error("Not in a guild");const{error:g}=await I.from("guild_announcements").insert({guild_id:a.id,author_id:e.id,content:v});if(g)throw g},onSuccess:()=>{t.invalidateQueries({queryKey:["guild_announcements"]}),$.success("Anncio publicado!")}}),{data:h=[],isLoading:p}=Be({queryKey:["guild_ranking"],queryFn:async()=>{const{data:v,error:g}=await I.from("guilds").select("*");if(g)throw g;const{data:b,error:x}=await I.from("guild_members").select("guild_id, user_id");if(x)throw x;const y=b.map(k=>k.user_id),{data:w,error:_}=await I.from("profiles").select("user_id, current_xp, level").in("user_id",y);if(_)throw _;const S=(k,O)=>{let F=0;for(let T=1;T<k;T++){const A=T+1;F+=Math.floor((A*A+24*A+475)/2)}return F+O},j={};w.forEach(k=>{j[k.user_id]=S(k.level,k.current_xp)});const N={},C={};return b.forEach(k=>{const O=j[k.user_id]||0;N[k.guild_id]=(N[k.guild_id]||0)+O,C[k.guild_id]=(C[k.guild_id]||0)+1}),(v||[]).map(k=>({...k,total_xp:N[k.id]||0,member_count:C[k.id]||0})).sort((k,O)=>O.total_xp-k.total_xp)},enabled:!!e});return{guilds:r,myGuild:a,myGuildMembership:s,announcements:o,guildRanking:h,guildsLoading:n||p,createGuild:c.mutate,joinGuild:u.mutate,leaveGuild:d.mutate,postAnnouncement:f.mutate,getGuildMembers:l,isCreating:c.isPending}}const h5={medium:15,hard:25},Nt=5,ui=100;function Ta(){const{user:e}=$e(),{profile:t,addXp:r,addGold:n,addMana:s,addTrophies:a}=At(),{myActiveRaid:o,dealDamageToBoss:l}=Ds(),c=Rt(),{data:u,isLoading:d,isError:f,error:h}=Be({queryKey:["pvp-duel",e==null?void 0:e.id],queryFn:async()=>{if(!e)return null;const{data:D,error:B}=await I.from("pvp_duels").select("*").or(`challenger_id.eq.${e.id},challenged_id.eq.${e.id}`).in("status",["pending","selecting","active"]).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(B)throw B;return D},enabled:!!e}),{data:p=[],isLoading:v,isError:g,error:b}=Be({queryKey:["pvp-selected-tasks",u==null?void 0:u.id],queryFn:async()=>{if(!u)return[];const{data:D,error:B}=await I.from("pvp_selected_tasks").select(`
          *,
          task:tasks(id, title, difficulty, xp_reward, gold_reward)
        `).eq("duel_id",u.id);if(B)throw B;return D},enabled:!!u}),{data:x}=Be({queryKey:["pvp-opponent",u==null?void 0:u.id,e==null?void 0:e.id],queryFn:async()=>{if(!u||!e)return null;const D=u.challenger_id===e.id?u.challenged_id:u.challenger_id,{data:B,error:V}=await I.from("profiles").select("*").eq("user_id",D).single();if(V)throw V;return B},enabled:!!u&&!!e}),{data:y=[]}=Be({queryKey:["pvp-pending-challenges",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];console.log("[PvP Debug] Fetching pending challenges for user:",e.id);const{data:D,error:B}=await I.from("pvp_duels").select("*").eq("challenged_id",e.id).eq("status","pending");if(console.log("[PvP Debug] Duels query result:",{duels:D,error:B}),B)throw console.error("[PvP Debug] Error fetching duels:",B),B;if(!D||D.length===0)return console.log("[PvP Debug] No pending duels found"),[];const V=D.map(ee=>ee.challenger_id),{data:Z}=await I.from("profiles").select("user_id, username, level, player_class").in("user_id",V);return console.log("[PvP Debug] Found",D.length,"pending challenges"),D.map(ee=>({...ee,challenger:(Z==null?void 0:Z.find(me=>me.user_id===ee.challenger_id))||null}))},enabled:!!e,refetchInterval:2e3});m.useEffect(()=>{if(!e)return;const D=I.channel(`pvp-challenges-${e.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"pvp_duels",filter:`challenged_id=eq.${e.id}`},B=>{console.log("New PvP challenge received!",B),c.invalidateQueries({queryKey:["pvp-pending-challenges"]}),c.invalidateQueries({queryKey:["pvp-duel"]}),$.info(" Voc recebeu um desafio PvP!")}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"pvp_duels",filter:`challenger_id=eq.${e.id}`},B=>{console.log("PvP duel updated!",B),c.invalidateQueries({queryKey:["pvp-pending-challenges"]}),c.invalidateQueries({queryKey:["pvp-duel"]})}).subscribe();return()=>{I.removeChannel(D)}},[e,c]);const w=de({mutationFn:async D=>{if(!e)throw new Error("No autenticado");console.log("[PvP Debug] Creating challenge:",{challenger_id:e.id,challenged_id:D});const{data:B,error:V}=await I.from("pvp_duels").insert({challenger_id:e.id,challenged_id:D,status:"pending"}).select().single();if(V)throw console.error("[PvP Debug] Error creating challenge:",V),V;return console.log("[PvP Debug] Challenge created successfully:",B),B},onSuccess:()=>{c.invalidateQueries({queryKey:["pvp-duel"]}),$.success(" Desafio enviado!")},onError:D=>{$.error(D.message)}}),_=de({mutationFn:async D=>{if(!e)throw new Error("No autenticado");const{error:B}=await I.from("pvp_duels").update({status:"selecting"}).eq("id",D);if(B)throw B},onSuccess:()=>{c.invalidateQueries({queryKey:["pvp-duel"]}),c.invalidateQueries({queryKey:["pvp-pending-challenges"]}),$.success(" Desafio aceito! Selecione suas 5 tarefas.")}}),S=de({mutationFn:async D=>{if(!e)throw new Error("No autenticado");const{error:B}=await I.from("pvp_duels").update({status:"cancelled"}).eq("id",D);if(B)throw B},onSuccess:()=>{c.invalidateQueries({queryKey:["pvp-duel"]}),c.invalidateQueries({queryKey:["pvp-pending-challenges"]}),$.info("Desafio recusado")}}),j=de({mutationFn:async D=>{if(!e)throw new Error("No autenticado");const{error:B}=await I.from("pvp_duels").update({status:"cancelled"}).eq("id",D).eq("challenger_id",e.id);if(B)throw B},onSuccess:()=>{c.invalidateQueries({queryKey:["pvp-duel"]}),c.invalidateQueries({queryKey:["pvp-pending-challenges"]}),$.info("Desafio cancelado")}}),N=de({mutationFn:async D=>{if(!e||!u)throw new Error("Duelo no encontrado");if(p.filter(Z=>Z.user_id===e.id).length>=Nt)throw new Error(`Voc j selecionou ${Nt} tarefas`);const{error:V}=await I.from("pvp_selected_tasks").insert({duel_id:u.id,user_id:e.id,task_id:D});if(V)throw V},onSuccess:()=>{c.invalidateQueries({queryKey:["pvp-selected-tasks"]}),$.success(" Tarefa selecionada!")},onError:D=>{$.error(D.message)}}),C=de({mutationFn:async D=>{if(!e)throw new Error("No autenticado");const{error:B}=await I.from("pvp_selected_tasks").delete().eq("id",D).eq("user_id",e.id);if(B)throw B},onSuccess:()=>{c.invalidateQueries({queryKey:["pvp-selected-tasks"]}),$.info("Tarefa removida da seleo")}}),k=de({mutationFn:async()=>{if(!e||!u)throw new Error("Duelo no encontrado");if(p.filter(ee=>ee.user_id===e.id).length<Nt)throw new Error(`Selecione ${Nt} tarefas primeiro`);const{error:B}=await I.from("pvp_selected_tasks").update({locked:!0}).eq("duel_id",u.id).eq("user_id",e.id);if(B)throw B;const V=u.challenger_id===e.id?u.challenged_id:u.challenger_id,{data:Z}=await I.from("pvp_selected_tasks").select("locked").eq("duel_id",u.id).eq("user_id",V).eq("locked",!0);Z&&Z.length>=Nt?(await I.from("pvp_duels").update({status:"active",started_at:new Date().toISOString()}).eq("id",u.id),$.success(" O DUELO COMEOU!")):$.success(" Tarefas travadas! Aguardando oponente...")},onSuccess:()=>{c.invalidateQueries({queryKey:["pvp-duel"]}),c.invalidateQueries({queryKey:["pvp-selected-tasks"]})},onError:D=>{$.error(D.message)}}),O=de({mutationFn:async({selectionId:D,evidenceUrl:B,difficulty:V})=>{var Hr,gr,Wr;if(!e||!u||!t)throw new Error("Duelo ou Perfil no encontrado");const Z=h5[V],ee=p.find(hn=>hn.id===D);if(!ee)throw new Error("Vinculao de tarefa no encontrada");const{error:me}=await I.from("pvp_selected_tasks").update({completed:!0,evidence_url:B,damage_dealt:Z,completed_at:new Date().toISOString()}).eq("id",D);if(me)throw me;const{error:Ne}=await I.from("tasks").update({status:"completed",completed_at:new Date().toISOString()}).eq("id",ee.task_id);Ne&&console.error("Erro ao atualizar tarefa global:",Ne);const K=((Hr=ee.task)==null?void 0:Hr.xp_reward)||(V==="hard"?25:12),ve=((gr=ee.task)==null?void 0:gr.gold_reward)||(V==="hard"?12:5),Ce=wS(V,t.player_class,t.intelligence);await r(K),await n(ve),await s(Ce);const ye=u.challenger_id===e.id,pe=ye?"challenged_hp":"challenger_hp",xe=ye?u.challenged_hp:u.challenger_hp,He=Math.max(0,xe-Z),{error:bt}=await I.from("pvp_duels").update({[pe]:He}).eq("id",u.id);if(bt)throw bt;if(o){const hn=t.level*Od[V];await l(o.id,hn,(Wr=ee.task)==null?void 0:Wr.title)}return c.invalidateQueries({queryKey:["pvp-duel",e.id]}),c.invalidateQueries({queryKey:["profile",e.id]}),c.invalidateQueries({queryKey:["tasks",e.id]}),c.invalidateQueries({queryKey:["pvp-selected-tasks",u.id]}),He<=0&&(await I.from("pvp_duels").update({status:"completed",winner_id:e.id,ended_at:new Date().toISOString()}).eq("id",u.id),await r(200),await n(150),await a(5),$.success(" VITRIA! Voc derrotou seu oponente!")),{damage:Z,newHp:He}},onSuccess:({damage:D})=>{c.invalidateQueries({queryKey:["pvp-duel"]}),c.invalidateQueries({queryKey:["pvp-selected-tasks"]}),c.invalidateQueries({queryKey:["tasks",e==null?void 0:e.id]}),$.success(` Tarefa PvP concluda! +XP/Ouro e ${D} de dano no oponente!`)},onError:D=>{$.error(D.message)}}),F=de({mutationFn:async({selectionId:D,reason:B})=>{if(!e)throw new Error("No autenticado");const{error:V}=await I.from("pvp_selected_tasks").update({contested:!0,contest_reason:B}).eq("id",D);if(V)throw V},onSuccess:()=>{c.invalidateQueries({queryKey:["pvp-selected-tasks"]}),$.warning(" Tarefa contestada! Aguardando reviso.")}}),T=async D=>{if(!e)throw new Error("No autenticado");const B=D.name.split(".").pop(),V=`${e.id}/${Date.now()}.${B}`,{error:Z}=await I.storage.from("task_evidences").upload(V,D);if(Z)throw Z;const{data:ee}=I.storage.from("task_evidences").getPublicUrl(V);return ee.publicUrl},A=()=>{if(!u)return()=>{};const D=I.channel(`pvp-${u.id}`).on("postgres_changes",{event:"*",schema:"public",table:"pvp_duels",filter:`id=eq.${u.id}`},()=>{c.invalidateQueries({queryKey:["pvp-duel"]})}).on("postgres_changes",{event:"*",schema:"public",table:"pvp_selected_tasks",filter:`duel_id=eq.${u.id}`},()=>{c.invalidateQueries({queryKey:["pvp-selected-tasks"]})}).subscribe();return()=>{I.removeChannel(D)}},R=p.filter(D=>D.user_id===(e==null?void 0:e.id)),M=p.filter(D=>D.user_id!==(e==null?void 0:e.id)),z=R.every(D=>D.locked)&&R.length>=Nt,q=M.every(D=>D.locked)&&M.length>=Nt;return{activeDuel:u,selectedTasks:p,myTasks:R,opponentTasks:M,myLocked:z,opponentLocked:q,opponentProfile:x,pendingChallenges:y,isLoading:e?d||v:!1,isError:f||g,error:h||b,getMyHp:()=>!u||!e?ui:u.challenger_id===e.id?u.challenger_hp:u.challenged_hp,getOpponentHp:()=>!u||!e?ui:u.challenger_id===e.id?u.challenged_hp:u.challenger_hp,challengeFriend:w.mutate,acceptChallenge:_.mutate,declineChallenge:S.mutate,cancelChallenge:j.mutate,selectTask:N.mutate,removeTask:C.mutate,lockTasks:k.mutate,completeTaskWithEvidence:O.mutateAsync,contestTask:F.mutate,uploadEvidence:T,subscribeToUpdates:A}}function jS(){const{user:e}=$e(),t=Rt(),{data:r=[],isLoading:n}=Be({queryKey:["friends",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:v,error:g}=await I.from("friends").select("*").or(`user_id.eq.${e.id},friend_id.eq.${e.id}`);if(g)throw g;return v},enabled:!!e}),{data:s=[]}=Be({queryKey:["online_status"],queryFn:async()=>{const{data:v,error:g}=await I.from("online_status").select("*");if(g)throw g;return v},enabled:!!e});m.useEffect(()=>{if(!e)return;const v=async b=>{await I.from("online_status").upsert({user_id:e.id,is_online:b,last_seen:new Date().toISOString()})};v(!0);const g=setInterval(()=>v(!0),6e4);return()=>{clearInterval(g),v(!1)}},[e]),m.useEffect(()=>{if(!e)return;const v=I.channel("online-status-changes").on("postgres_changes",{event:"*",schema:"public",table:"online_status"},()=>{t.invalidateQueries({queryKey:["online_status"]})}).subscribe();return()=>{I.removeChannel(v)}},[e,t]);const a=async v=>{const{data:g,error:b}=await I.rpc("search_profiles",{search_query:v});if(b){console.warn("RPC unavailable, falling back to username search:",b);const{data:x,error:y}=await I.from("profiles").select("user_id, username").ilike("username",`%${v}%`).limit(10);if(y)throw y;return x}return g},o=de({mutationFn:async v=>{if(!e)throw new Error("Not authenticated");if(v===e.id)throw new Error("Voc no pode adicionar a si mesmo");if(r.find(x=>x.user_id===e.id&&x.friend_id===v||x.friend_id===e.id&&x.user_id===v))throw new Error("J existe uma solicitao de amizade");const{error:b}=await I.from("friends").insert({user_id:e.id,friend_id:v,status:"pending"});if(b)throw b},onSuccess:()=>{t.invalidateQueries({queryKey:["friends"]}),$.success(" Solicitao enviada!")},onError:v=>{$.error("Erro: "+v.message)}}),l=de({mutationFn:async v=>{if(!e)throw new Error("Not authenticated");const{error:g}=await I.from("friends").update({status:"accepted"}).eq("id",v);if(g)throw g},onSuccess:()=>{t.invalidateQueries({queryKey:["friends"]}),$.success(" Amizade aceita!")}}),c=de({mutationFn:async v=>{if(!e)throw new Error("Not authenticated");const{error:g}=await I.from("friends").delete().eq("id",v);if(g)throw g},onSuccess:()=>{t.invalidateQueries({queryKey:["friends"]}),$.success("Solicitao rejeitada")}}),u=de({mutationFn:async v=>{if(!e)throw new Error("Not authenticated");const{error:g}=await I.from("friends").delete().eq("id",v);if(g)throw g},onSuccess:()=>{t.invalidateQueries({queryKey:["friends"]}),$.success("Amigo removido")}}),d=r.filter(v=>v.status==="accepted"),f=r.filter(v=>v.status==="pending"&&v.friend_id===(e==null?void 0:e.id)),h=r.filter(v=>v.status==="pending"&&v.user_id===(e==null?void 0:e.id)),p=v=>{const g=s.find(w=>w.user_id===v);if(!g)return!1;const b=new Date(g.last_seen),y=(new Date().getTime()-b.getTime())/6e4;return g.is_online&&y<2};return{friends:d,pendingRequests:f,sentRequests:h,friendsLoading:n,searchUsers:a,sendFriendRequest:o.mutateAsync,acceptFriendRequest:l.mutateAsync,rejectFriendRequest:c.mutateAsync,removeFriend:u.mutateAsync,isUserOnline:p}}const p5={background:{slot:"background",zIndex:2,offsetX:0,offsetY:0,scale:1},mount:{slot:"mount",zIndex:3,offsetX:0,offsetY:30,scale:1.2},body:{slot:"body",zIndex:10,offsetX:0,offsetY:0,scale:1},hair:{slot:"hair",zIndex:15,offsetX:0,offsetY:-10,scale:.9},skin:{slot:"skin",zIndex:20,offsetX:0,offsetY:0,scale:1},legs:{slot:"legs",zIndex:25,offsetX:0,offsetY:20,scale:.8},chest:{slot:"chest",zIndex:30,offsetX:0,offsetY:5,scale:.85},head:{slot:"head",zIndex:40,offsetX:0,offsetY:-15,scale:.7},shield:{slot:"shield",zIndex:35,offsetX:-25,offsetY:10,scale:.6},weapon:{slot:"weapon",zIndex:45,offsetX:25,offsetY:10,scale:.65},accessory:{slot:"accessory",zIndex:50,offsetX:0,offsetY:0,scale:.5}},m5={sm:48,md:80,lg:128,xl:180},_c=e=>{if(!e)return"";if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e))return e;let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return`${Math.abs(t).toString(16).padStart(8,"0")}-0000-0000-0000-000000000000`.substring(0,36)},Vn=(e,t)=>{if(!e)return null;const r=e.toLowerCase(),n=_c(r).toLowerCase(),s=cn.find(a=>a.id.toLowerCase()===r||_c(a.id).toLowerCase()===r||_c(a.id).toLowerCase()===n);if(s)return s.icon;if(t){const a=t.find(o=>o.id.toLowerCase()===r||_c(o.id).toLowerCase()===n);if(a!=null&&a.icon)return a.icon}return null};function Kn({slot:e,icon:t,spriteUrl:r,pixelSize:n,animated:s}){const[a,o]=m.useState(!1),l=p5[e],c=m.useCallback(()=>{o(!0)},[]);if(!t&&!r)return null;const u={zIndex:l.zIndex,transform:`translate(${l.offsetX}%, ${l.offsetY}%) scale(${l.scale})`,fontSize:`${n*.5}px`};return r&&!a?i.jsx("div",{className:U("pixel-layer",`layer-${e}`,s&&"layer-animated"),style:u,children:i.jsx("img",{src:r,alt:e,className:U("sprite-image pixelated",e==="background"&&"background-image-fill"),onError:c,style:e!=="background"?{width:n*l.scale,height:n*l.scale}:{width:"100%",height:"100%",objectFit:"cover"}})}):t?i.jsx("div",{className:U("pixel-layer",`layer-${e}`,s&&"layer-animated"),style:u,children:i.jsx("span",{className:"layer-icon",children:t})}):null}function Ct({playerClass:e,equippedHat:t,equippedArmor:r,equippedWeapon:n,equippedShield:s,equippedSkin:a,equippedMount:o,equippedLegs:l,equippedAccessory:c,equippedBackground:u,equippedItemsData:d,size:f="md",animated:h=!0,showEffects:p=!0}){const v=typeof f=="number"?f:m5[f],g=Vn(t,d),b=Vn(r,d),x=Vn(n,d),y=Vn(s,d),w=Vn(o,d),_=Vn(l,d),S=Vn(c,d);u&&Vn(u,d);const j=d==null?void 0:d.some(k=>k.rarity==="legendary"),C=(k=>{if(!k)return null;if(!k.includes("-0000-"))return k;const O=cn.find(F=>{let T=0;for(let M=0;M<F.id.length;M++)T=(T<<5)-T+F.id.charCodeAt(M),T|=0;return`${Math.abs(T).toString(16).padStart(8,"0")}-0000-0000-0000-000000000000`.substring(0,36)===k});return(O==null?void 0:O.id)||k})(u);return i.jsxs("div",{className:U("pixel-avatar-container",h&&"avatar-animated",j&&p&&"legendary-glow"),style:{width:v,height:v,position:"relative",backgroundColor:"transparent",border:"4px solid #ffb700",borderRadius:"4px",overflow:"hidden",isolation:"isolate"},children:[C&&i.jsx("img",{src:`/assets/sprites/background/${C}.png`,alt:"Cenrio",className:"pixelated absolute inset-0 w-full h-full object-cover opacity-100",style:{zIndex:0,imageRendering:"pixelated"}}),i.jsx("div",{className:"absolute inset-0 z-[2] pointer-events-none opacity-20 bg-black/10"}),i.jsxs("div",{className:"w-full h-full relative flex items-center justify-center pointer-events-none",style:{zIndex:10},children:[w&&i.jsx(Kn,{slot:"mount",icon:w,spriteUrl:`/assets/sprites/mount/${o}.png`,pixelSize:v,animated:h}),i.jsx("div",{className:"pixel-layer layer-body",style:{zIndex:10},children:i.jsx("img",{src:`/assets/images/class_${e}.png`,alt:e,className:"body-sprite pixelated",style:{filter:"contrast(110%) brightness(100%)"}})}),a&&i.jsx(Kn,{slot:"skin",spriteUrl:`/assets/sprites/skin/${a}.png`,pixelSize:v,animated:h}),_&&i.jsx(Kn,{slot:"legs",icon:_,spriteUrl:`/assets/sprites/legs/${l}.png`,pixelSize:v,animated:h}),b&&i.jsx(Kn,{slot:"chest",icon:b,spriteUrl:`/assets/sprites/chest/${r}.png`,pixelSize:v,animated:h}),y&&i.jsx(Kn,{slot:"shield",icon:y,spriteUrl:`/assets/sprites/shield/${s}.png`,pixelSize:v,animated:h}),g&&i.jsx(Kn,{slot:"head",icon:g,spriteUrl:`/assets/sprites/head/${t}.png`,pixelSize:v,animated:h}),x&&i.jsx(Kn,{slot:"weapon",icon:x,spriteUrl:`/assets/sprites/weapon/${n}.png`,pixelSize:v,animated:h}),S&&i.jsx(Kn,{slot:"accessory",icon:S,spriteUrl:`/assets/sprites/accessory/${c}.png`,pixelSize:v,animated:h}),i.jsx("div",{className:"avatar-shadow",style:{zIndex:9}})]}),p&&j&&i.jsx("div",{className:"legendary-particles",style:{zIndex:100}})]})}const g5={hp:{bg:"bg-hp/20",fill:"bg-hp",glow:"glow-hp",icon:"",label:"HP"},xp:{bg:"bg-xp/20",fill:"bg-xp",glow:"glow-xp",icon:"",label:"XP"},mana:{bg:"bg-mana/20",fill:"bg-mana",glow:"glow-mana",icon:"",label:"MP"}},v5={sm:"h-3",md:"h-5",lg:"h-7"};function Qf({current:e,max:t,type:r,showLabel:n=!0,size:s="md"}){const a=Math.min(e/t*100,100),o=g5[r];return i.jsxs("div",{className:"w-full",children:[n&&i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsxs("span",{className:"text-[8px] text-foreground/80 flex items-center gap-1",children:[i.jsx("span",{children:o.icon}),i.jsx("span",{children:o.label})]}),i.jsxs("span",{className:"text-[8px] text-foreground/60",children:[e,"/",t]})]}),i.jsxs("div",{className:U("w-full pixel-border relative overflow-hidden",o.bg,v5[s]),children:[i.jsx("div",{className:U("h-full transition-all duration-500 ease-out",o.fill,o.glow,a<25&&r==="hp"&&"animate-pulse-glow"),style:{width:`${a}%`}}),i.jsx("div",{className:"absolute inset-0 flex",children:[...Array(10)].map((l,c)=>i.jsx("div",{className:"flex-1 border-r border-background/20 last:border-r-0"},c))})]})]})}var Yf="focusScope.autoFocusOnMount",Xf="focusScope.autoFocusOnUnmount",zx={bubbles:!1,cancelable:!0},y5="FocusScope",Id=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=m.useState(null),u=Je(s),d=Je(a),f=m.useRef(null),h=fe(t,g=>c(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let g=function(w){if(p.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:Yn(f.current,{select:!0})},b=function(w){if(p.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||Yn(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Yn(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),y.disconnect()}}},[n,l,p.paused]),m.useEffect(()=>{if(l){Wx.add(p);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(Yf,zx);l.addEventListener(Yf,u),l.dispatchEvent(x),x.defaultPrevented||(x5(j5(NS(l)),{select:!0}),document.activeElement===g&&Yn(l))}return()=>{l.removeEventListener(Yf,u),setTimeout(()=>{const x=new CustomEvent(Xf,zx);l.addEventListener(Xf,d),l.dispatchEvent(x),x.defaultPrevented||Yn(g??document.body,{select:!0}),l.removeEventListener(Xf,d),Wx.remove(p)},0)}}},[l,u,d,p]);const v=m.useCallback(g=>{if(!r&&!n||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(b&&x){const y=g.currentTarget,[w,_]=b5(y);w&&_?!g.shiftKey&&x===_?(g.preventDefault(),r&&Yn(w,{select:!0})):g.shiftKey&&x===w&&(g.preventDefault(),r&&Yn(_,{select:!0})):x===y&&g.preventDefault()}},[r,n,p.paused]);return i.jsx(ne.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});Id.displayName=y5;function x5(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Yn(n,{select:t}),document.activeElement!==r)return}function b5(e){const t=NS(e),r=Hx(t,e),n=Hx(t.reverse(),e);return[r,n]}function NS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Hx(e,t){for(const r of e)if(!w5(r,{upTo:t}))return r}function w5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function _5(e){return e instanceof HTMLInputElement&&"select"in e}function Yn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&_5(e)&&t&&e.select()}}var Wx=S5();function S5(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Vx(e,t),e.unshift(t)},remove(t){var r;e=Vx(e,t),(r=e[0])==null||r.resume()}}}function Vx(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function j5(e){return e.filter(t=>t.tagName!=="A")}var Jf=0;function Eg(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Kx()),document.body.insertAdjacentElement("beforeend",e[1]??Kx()),Jf++,()=>{Jf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Jf--}},[])}function Kx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Gc="right-scroll-bar-position",Qc="width-before-scroll-bar",N5="with-scroll-bars-hidden",C5="--removed-body-scroll-bar-size";function Zf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function E5(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var k5=typeof window<"u"?m.useLayoutEffect:m.useEffect,Gx=new WeakMap;function T5(e,t){var r=E5(null,function(n){return e.forEach(function(s){return Zf(s,n)})});return k5(function(){var n=Gx.get(r);if(n){var s=new Set(n),a=new Set(e),o=r.current;s.forEach(function(l){a.has(l)||Zf(l,null)}),a.forEach(function(l){s.has(l)||Zf(l,o)})}Gx.set(r,e)},[e]),r}function P5(e){return e}function R5(e,t){t===void 0&&(t=P5);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function A5(e){e===void 0&&(e={});var t=R5(null);return t.options=Jr({async:!0,ssr:!1},e),t}var CS=function(e){var t=e.sideCar,r=oo(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,Jr({},r))};CS.isSideCarExport=!0;function O5(e,t){return e.useMedium(t),CS}var ES=A5(),eh=function(){},Md=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:eh,onWheelCapture:eh,onTouchMoveCapture:eh}),s=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,v=e.noIsolation,g=e.inert,b=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,w=e.gapMode,_=oo(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,j=T5([r,t]),N=Jr(Jr({},_),s);return m.createElement(m.Fragment,null,d&&m.createElement(S,{sideCar:ES,removeScrollBar:u,shards:f,noRelative:p,noIsolation:v,inert:g,setCallbacks:a,allowPinchZoom:!!b,lockRef:r,gapMode:w}),o?m.cloneElement(m.Children.only(l),Jr(Jr({},N),{ref:j})):m.createElement(y,Jr({},N,{className:c,ref:j}),l))});Md.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Md.classNames={fullWidth:Qc,zeroRight:Gc};var D5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function I5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=D5();return t&&e.setAttribute("nonce",t),e}function M5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function L5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var $5=function(){var e=0,t=null;return{add:function(r){e==0&&(t=I5())&&(M5(t,r),L5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},F5=function(){var e=$5();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},kS=function(){var e=F5(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},q5={left:0,top:0,right:0,gap:0},th=function(e){return parseInt(e||"",10)||0},U5=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[th(r),th(n),th(s)]},B5=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return q5;var t=U5(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},z5=kS(),_i="data-scroll-locked",H5=function(e,t,r,n){var s=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(N5,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(_i,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Qc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Gc," .").concat(Gc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Qc," .").concat(Qc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(_i,`] {
    `).concat(C5,": ").concat(l,`px;
  }
`)},Qx=function(){var e=parseInt(document.body.getAttribute(_i)||"0",10);return isFinite(e)?e:0},W5=function(){m.useEffect(function(){return document.body.setAttribute(_i,(Qx()+1).toString()),function(){var e=Qx()-1;e<=0?document.body.removeAttribute(_i):document.body.setAttribute(_i,e.toString())}},[])},V5=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;W5();var a=m.useMemo(function(){return B5(s)},[s]);return m.createElement(z5,{styles:H5(a,!t,s,r?"":"!important")})},Wp=!1;if(typeof window<"u")try{var Sc=Object.defineProperty({},"passive",{get:function(){return Wp=!0,!0}});window.addEventListener("test",Sc,Sc),window.removeEventListener("test",Sc,Sc)}catch{Wp=!1}var Ba=Wp?{passive:!1}:!1,K5=function(e){return e.tagName==="TEXTAREA"},TS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!K5(e)&&r[t]==="visible")},G5=function(e){return TS(e,"overflowY")},Q5=function(e){return TS(e,"overflowX")},Yx=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=PS(e,n);if(s){var a=RS(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Y5=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},X5=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},PS=function(e,t){return e==="v"?G5(t):Q5(t)},RS=function(e,t){return e==="v"?Y5(t):X5(t)},J5=function(e,t){return e==="h"&&t==="rtl"?-1:1},Z5=function(e,t,r,n,s){var a=J5(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=RS(e,l),v=p[0],g=p[1],b=p[2],x=g-b-a*v;(v||x)&&PS(e,l)&&(f+=x,h+=v);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},jc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Xx=function(e){return[e.deltaX,e.deltaY]},Jx=function(e){return e&&"current"in e?e.current:e},eM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},tM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},rM=0,za=[];function nM(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(rM++)[0],a=m.useState(kS)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=XO([e.lockRef.current],(e.shards||[]).map(Jx),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=jc(g),y=r.current,w="deltaX"in g?g.deltaX:y[0]-x[0],_="deltaY"in g?g.deltaY:y[1]-x[1],S,j=g.target,N=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in g&&N==="h"&&j.type==="range")return!1;var C=window.getSelection(),k=C&&C.anchorNode,O=k?k===j||k.contains(j):!1;if(O)return!1;var F=Yx(N,j);if(!F)return!0;if(F?S=N:(S=N==="v"?"h":"v",F=Yx(N,j)),!F)return!1;if(!n.current&&"changedTouches"in g&&(w||_)&&(n.current=S),!S)return!0;var T=n.current||S;return Z5(T,b,g,T==="h"?w:_)},[]),c=m.useCallback(function(g){var b=g;if(!(!za.length||za[za.length-1]!==a)){var x="deltaY"in b?Xx(b):jc(b),y=t.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&eM(S.delta,x)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(Jx).filter(Boolean).filter(function(S){return S.contains(b.target)}),_=w.length>0?l(b,w[0]):!o.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=m.useCallback(function(g,b,x,y){var w={name:g,delta:b,target:x,should:y,shadowParent:sM(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=m.useCallback(function(g){r.current=jc(g),n.current=void 0},[]),f=m.useCallback(function(g){u(g.type,Xx(g),g.target,l(g,e.lockRef.current))},[]),h=m.useCallback(function(g){u(g.type,jc(g),g.target,l(g,e.lockRef.current))},[]);m.useEffect(function(){return za.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Ba),document.addEventListener("touchmove",c,Ba),document.addEventListener("touchstart",d,Ba),function(){za=za.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Ba),document.removeEventListener("touchmove",c,Ba),document.removeEventListener("touchstart",d,Ba)}},[]);var p=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(a,{styles:tM(s)}):null,p?m.createElement(V5,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function sM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const aM=O5(ES,nM);var Ld=m.forwardRef(function(e,t){return m.createElement(Md,Jr({},e,{ref:t,sideCar:aM}))});Ld.classNames=Md.classNames;var iM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ha=new WeakMap,Nc=new WeakMap,Cc={},rh=0,AS=function(e){return e&&(e.host||AS(e.parentNode))},oM=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=AS(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},lM=function(e,t,r,n){var s=oM(t,Array.isArray(e)?e:[e]);Cc[r]||(Cc[r]=new WeakMap);var a=Cc[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),v=p!==null&&p!=="false",g=(Ha.get(h)||0)+1,b=(a.get(h)||0)+1;Ha.set(h,g),a.set(h,b),o.push(h),g===1&&v&&Nc.set(h,!0),b===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),rh++,function(){o.forEach(function(f){var h=Ha.get(f)-1,p=a.get(f)-1;Ha.set(f,h),a.set(f,p),h||(Nc.has(f)||f.removeAttribute(n),Nc.delete(f)),p||f.removeAttribute(r)}),rh--,rh||(Ha=new WeakMap,Ha=new WeakMap,Nc=new WeakMap,Cc={})}},kg=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=iM(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),lM(n,s,r,"aria-hidden")):function(){return null}};function cM(e){const t=uM(e),r=m.forwardRef((n,s)=>{const{children:a,...o}=n,l=m.Children.toArray(a),c=l.find(fM);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function uM(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const o=pM(s),l=hM(a,s.props);return s.type!==m.Fragment&&(l.ref=n?Ca(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dM=Symbol("radix.slottable");function fM(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dM}function hM(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function pM(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $d="Dialog",[OS]=nr($d),[mM,Br]=OS($d),DS=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=pr({prop:n,defaultProp:s??!1,onChange:a,caller:$d});return i.jsx(mM,{scope:t,triggerRef:l,contentRef:c,contentId:dr(),titleId:dr(),descriptionId:dr(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};DS.displayName=$d;var IS="DialogTrigger",MS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Br(IS,r),a=fe(t,s.triggerRef);return i.jsx(ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Rg(s.open),...n,ref:a,onClick:Y(e.onClick,s.onOpenToggle)})});MS.displayName=IS;var Tg="DialogPortal",[gM,LS]=OS(Tg,{forceMount:void 0}),$S=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Br(Tg,t);return i.jsx(gM,{scope:t,forceMount:r,children:m.Children.map(n,o=>i.jsx(Pt,{present:r||a.open,children:i.jsx(Ol,{asChild:!0,container:s,children:o})}))})};$S.displayName=Tg;var Lu="DialogOverlay",FS=m.forwardRef((e,t)=>{const r=LS(Lu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Br(Lu,e.__scopeDialog);return a.modal?i.jsx(Pt,{present:n||a.open,children:i.jsx(yM,{...s,ref:t})}):null});FS.displayName=Lu;var vM=cM("DialogOverlay.RemoveScroll"),yM=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Br(Lu,r);return i.jsx(Ld,{as:vM,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(ne.div,{"data-state":Rg(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),xa="DialogContent",qS=m.forwardRef((e,t)=>{const r=LS(xa,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Br(xa,e.__scopeDialog);return i.jsx(Pt,{present:n||a.open,children:a.modal?i.jsx(xM,{...s,ref:t}):i.jsx(bM,{...s,ref:t})})});qS.displayName=xa;var xM=m.forwardRef((e,t)=>{const r=Br(xa,e.__scopeDialog),n=m.useRef(null),s=fe(t,r.contentRef,n);return m.useEffect(()=>{const a=n.current;if(a)return kg(a)},[]),i.jsx(US,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Y(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Y(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Y(e.onFocusOutside,a=>a.preventDefault())})}),bM=m.forwardRef((e,t)=>{const r=Br(xa,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return i.jsx(US,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),US=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Br(xa,r),c=m.useRef(null),u=fe(t,c);return Eg(),i.jsxs(i.Fragment,{children:[i.jsx(Id,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Ea,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Rg(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(wM,{titleId:l.titleId}),i.jsx(SM,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Pg="DialogTitle",BS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Br(Pg,r);return i.jsx(ne.h2,{id:s.titleId,...n,ref:t})});BS.displayName=Pg;var zS="DialogDescription",HS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Br(zS,r);return i.jsx(ne.p,{id:s.descriptionId,...n,ref:t})});HS.displayName=zS;var WS="DialogClose",VS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Br(WS,r);return i.jsx(ne.button,{type:"button",...n,ref:t,onClick:Y(e.onClick,()=>s.onOpenChange(!1))})});VS.displayName=WS;function Rg(e){return e?"open":"closed"}var KS="DialogTitleWarning",[n6,GS]=Jk(KS,{contentName:xa,titleName:Pg,docsSlug:"dialog"}),wM=({titleId:e})=>{const t=GS(KS),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},_M="DialogDescriptionWarning",SM=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${GS(_M).contentName}}.`;return m.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},jM=DS,NM=MS,CM=$S,QS=FS,YS=qS,XS=BS,JS=HS,EM=VS;const it=jM,Ul=NM,kM=CM,ZS=m.forwardRef(({className:e,...t},r)=>i.jsx(QS,{ref:r,className:U("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ZS.displayName=QS.displayName;const et=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(kM,{children:[i.jsx(ZS,{}),i.jsxs(YS,{ref:n,className:U("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(EM,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(ka,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));et.displayName=YS.displayName;const tt=({className:e,...t})=>i.jsx("div",{className:U("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});tt.displayName="DialogHeader";const Ag=({className:e,...t})=>i.jsx("div",{className:U("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ag.displayName="DialogFooter";const rt=m.forwardRef(({className:e,...t},r)=>i.jsx(XS,{ref:r,className:U("text-lg font-semibold leading-none tracking-tight",e),...t}));rt.displayName=XS.displayName;const Og=m.forwardRef(({className:e,...t},r)=>i.jsx(JS,{ref:r,className:U("text-sm text-muted-foreground",e),...t}));Og.displayName=JS.displayName;const TM=hd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function yt({className:e,variant:t,...r}){return i.jsx("div",{className:U(TM({variant:t}),e),...r})}const PM=[{id:"warrior",name:"Guerreiro",type:"Tanque / Dano Fsico",description:"Mestres do combate corporal com alta resistncia e fora bruta.",icon:i.jsx(Vi,{className:"w-5 h-5 text-red-500"}),stats:{fora:5,vitalidade:4,agilidade:2,inteligncia:1},image:"/assets/images/class_warrior.png",color:"from-red-500/20 to-orange-500/20",borderColor:"border-red-500/30"},{id:"mage",name:"Mago",type:"Dano Mgico / Controle",description:"Poderosos usurios de magia que conjuram feitios devastadores.",icon:i.jsx(ST,{className:"w-5 h-5 text-blue-500"}),stats:{fora:1,vitalidade:2,agilidade:2,inteligncia:5},image:"/assets/images/class_mage.png",color:"from-blue-500/20 to-purple-500/20",borderColor:"border-blue-500/30"},{id:"rogue",name:"Ladino",type:"Dano Crtico / Agilidade",description:"Especialistas em ataques rpidos, furtividade e preciso mortal.",icon:i.jsx(dl,{className:"w-5 h-5 text-yellow-500"}),stats:{fora:3,vitalidade:2,agilidade:5,inteligncia:2},image:"/assets/images/class_rogue.png",color:"from-yellow-500/20 to-green-500/20",borderColor:"border-yellow-500/30"},{id:"cleric",name:"Clrigo",type:"Suporte / Regenerao",description:"Guardies divinos que curam feridas e protegem seus aliados.",icon:i.jsx(w1,{className:"w-5 h-5 text-pink-500"}),stats:{fora:2,vitalidade:4,agilidade:2,inteligncia:4},image:"/assets/images/class_cleric.png",color:"from-pink-500/20 to-rose-500/20",borderColor:"border-pink-500/30"}];function RM({open:e,onOpenChange:t}){return i.jsx(it,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"pixel-border bg-card max-w-4xl max-h-[90vh] overflow-y-auto p-0 gap-0 border-[#3d2b7a]",children:[i.jsxs(tt,{className:"p-6 bg-[#1a1035] border-b border-[#3d2b7a]/50",children:[i.jsxs(rt,{className:"text-[20px] text-[#ffb700] glow-gold text-center font-black tracking-widest uppercase flex items-center justify-center gap-3",children:[i.jsx(lp,{className:"w-6 h-6 animate-pulse"}),"Classes Lendrias do TasKLegends",i.jsx(lp,{className:"w-6 h-6 animate-pulse"})]}),i.jsx("p",{className:"text-[10px] text-zinc-400 text-center uppercase tracking-widest font-bold mt-2",children:"Alcance o nvel 10 para desbloquear seu verdadeiro destino"})]}),i.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:PM.map(r=>i.jsxs("div",{className:U("pixel-border relative overflow-hidden group hover:scale-[1.02] transition-all duration-300","bg-gradient-to-br p-4 flex flex-col gap-3",r.color,r.borderColor),children:[i.jsx("div",{className:"absolute -right-4 -bottom-4 opacity-[0.05] group-hover:scale-150 transition-transform duration-700",children:r.icon}),i.jsxs("div",{className:"flex gap-4 items-start relative z-10",children:[i.jsx("div",{className:"w-24 h-24 pixel-border bg-black/40 p-1 shrink-0 overflow-hidden group-hover:border-primary/50 transition-colors",children:i.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover pixelated scale-110 group-hover:scale-125 transition-transform duration-500",onError:n=>{n.currentTarget.src="/assets/images/class_apprentice.png"}})}),i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-[16px] font-black text-white glow-gold uppercase tracking-tighter",children:r.name}),i.jsx("div",{className:"p-1.5 bg-black/40 pixel-border border-white/10",children:r.icon})]}),i.jsx(yt,{variant:"outline",className:"text-[8px] border-none bg-black/40 text-primary uppercase font-black px-2 h-5",children:r.type}),i.jsxs("p",{className:"text-[10px] text-zinc-300 leading-tight italic",children:['"',r.description,'"']})]})]}),i.jsx("div",{className:"grid grid-cols-2 gap-x-6 gap-y-2 pt-2 border-t border-white/5 relative z-10",children:Object.entries(r.stats).map(([n,s])=>i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between items-center text-[8px] uppercase font-bold text-zinc-400",children:[i.jsx("span",{children:n}),i.jsxs("span",{className:"text-white",children:[s,"/5"]})]}),i.jsx("div",{className:"h-1.5 w-full bg-black/40 pixel-border border-white/5 overflow-hidden",children:i.jsx("div",{className:"h-full bg-primary animate-pulse-glow",style:{width:`${s/5*100}%`}})})]},n))}),i.jsxs("div",{className:"mt-2 flex items-center justify-between pt-2",children:[i.jsxs("div",{className:"flex items-center gap-1 text-[9px] text-zinc-500 font-bold uppercase",children:[i.jsx(Wi,{className:"w-3 h-3 text-primary"}),"Nvel 10 Necessrio"]}),i.jsx("div",{className:"text-[8px] bg-primary/10 text-primary px-2 py-0.5 pixel-border border-primary/20 opacity-0 group-hover:opacity-100 transition-opacity",children:"Vem a..."})]})]},r.id))}),i.jsx("div",{className:"p-6 bg-muted/20 border-t border-[#3d2b7a]/30",children:i.jsxs("div",{className:"flex items-center gap-3 pixel-border p-3 bg-black/40",children:[i.jsx("div",{className:"w-10 h-10 pixel-border bg-primary/20 flex items-center justify-center shrink-0",children:i.jsx(Wi,{className:"w-6 h-6 text-primary animate-float"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] text-white font-black uppercase",children:"Dica do Mestre"}),i.jsx("p",{className:"text-[9px] text-zinc-400",children:"Complete suas tarefas dirias para ganhar XP e desbloquear estas poderosas classes mais rpido!"})]})]})})]})})}function AM(){const{profile:e}=At(),[t,r]=m.useState(!1);if(!e||e.player_class!=="apprentice"||e.level>=Tn)return null;const n=Tn-e.level;return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"relative group",children:i.jsxs("button",{onClick:()=>r(!0),className:U("w-full text-left pixel-border bg-gradient-to-r from-primary/20 to-secondary/20 p-3 relative transition-all duration-300","hover:scale-[1.02] hover:from-primary/30 hover:to-secondary/30 active:scale-95 group/btn","animate-pulse-glow"),children:[i.jsx("div",{className:"absolute -left-2 top-4 w-0 h-0 border-t-8 border-t-transparent border-r-8 border-r-border border-b-8 border-b-transparent"}),i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 pixel-border bg-primary/20 flex items-center justify-center shrink-0",children:i.jsx(Wi,{className:"w-5 h-5 text-primary animate-float"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] text-white font-black uppercase tracking-tight",children:" Voc  um Aprendiz!"}),i.jsxs("p",{className:"text-[8px] text-zinc-300 mt-0.5 font-medium",children:["Chegue ao ",i.jsxs("span",{className:"text-[#ffb700] font-bold",children:["Nvel ",Tn]})," para evoluir!"]}),i.jsxs("p",{className:"text-[8px] text-primary mt-1 flex items-center gap-1 font-bold",children:["Faltam ",n," nveis"]})]})]}),i.jsx("div",{className:"flex flex-col items-end gap-1",children:i.jsxs("div",{className:"px-2 py-1 bg-primary text-black text-[7px] font-black uppercase pixel-button flex items-center gap-1 group-hover/btn:bg-white transition-colors",children:["Ver Classes ",i.jsx(X2,{className:"w-2 h-2"})]})})]})]})}),i.jsx(RM,{open:t,onOpenChange:r})]})}function Zx(){const{profile:e,isLoading:t,assignAttributePoint:r,bonusStats:n,maxHp:s,maxMana:a,equippedItemsData:o,changeUsername:l}=At(),{myActiveRaid:c}=Ds(),{myGuild:u}=Cg(),[d,f]=m.useState(!1),[h,p]=m.useState(""),[v,g]=m.useState(!1),b=async()=>{if(!h.trim())return;g(!0),await l(h.trim())&&f(!1),g(!1)};if(t)return i.jsx("div",{className:"p-4 pixel-border-gold bg-card flex items-center justify-center min-h-[200px]",children:i.jsx(Hi,{className:"w-8 h-8 animate-spin text-primary"})});if(!e)return i.jsx("div",{className:"p-4 pixel-border-gold bg-card",children:i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Carregando perfil..."})});const x=jg[e.player_class],y=wl(e.level),w=e.player_class==="apprentice";return i.jsxs("div",{className:"space-y-3",children:[w&&e.level<Tn&&i.jsx(AM,{}),(()=>{const S=(j=>{if(!j)return null;if(!j.includes("-0000-"))return j;const N=cn.find(C=>{let k=0;for(let T=0;T<C.id.length;T++)k=(k<<5)-k+C.id.charCodeAt(T),k|=0;return`${Math.abs(k).toString(16).padStart(8,"0")}-0000-0000-0000-000000000000`.substring(0,36)===j});return(N==null?void 0:N.id)||j})(e.equipped_background);return i.jsxs("div",{className:U("p-4 pixel-border-gold space-y-4 relative overflow-hidden transition-all duration-700",S?"bg-black text-white shadow-2xl":"bg-card"),style:S?{backgroundColor:"#000"}:{},children:[S&&i.jsxs("div",{className:"absolute inset-0 z-0 select-none pointer-events-none transition-opacity duration-1000",children:[i.jsx("img",{src:`/assets/sprites/background/${S}.png`,className:"w-full h-full object-cover opacity-100 brightness-100 scale-100 pixelated animate-fade-in",alt:"Profile Background"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/60 via-transparent to-black/70"})]}),i.jsxs("div",{className:"relative z-10 space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-24 h-24 flex items-center justify-center overflow-visible",children:i.jsx(Ct,{playerClass:e.player_class,equippedHat:e.equipped_hat,equippedArmor:e.equipped_armor,equippedWeapon:e.equipped_weapon,equippedShield:e.equipped_shield,equippedSkin:e.equipped_skin,equippedMount:e.equipped_mount,equippedLegs:e.equipped_legs,equippedAccessory:e.equipped_accessory,equippedBackground:e.equipped_background,equippedItemsData:o,size:96,showEffects:!0})}),i.jsxs("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-primary text-primary-foreground text-[10px] px-2 py-0.5 pixel-border font-bold z-50",children:["Nv.",e.level]})]}),i.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[i.jsx("div",{className:"flex items-center gap-2 group",children:d?i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ke,{value:h,onChange:j=>p(j.target.value),placeholder:"Novo nome...",className:"h-7 text-[10px] w-32 pixel-border bg-black/50 text-white",autoFocus:!0}),i.jsx(G,{size:"icon",className:"h-7 w-7 bg-accent hover:bg-accent/80",onClick:b,disabled:v,children:v?i.jsx(Hi,{className:"w-3 h-3 animate-spin"}):i.jsx(As,{className:"w-3 h-3"})}),i.jsx(G,{size:"icon",variant:"destructive",className:"h-7 w-7",onClick:()=>f(!1),disabled:v,children:i.jsx(ka,{className:"w-3 h-3"})})]}):i.jsxs(i.Fragment,{children:[i.jsx("h2",{className:"text-[12px] font-bold truncate text-primary glow-gold",children:e.username}),!e.has_changed_username&&i.jsx("button",{onClick:()=>{p(e.username),f(!0)},className:"p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:text-primary",title:"Mudar nome (Uma nica vez)",children:i.jsx(dT,{className:"w-3 h-3"})}),e.is_pro&&i.jsx(on,{className:"w-4 h-4 text-primary"})]})}),i.jsxs("p",{className:"text-[9px] text-muted-foreground flex items-center gap-1 mt-1",children:[i.jsx("span",{className:"text-lg",children:x.icon}),i.jsx("span",{children:x.name})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[i.jsxs("div",{className:"flex items-center gap-1 bg-black/40 px-2 py-0.5 rounded pixel-border shadow-inner border-[#FFD700]/30 backdrop-blur-sm",children:[i.jsx(x1,{className:"w-3.5 h-3.5",style:{color:"hsl(var(--gold))"}}),i.jsx("span",{className:"text-[10px] font-black",style:{color:"hsl(var(--gold))"},children:e.gold.toLocaleString()})]}),i.jsxs("div",{className:"flex items-center gap-1 bg-black/40 px-2 py-0.5 rounded pixel-border shadow-inner border-[#B9F2FF]/30 backdrop-blur-sm",children:[i.jsx(zo,{className:"w-3.5 h-3.5",style:{color:"hsl(var(--diamond))"}}),i.jsx("span",{className:"text-[10px] font-black",style:{color:"hsl(var(--diamond))"},children:e.diamonds.toLocaleString()})]}),i.jsxs("div",{className:"flex items-center gap-1 bg-black/40 px-2 py-0.5 rounded pixel-border shadow-inner border-orange-500/30 backdrop-blur-sm",children:[i.jsx(md,{className:"w-3.5 h-3.5 text-orange-400"}),i.jsx("span",{className:"text-[10px] font-black text-orange-400",children:e.trophies||0})]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Qf,{current:e.current_hp,max:s,type:"hp",showLabel:!0}),i.jsx(Qf,{current:e.current_xp,max:y,type:"xp",showLabel:!0}),i.jsx(Qf,{current:e.current_mana,max:a,type:"mana",showLabel:!0})]}),i.jsxs("div",{className:"p-3 pixel-border bg-black/30 backdrop-blur-sm space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Atributos"}),e.points_to_assign>0&&i.jsxs("span",{className:"text-[9px] bg-primary text-primary-foreground px-2 py-0.5 rounded-full animate-pulse",children:["+",e.points_to_assign]})]}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"strength",name:"Fora",icon:"",val:e.strength,bonus:n.strength},{id:"intelligence",name:"Inteligncia",icon:"",val:e.intelligence,bonus:n.intelligence},{id:"constitution",name:"Constituio",icon:"",val:e.constitution,bonus:n.constitution},{id:"perception",name:"Percepo",icon:"",val:e.perception,bonus:n.perception}].map(j=>i.jsxs("div",{className:"flex items-center justify-between p-2 pixel-border bg-black/40",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[8px] text-muted-foreground uppercase",children:j.name}),i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsxs("span",{className:"text-[11px] font-bold",children:[j.icon," ",j.val+j.bonus]}),j.bonus>0&&i.jsxs("span",{className:"text-[7px] text-accent font-bold",children:["+",j.bonus]})]})]}),e.points_to_assign>0&&i.jsx("button",{onClick:()=>r(j.id),className:"w-5 h-5 flex items-center justify-center bg-primary text-primary-foreground pixel-border hover:bg-primary/80",children:"+"})]},j.id))})]}),i.jsxs("div",{className:"space-y-2",children:[(u||c)&&i.jsxs("div",{className:"space-y-1 pt-2 border-t border-white/10",children:[u&&i.jsxs("div",{className:"flex items-center gap-2 text-[8px] text-muted-foreground",children:[i.jsx(cl,{className:"w-3 h-3"}),i.jsxs("span",{children:["Guilda: ",i.jsx("span",{className:"font-bold text-white",children:u.name})]})]}),c&&i.jsxs("div",{className:"flex items-center gap-2 text-[8px] text-muted-foreground",children:[i.jsx(Bt,{className:"w-3 h-3 text-destructive"}),i.jsxs("span",{children:["Raid: ",i.jsx("span",{className:"font-bold text-white",children:c.name})]})]})]}),i.jsx("p",{className:"text-[8px] text-muted-foreground italic border-t border-white/10 pt-2",children:x.description})]})]})]})})()]})}function OM(){const{user:e}=$e(),{profile:t,updateProfile:r,healHp:n,addMana:s}=At(),a=Rt(),o=f=>{if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(f))return f;let h=0;for(let v=0;v<f.length;v++)h=(h<<5)-h+f.charCodeAt(v),h|=0;return`${Math.abs(h).toString(16).padStart(8,"0")}-0000-0000-0000-000000000000`.substring(0,36)},{data:l=[],isLoading:c}=Be({queryKey:["inventory",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:f,error:h}=await I.from("inventory").select(`
                  *,
                  db_item:shop_items(*)
                `).eq("user_id",e.id);if(h)throw console.error("Inventory Fetch Error:",h),h;console.log(`Inventrio carregado: ${(f==null?void 0:f.length)||0} itens para o usurio ${e.id}`);const p=(f||[]).map(v=>{var x,y;const g=cn.find(w=>o(w.id)===v.item_id),b=v.db_item||(g?{name:g.name,description:g.description,item_type:g.type,icon:g.icon,rarity:g.rarity,effect_type:(x=g.effects[0])==null?void 0:x.attribute,effect_value:(y=g.effects[0])==null?void 0:y.value}:null);return{...v,item:b}});return console.log("Itens mapeados:",p.map(v=>{var g;return(g=v.item)==null?void 0:g.name})),p},enabled:!!e}),u=de({mutationFn:async f=>{if(!e||!t||!f.item)return;const h=f.item;if(h.item_type==="consumable")h.effect_type==="heal_hp"?await n(h.effect_value):h.effect_type==="restore_mana"&&await s(h.effect_value),f.quantity>1?await I.from("inventory").update({quantity:f.quantity-1}).eq("id",f.id):await I.from("inventory").delete().eq("id",f.id),$.success(`Usou ${h.name}!`);else{const p=f.item_id,v=(h.item_type||h.type||"").toLowerCase();console.log(" Tentando equipar:",h.name,"| Tipo detectado:",v,"| ID:",p),$.info(`Equipando ${h.name}...`);const g={};if(v==="helmet"||v==="hat"?g.equipped_hat=p:v==="armor"?g.equipped_armor=p:v==="weapon"?g.equipped_weapon=p:v==="shield"?g.equipped_shield=p:v==="skin"?g.equipped_skin=p:v==="mount"?g.equipped_mount=p:v==="accessory"||v==="accessories"?g.equipped_accessory=p:v==="legs"?g.equipped_legs=p:(v==="background"||v==="backgrounds"||v==="cenrio"||v==="cenario")&&(g.equipped_background=p),Object.keys(g).length>0)try{await r.mutateAsync(g),$.success(`${h.name} equipado com sucesso!`),console.log(" Equipado com sucesso:",g)}catch(b){console.error(" Erro detalhado ao equipar:",b);const x=(b==null?void 0:b.message)||"Erro desconhecido";$.error(`Falha no banco de dados: ${x}`)}else console.warn(" Slot no encontrado para o tipo:",v),$.error(`No sei como usar este item: ${v}`)}},onSuccess:()=>{a.invalidateQueries({queryKey:["inventory",e==null?void 0:e.id]}),a.invalidateQueries({queryKey:["profile",e==null?void 0:e.id]}),a.invalidateQueries({queryKey:["equipped_items_data",e==null?void 0:e.id]})}}),d=async f=>{if(!e)return;const h={};(f==="hat"||f==="helmet")&&(h.equipped_hat=null),f==="armor"&&(h.equipped_armor=null),f==="weapon"&&(h.equipped_weapon=null),f==="shield"&&(h.equipped_shield=null),f==="skin"&&(h.equipped_skin=null),f==="mount"&&(h.equipped_mount=null),f==="accessory"&&(h.equipped_accessory=null),f==="legs"&&(h.equipped_legs=null),f==="background"&&(h.equipped_background=null),await r.mutateAsync(h),$.success("Item removido")};return{inventory:l,isLoading:c,useItem:u.mutate,unequipItem:d}}function Vp(e,[t,r]){return Math.min(r,Math.max(t,e))}function DM(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Dg="ScrollArea",[ej]=nr(Dg),[IM,mr]=ej(Dg),tj=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[p,v]=m.useState(null),[g,b]=m.useState(null),[x,y]=m.useState(0),[w,_]=m.useState(0),[S,j]=m.useState(!1),[N,C]=m.useState(!1),k=fe(t,F=>c(F)),O=Fl(s);return i.jsx(IM,{scope:r,type:n,dir:O,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:j,scrollbarY:g,onScrollbarYChange:b,scrollbarYEnabled:N,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:_,children:i.jsx(ne.div,{dir:O,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});tj.displayName=Dg;var rj="ScrollAreaViewport",nj=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=e,o=mr(rj,r),l=m.useRef(null),c=fe(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(ne.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});nj.displayName=rj;var fn="ScrollAreaScrollbar",Ig=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=mr(fn,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return m.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(MM,{...n,ref:t,forceMount:r}):s.type==="scroll"?i.jsx(LM,{...n,ref:t,forceMount:r}):s.type==="auto"?i.jsx(sj,{...n,ref:t,forceMount:r}):s.type==="always"?i.jsx(Mg,{...n,ref:t}):null});Ig.displayName=fn;var MM=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=mr(fn,e.__scopeScrollArea),[a,o]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(Pt,{present:r||a,children:i.jsx(sj,{"data-state":a?"visible":"hidden",...n,ref:t})})}),LM=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=mr(fn,e.__scopeScrollArea),a=e.orientation==="horizontal",o=qd(()=>c("SCROLL_END"),100),[l,c]=DM("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,o]),i.jsx(Pt,{present:r||l!=="hidden",children:i.jsx(Mg,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Y(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Y(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),sj=m.forwardRef((e,t)=>{const r=mr(fn,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,o]=m.useState(!1),l=e.orientation==="horizontal",c=qd(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Qi(r.viewport,c),Qi(r.content,c),i.jsx(Pt,{present:n||a,children:i.jsx(Mg,{"data-state":a?"visible":"hidden",...s,ref:t})})}),Mg=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=mr(fn,e.__scopeScrollArea),a=m.useRef(null),o=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=cj(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return zM(h,o.current,l,p)}return r==="horizontal"?i.jsx($M,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,p=e0(h,l,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?i.jsx(FM,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,p=e0(h,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),$M=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=mr(fn,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=fe(t,c,a.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(ij,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Fd(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),dj(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Fu(o.paddingLeft),paddingEnd:Fu(o.paddingRight)}})}})}),FM=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=mr(fn,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=fe(t,c,a.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(ij,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Fd(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),dj(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Fu(o.paddingTop),paddingEnd:Fu(o.paddingBottom)}})}})}),[qM,aj]=ej(fn),ij=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=mr(fn,r),[v,g]=m.useState(null),b=fe(t,k=>g(k)),x=m.useRef(null),y=m.useRef(""),w=p.viewport,_=n.content-n.viewport,S=Je(d),j=Je(c),N=qd(f,10);function C(k){if(x.current){const O=k.clientX-x.current.left,F=k.clientY-x.current.top;u({x:O,y:F})}}return m.useEffect(()=>{const k=O=>{const F=O.target;(v==null?void 0:v.contains(F))&&S(O,_)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[w,v,_,S]),m.useEffect(j,[n,j]),Qi(v,N),Qi(p.content,N),i.jsx(qM,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:Je(a),onThumbPointerUp:Je(o),onThumbPositionChange:j,onThumbPointerDown:Je(l),children:i.jsx(ne.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:Y(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),x.current=v.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(k))}),onPointerMove:Y(e.onPointerMove,C),onPointerUp:Y(e.onPointerUp,k=>{const O=k.target;O.hasPointerCapture(k.pointerId)&&O.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),$u="ScrollAreaThumb",oj=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=aj($u,e.__scopeScrollArea);return i.jsx(Pt,{present:r||s.hasThumb,children:i.jsx(UM,{ref:t,...n})})}),UM=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=mr($u,r),o=aj($u,r),{onThumbPositionChange:l}=o,c=fe(t,f=>o.onThumbChange(f)),u=m.useRef(void 0),d=qd(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const p=HM(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),i.jsx(ne.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Y(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),v=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x:v,y:g})}),onPointerUp:Y(e.onPointerUp,o.onThumbPointerUp)})});oj.displayName=$u;var Lg="ScrollAreaCorner",lj=m.forwardRef((e,t)=>{const r=mr(Lg,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(BM,{...e,ref:t}):null});lj.displayName=Lg;var BM=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=mr(Lg,r),[a,o]=m.useState(0),[l,c]=m.useState(0),u=!!(a&&l);return Qi(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Qi(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?i.jsx(ne.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Fu(e){return e?parseInt(e,10):0}function cj(e,t){const r=e/t;return isNaN(r)?0:r}function Fd(e){const t=cj(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function zM(e,t,r,n="ltr"){const s=Fd(r),a=s/2,o=t||a,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return uj([c,u],f)(e)}function e0(e,t,r="ltr"){const n=Fd(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Vp(e,c);return uj([0,o],[0,l])(u)}function uj(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function dj(e,t){return e>0&&e<t}var HM=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function qd(e,t){const r=Je(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Qi(e,t){const r=Je(t);nt(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var fj=tj,WM=nj,VM=lj;const Ud=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(fj,{ref:n,className:U("relative overflow-hidden",e),...r,children:[i.jsx(WM,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(hj,{}),i.jsx(VM,{})]}));Ud.displayName=fj.displayName;const hj=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(Ig,{ref:n,orientation:t,className:U("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(oj,{className:"relative flex-1 rounded-full bg-border"})}));hj.displayName=Ig.displayName;const pj={strength:{label:"FOR",icon:"",color:"text-red-400"},intelligence:{label:"INT",icon:"",color:"text-blue-400"},agility:{label:"AGI",icon:"",color:"text-yellow-400"},vitality:{label:"VIT",icon:"",color:"text-pink-400"},endurance:{label:"RES",icon:"",color:"text-green-400"},constitution:{label:"CON",icon:"",color:"text-orange-400"},perception:{label:"PER",icon:"",color:"text-purple-400"},damage:{label:"DMG",icon:"",color:"text-red-500"},hp:{label:"HP",icon:"",color:"text-red-300"},mana:{label:"MP",icon:"",color:"text-blue-300"},goldBonus:{label:"Ouro%",icon:"",color:"text-yellow-500"},xpBonus:{label:"XP%",icon:"",color:"text-purple-300"}};function qu({effects:e,compact:t=!1}){return!e||e.length===0?null:i.jsx("div",{className:U("flex flex-wrap gap-1",t?"mt-0.5":"mt-1"),children:e.map((r,n)=>{const s=pj[r.attribute]||{label:r.attribute,icon:"",color:"text-muted-foreground"};return i.jsxs("span",{className:U("inline-flex items-center gap-0.5 px-1 rounded text-[7px] font-bold bg-black/30",s.color),children:[i.jsx("span",{children:s.icon}),i.jsxs("span",{children:["+",r.value]}),!t&&i.jsx("span",{className:"opacity-70",children:s.label})]},n)})})}function KM({type:e,itemId:t,label:r,onUnequip:n}){const s=c=>{if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(c))return c;let u=0;for(let f=0;f<c.length;f++)u=(u<<5)-u+c.charCodeAt(f),u|=0;return`${Math.abs(u).toString(16).padStart(8,"0")}-0000-0000-0000-000000000000`.substring(0,36)},o=(c=>c?cn.find(u=>s(u.id)===c||u.id===c):null)(t),l=o&&Dd[o.rarity]||"";return i.jsx(dg,{children:i.jsxs(u_,{children:[i.jsx(d_,{asChild:!0,children:i.jsxs("div",{className:U("p-2 pixel-border bg-muted/50 flex flex-col items-center gap-1 min-h-[70px] justify-center relative transition-all hover:bg-muted/70",o&&l),children:[i.jsx("span",{className:"text-[7px] uppercase text-muted-foreground font-bold",children:r}),o?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-sm",children:o.icon}),i.jsx("span",{className:U("text-[8px] font-bold text-center truncate w-full px-1",l),children:o.name}),o.effects&&i.jsx(qu,{effects:o.effects,compact:!0})]}):i.jsx("span",{className:"text-muted-foreground text-lg",children:""}),o&&i.jsx(G,{size:"icon",variant:"ghost",className:"absolute top-1 right-1 h-4 w-4 text-destructive hover:bg-destructive/10",onClick:()=>n(e),children:""})]})}),o&&i.jsxs(fg,{side:"top",className:"pixel-border bg-card p-2 max-w-[200px]",children:[i.jsx("p",{className:U("font-bold text-xs",l),children:o.name}),i.jsx("p",{className:"text-[9px] text-muted-foreground mt-1",children:o.description}),o.effects&&i.jsxs("div",{className:"mt-2 pt-1 border-t border-border",children:[i.jsx("p",{className:"text-[8px] text-muted-foreground mb-1",children:"Atributos:"}),i.jsx(qu,{effects:o.effects})]})]})]})})}function GM({invItem:e,onUse:t,isEquipped:r,onUnequip:n}){var c,u,d,f,h,p;const s=v=>{if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(v))return v;let g=0;for(let x=0;x<v.length;x++)g=(g<<5)-g+v.charCodeAt(x),g|=0;return`${Math.abs(g).toString(16).padStart(8,"0")}-0000-0000-0000-000000000000`.substring(0,36)},a=cn.find(v=>s(v.id)===e.item_id||v.id===e.item_id),o=a||e.item,l=a&&Dd[a.rarity]||"";return o?i.jsx(dg,{children:i.jsxs(u_,{children:[i.jsx(d_,{asChild:!0,children:i.jsxs("div",{className:U("p-2 pixel-border bg-muted/30 hover:bg-muted/50 transition-all flex flex-col gap-2 relative group min-h-[100px]",l&&`border-l-2 ${l.split(" ")[1]}`,r&&"ring-1 ring-primary/50 bg-primary/5"),children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("div",{className:U("p-1 pixel-border bg-card",l),children:i.jsx("span",{className:"text-sm",children:(a==null?void 0:a.icon)||((c=e.item)==null?void 0:c.icon)||(((u=e.item)==null?void 0:u.item_type)==="consumable"?"":"")})}),i.jsxs("span",{className:"bg-primary text-primary-foreground text-[7px] px-1 pixel-border font-bold",children:["x",e.quantity]})]}),i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("p",{className:U("text-[8px] font-bold leading-tight truncate",l),children:(a==null?void 0:a.name)||((d=e.item)==null?void 0:d.name)}),(a==null?void 0:a.effects)&&i.jsx(qu,{effects:a.effects,compact:!0})]}),i.jsx(G,{size:"sm",onClick:v=>{v.stopPropagation(),r?n():t(e)},className:U("h-5 text-[7px] pixel-button mt-auto font-black",r?"bg-destructive hover:bg-destructive/80 text-white":"bg-primary hover:bg-primary/80 text-primary-foreground"),children:((f=e.item)==null?void 0:f.item_type)==="consumable"?"USAR":r?"DESEQUIPAR":"EQUIPAR"})]})}),i.jsxs(fg,{side:"top",className:"pixel-border bg-card p-2 max-w-[220px]",children:[i.jsx("p",{className:U("font-bold text-xs",l),children:(a==null?void 0:a.name)||((h=e.item)==null?void 0:h.name)}),i.jsx("p",{className:"text-[9px] text-muted-foreground mt-1",children:(a==null?void 0:a.description)||((p=e.item)==null?void 0:p.description)}),(a==null?void 0:a.effects)&&i.jsxs("div",{className:"mt-2 pt-1 border-t border-border",children:[i.jsxs("p",{className:"text-[8px] text-green-400 font-bold mb-1 flex items-center gap-1",children:[i.jsx(vT,{className:"w-3 h-3"})," Bnus:"]}),i.jsx(qu,{effects:a.effects})]})]})]})}):null}function QM({bonusStats:e}){const t=Object.entries(e).filter(([r,n])=>n>0);return t.length===0?null:i.jsxs(Ge,{className:"pixel-border bg-gradient-to-r from-purple-900/30 to-blue-900/30 border-purple-500/50",children:[i.jsx(Ir,{className:"pb-1 p-2",children:i.jsxs(Mr,{className:"text-[10px] flex items-center gap-1 text-purple-300",children:[i.jsx(Wi,{className:"w-3 h-3"})," Bnus de Equipamentos"]})}),i.jsx(dt,{className:"p-2 pt-0",children:i.jsx("div",{className:"flex flex-wrap gap-1",children:t.map(([r,n])=>{const s=pj[r]||{label:r,icon:"",color:"text-muted-foreground"};return i.jsxs("span",{className:U("inline-flex items-center gap-0.5 px-1.5 py-0.5 rounded text-[8px] font-bold bg-black/40",s.color),children:[i.jsx("span",{children:s.icon}),i.jsxs("span",{children:["+",n]}),i.jsx("span",{className:"opacity-70 ml-0.5",children:s.label})]},r)})})})]})}function YM(){const{inventory:e,useItem:t,unequipItem:r,isLoading:n}=OM(),{profile:s,bonusStats:a,equippedItemsData:o}=At();if(n)return i.jsx("div",{className:"p-4 text-center",children:"Carregando inventrio..."});const l=[{type:"hat",itemId:(s==null?void 0:s.equipped_hat)||null,label:"Cabea"},{type:"armor",itemId:(s==null?void 0:s.equipped_armor)||null,label:"Corpo"},{type:"legs",itemId:(s==null?void 0:s.equipped_legs)||null,label:"Pernas"},{type:"weapon",itemId:(s==null?void 0:s.equipped_weapon)||null,label:"Arma"},{type:"shield",itemId:(s==null?void 0:s.equipped_shield)||null,label:"Escudo"},{type:"accessory",itemId:(s==null?void 0:s.equipped_accessory)||null,label:"Acessrio"},{type:"skin",itemId:(s==null?void 0:s.equipped_skin)||null,label:"Pele"},{type:"mount",itemId:(s==null?void 0:s.equipped_mount)||null,label:"Montaria"},{type:"background",itemId:(s==null?void 0:s.equipped_background)||null,label:"Cenrio"}];return i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs(Ge,{className:"pixel-border bg-card",children:[i.jsx(Ir,{className:"pb-2 p-3",children:i.jsxs(Mr,{className:"text-[12px] flex items-center gap-2",children:[i.jsx(lT,{className:"w-4 h-4"})," Equipamento Atual"]})}),i.jsxs(dt,{className:"space-y-4 p-3",children:[i.jsx("div",{className:"flex justify-center py-4 bg-muted/30 pixel-border relative min-h-[140px]",children:s&&i.jsx(Ct,{playerClass:s.player_class,equippedHat:s.equipped_hat,equippedArmor:s.equipped_armor,equippedWeapon:s.equipped_weapon,equippedShield:s.equipped_shield,equippedSkin:s.equipped_skin,equippedMount:s.equipped_mount,equippedLegs:s.equipped_legs,equippedAccessory:s.equipped_accessory,equippedBackground:s.equipped_background,equippedItemsData:o,size:120,showEffects:!0})}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:l.map(c=>i.jsx(KM,{type:c.type,itemId:c.itemId,label:c.label,onUnequip:r},c.type))})]})]}),a&&i.jsx(QM,{bonusStats:a}),i.jsxs(Ge,{className:"pixel-border bg-card",children:[i.jsx(Ir,{className:"pb-2 p-3",children:i.jsxs(Mr,{className:"text-[12px] flex items-center gap-2 font-black uppercase",children:[i.jsx(cT,{className:"w-4 h-4"})," Mochila"]})}),i.jsx(dt,{className:"p-3",children:i.jsx(Ud,{className:"h-[300px] pr-2",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.length===0?i.jsxs("p",{className:"col-span-full text-center text-muted-foreground py-10 text-[9px]",children:["Mochila vazia. ",i.jsx("br",{})," Visite a loja!"]}):e.map(c=>{var h,p;const u=(((h=c.item)==null?void 0:h.item_type)||((p=c.item)==null?void 0:p.type)||"").toLowerCase(),f=s&&["equipped_hat","equipped_armor","equipped_weapon","equipped_shield","equipped_skin","equipped_mount","equipped_accessory","equipped_legs","equipped_background"].some(v=>s[v]===c.item_id);return i.jsx(GM,{invItem:c,onUse:t,isEquipped:!!f,onUnequip:()=>r(u)},c.id)})})})})]})]})}function oe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Wt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function jt(e,t){const r=oe(e);return isNaN(t)?Wt(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function qr(e,t){const r=oe(e);if(isNaN(t))return Wt(e,NaN);if(!t)return r;const n=r.getDate(),s=Wt(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const a=s.getDate();return n>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const $g=6048e5,XM=864e5,Ec=43200,t0=1440;let JM={};function co(){return JM}function un(e,t){var l,c,u,d;const r=co(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=oe(e),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function ba(e){return un(e,{weekStartsOn:1})}function mj(e){const t=oe(e),r=t.getFullYear(),n=Wt(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=ba(n),a=Wt(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=ba(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Yi(e){const t=oe(e);return t.setHours(0,0,0,0),t}function Xi(e){const t=oe(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function rn(e,t){const r=Yi(e),n=Yi(t),s=+r-Xi(r),a=+n-Xi(n);return Math.round((s-a)/XM)}function ZM(e){const t=mj(e),r=Wt(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ba(r)}function Kp(e,t){const r=t*7;return jt(e,r)}function e3(e,t){return qr(e,t*12)}function t3(e){let t;return e.forEach(function(r){const n=oe(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function r3(e){let t;return e.forEach(r=>{const n=oe(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Yc(e,t){const r=oe(e),n=oe(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function n3(e){return Wt(e,Date.now())}function $t(e,t){const r=Yi(e),n=Yi(t);return+r==+n}function Fg(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function s3(e){if(!Fg(e)&&typeof e!="number")return!1;const t=oe(e);return!isNaN(Number(t))}function Ji(e,t){const r=oe(e),n=oe(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function a3(e,t,r){const n=un(e,r),s=un(t,r),a=+n-Xi(n),o=+s-Xi(s);return Math.round((a-o)/$g)}function i3(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function o3(e,t){return+oe(e)-+oe(t)}function l3(e){const t=oe(e);return t.setHours(23,59,59,999),t}function Bd(e){const t=oe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function c3(e){const t=oe(e);return+l3(t)==+Bd(t)}function u3(e,t){const r=oe(e),n=oe(t),s=Yc(r,n),a=Math.abs(Ji(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);let l=Yc(r,n)===-s;c3(oe(e))&&a===1&&Yc(e,n)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function d3(e,t,r){const n=o3(e,t)/1e3;return i3(r==null?void 0:r.roundingMethod)(n)}function zt(e){const t=oe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function gj(e){const t=oe(e),r=Wt(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function qg(e,t){var l,c,u,d;const r=co(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=oe(e),a=s.getDay(),o=(a<n?-7:0)+6-(a-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function vj(e){return qg(e,{weekStartsOn:1})}const f3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},h3=(e,t,r)=>{let n;const s=f3[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Si(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const p3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},m3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},g3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},v3={date:Si({formats:p3,defaultWidth:"full"}),time:Si({formats:m3,defaultWidth:"full"}),dateTime:Si({formats:g3,defaultWidth:"full"})},y3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},x3=(e,t,r,n)=>y3[e];function Zr(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const b3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},w3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},S3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},j3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},N3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},C3=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},E3={ordinalNumber:C3,era:Zr({values:b3,defaultWidth:"wide"}),quarter:Zr({values:w3,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Zr({values:_3,defaultWidth:"wide"}),day:Zr({values:S3,defaultWidth:"wide"}),dayPeriod:Zr({values:j3,defaultWidth:"wide",formattingValues:N3,defaultFormattingWidth:"wide"})};function en(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?T3(l,f=>f.test(o)):k3(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function k3(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function T3(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function yj(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const P3=/^(\d+)(th|st|nd|rd)?/i,R3=/\d+/i,A3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},O3={any:[/^b/i,/^(a|c)/i]},D3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},I3={any:[/1/i,/2/i,/3/i,/4/i]},M3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},L3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},F3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},q3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},U3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},B3={ordinalNumber:yj({matchPattern:P3,parsePattern:R3,valueCallback:e=>parseInt(e,10)}),era:en({matchPatterns:A3,defaultMatchWidth:"wide",parsePatterns:O3,defaultParseWidth:"any"}),quarter:en({matchPatterns:D3,defaultMatchWidth:"wide",parsePatterns:I3,defaultParseWidth:"any",valueCallback:e=>e+1}),month:en({matchPatterns:M3,defaultMatchWidth:"wide",parsePatterns:L3,defaultParseWidth:"any"}),day:en({matchPatterns:$3,defaultMatchWidth:"wide",parsePatterns:F3,defaultParseWidth:"any"}),dayPeriod:en({matchPatterns:q3,defaultMatchWidth:"any",parsePatterns:U3,defaultParseWidth:"any"})},Ug={code:"en-US",formatDistance:h3,formatLong:v3,formatRelative:x3,localize:E3,match:B3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function z3(e){const t=oe(e);return rn(t,gj(t))+1}function xj(e){const t=oe(e),r=+ba(t)-+ZM(t);return Math.round(r/$g)+1}function bj(e,t){var d,f,h,p;const r=oe(e),n=r.getFullYear(),s=co(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Wt(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=un(o,t),c=Wt(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=un(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function H3(e,t){var l,c,u,d;const r=co(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=bj(e,t),a=Wt(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),un(a,t)}function wj(e,t){const r=oe(e),n=+un(r,t)-+H3(r,t);return Math.round(n/$g)+1}function _e(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Gn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return _e(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):_e(r+1,2)},d(e,t){return _e(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return _e(e.getHours()%12||12,t.length)},H(e,t){return _e(e.getHours(),t.length)},m(e,t){return _e(e.getMinutes(),t.length)},s(e,t){return _e(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return _e(s,t.length)}},Wa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},r0={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Gn.y(e,t)},Y:function(e,t,r,n){const s=bj(e,n),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return _e(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):_e(a,t.length)},R:function(e,t){const r=mj(e);return _e(r,t.length)},u:function(e,t){const r=e.getFullYear();return _e(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return _e(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return _e(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Gn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return _e(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=wj(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):_e(s,t.length)},I:function(e,t,r){const n=xj(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):_e(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Gn.d(e,t)},D:function(e,t,r){const n=z3(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):_e(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return _e(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return _e(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return _e(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Wa.noon:n===0?s=Wa.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Wa.evening:n>=12?s=Wa.afternoon:n>=4?s=Wa.morning:s=Wa.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Gn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Gn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):_e(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):_e(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Gn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Gn.s(e,t)},S:function(e,t){return Gn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return s0(n);case"XXXX":case"XX":return Ws(n);case"XXXXX":case"XXX":default:return Ws(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return s0(n);case"xxxx":case"xx":return Ws(n);case"xxxxx":case"xxx":default:return Ws(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+n0(n,":");case"OOOO":default:return"GMT"+Ws(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+n0(n,":");case"zzzz":default:return"GMT"+Ws(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return _e(n,t.length)},T:function(e,t,r){const n=e.getTime();return _e(n,t.length)}};function n0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+_e(a,2)}function s0(e,t){return e%60===0?(e>0?"-":"+")+_e(Math.abs(e)/60,2):Ws(e,t)}function Ws(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=_e(Math.trunc(n/60),2),a=_e(n%60,2);return r+s+t+a}const a0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},_j=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},W3=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return a0(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",a0(n,t)).replace("{{time}}",_j(s,t))},V3={p:_j,P:W3},K3=/^D+$/,G3=/^Y+$/,Q3=["D","DD","YY","YYYY"];function Y3(e){return K3.test(e)}function X3(e){return G3.test(e)}function J3(e,t,r){const n=Z3(e,t,r);if(console.warn(n),Q3.includes(e))throw new RangeError(n)}function Z3(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const eL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rL=/^'([^]*?)'?$/,nL=/''/g,sL=/[a-zA-Z]/;function Vt(e,t,r){var d,f,h,p,v,g,b,x;const n=co(),s=(r==null?void 0:r.locale)??n.locale??Ug,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((x=(b=n.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??0,l=oe(e);if(!s3(l))throw new RangeError("Invalid time value");let c=t.match(tL).map(y=>{const w=y[0];if(w==="p"||w==="P"){const _=V3[w];return _(y,s.formatLong)}return y}).join("").match(eL).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:aL(y)};if(r0[w])return{isToken:!0,value:y};if(w.match(sL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&X3(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Y3(w))&&J3(w,t,String(e));const _=r0[w[0]];return _(l,w,s.localize,u)}).join("")}function aL(e){const t=e.match(rL);return t?t[1].replace(nL,"'"):e}function iL(e,t,r){const n=co(),s=(r==null?void 0:r.locale)??n.locale??Ug,a=2520,o=Yc(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=oe(t),u=oe(e)):(c=oe(e),u=oe(t));const d=d3(u,c),f=(Xi(u)-Xi(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<t0){const v=Math.round(h/60);return s.formatDistance("aboutXHours",v,l)}else{if(h<a)return s.formatDistance("xDays",1,l);if(h<Ec){const v=Math.round(h/t0);return s.formatDistance("xDays",v,l)}else if(h<Ec*2)return p=Math.round(h/Ec),s.formatDistance("aboutXMonths",p,l)}if(p=u3(u,c),p<12){const v=Math.round(h/Ec);return s.formatDistance("xMonths",v,l)}else{const v=p%12,g=Math.trunc(p/12);return v<3?s.formatDistance("aboutXYears",g,l):v<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function oL(e,t){return iL(e,n3(e),t)}function lL(e){const t=oe(e),r=t.getFullYear(),n=t.getMonth(),s=Wt(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function cL(e){return Math.trunc(+oe(e)/1e3)}function uL(e){const t=oe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function dL(e,t){return a3(uL(e),zt(e),t)+1}function Gp(e,t){const r=oe(e),n=oe(t);return r.getTime()>n.getTime()}function Sj(e,t){const r=oe(e),n=oe(t);return+r<+n}function Bg(e,t){const r=oe(e),n=oe(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function fL(e,t){const r=oe(e),n=oe(t);return r.getFullYear()===n.getFullYear()}function nh(e,t){return jt(e,-t)}function sh(e,t){const r=oe(e),n=r.getFullYear(),s=r.getDate(),a=Wt(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const o=lL(a);return r.setMonth(t,Math.min(s,o)),r}function i0(e,t){const r=oe(e);return isNaN(+r)?Wt(e,NaN):(r.setFullYear(t),r)}const hL={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},pL=(e,t,r)=>{let n;const s=hL[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},mL={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},gL={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},vL={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yL={date:Si({formats:mL,defaultWidth:"full"}),time:Si({formats:gL,defaultWidth:"full"}),dateTime:Si({formats:vL,defaultWidth:"full"})},xL={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},bL=(e,t,r,n)=>{const s=xL[e];return typeof s=="function"?s(t):s},wL={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},_L={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},SL={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},jL={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},NL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},CL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},EL=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"":r+""},kL={ordinalNumber:EL,era:Zr({values:wL,defaultWidth:"wide"}),quarter:Zr({values:_L,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Zr({values:SL,defaultWidth:"wide"}),day:Zr({values:jL,defaultWidth:"wide"}),dayPeriod:Zr({values:NL,defaultWidth:"wide",formattingValues:CL,defaultFormattingWidth:"wide"})},TL=/^(\d+)[o]?/i,PL=/\d+/i,RL={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},AL={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},OL={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},DL={any:[/1/i,/2/i,/3/i,/4/i]},IL={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},ML={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},LL={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},$L={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},FL={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},qL={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},UL={ordinalNumber:yj({matchPattern:TL,parsePattern:PL,valueCallback:e=>parseInt(e,10)}),era:en({matchPatterns:RL,defaultMatchWidth:"wide",parsePatterns:AL,defaultParseWidth:"any"}),quarter:en({matchPatterns:OL,defaultMatchWidth:"wide",parsePatterns:DL,defaultParseWidth:"any",valueCallback:e=>e+1}),month:en({matchPatterns:IL,defaultMatchWidth:"wide",parsePatterns:ML,defaultParseWidth:"any"}),day:en({matchPatterns:LL,defaultMatchWidth:"wide",parsePatterns:$L,defaultParseWidth:"any"}),dayPeriod:en({matchPatterns:FL,defaultMatchWidth:"any",parsePatterns:qL,defaultParseWidth:"any"})},ks={code:"pt-BR",formatDistance:pL,formatLong:yL,formatRelative:bL,localize:kL,match:UL,options:{weekStartsOn:0,firstWeekContainsDate:1}},BL={easy:{border:"border-l-accent",badge:"bg-accent/20 text-accent",label:"Fcil"},medium:{border:"border-l-gold",badge:"bg-gold/20 text-gold",label:"Mdio"},hard:{border:"border-l-destructive",badge:"bg-destructive/20 text-destructive",label:"Difcil"}};function zL({task:e,onComplete:t,onDelete:r,disabled:n}){const s=BL[e.difficulty],a=e.due_date&&new Date(e.due_date)<new Date,o=e.status==="completed";return i.jsx("div",{className:U("p-3 bg-card pixel-border border-l-4 transition-all",s.border,o&&"opacity-60",a&&!o&&"animate-pulse-glow"),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h3",{className:U("text-[10px] font-bold truncate",o&&"line-through text-muted-foreground"),children:e.title}),e.is_pvp&&i.jsxs("span",{className:"flex items-center gap-1 text-[8px] px-2 py-0.5 pixel-border bg-primary/20 text-primary glow-gold",children:[i.jsx(Bt,{className:"w-2.5 h-2.5"}),"Duelo PvP"]}),i.jsx("span",{className:U("text-[8px] px-2 py-0.5 pixel-border",s.badge),children:s.label})]}),e.description&&i.jsx("p",{className:"text-[8px] text-muted-foreground mb-2 line-clamp-2",children:e.description}),i.jsxs("div",{className:"flex items-center gap-4 text-[8px] text-muted-foreground",children:[e.due_date&&i.jsxs("span",{className:U("flex items-center gap-1",a&&!o&&"text-destructive"),children:[i.jsx(v1,{className:"w-3 h-3"}),Vt(new Date(e.due_date),"dd MMM",{locale:ks})]}),i.jsxs("span",{className:"flex items-center gap-1 text-xp",children:[i.jsx(Bt,{className:"w-3 h-3"}),"+",e.xp_reward," XP"]}),i.jsxs("span",{className:"text-gold",children:["+",e.gold_reward," "]})]})]}),i.jsxs("div",{className:"flex gap-1",children:[!o&&i.jsx(G,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 pixel-button bg-accent/20 hover:bg-accent/40",onClick:()=>t==null?void 0:t(e.id),disabled:n,children:i.jsx(As,{className:"w-4 h-4 text-accent"})}),i.jsx(G,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 pixel-button bg-destructive/20 hover:bg-destructive/40",onClick:()=>r==null?void 0:r(e.id),children:i.jsx(pd,{className:"w-4 h-4 text-destructive"})})]})]})})}const Pa=m.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:U("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Pa.displayName="Textarea";var ie=function(){return ie=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ie.apply(this,arguments)};function HL(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function jj(e,t,r){for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Bl(e){return e.mode==="multiple"}function zl(e){return e.mode==="range"}function zd(e){return e.mode==="single"}var WL={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function VL(e,t){return Vt(e,"LLLL y",t)}function KL(e,t){return Vt(e,"d",t)}function GL(e,t){return Vt(e,"LLLL",t)}function QL(e){return"".concat(e)}function YL(e,t){return Vt(e,"cccccc",t)}function XL(e,t){return Vt(e,"yyyy",t)}var JL=Object.freeze({__proto__:null,formatCaption:VL,formatDay:KL,formatMonthCaption:GL,formatWeekNumber:QL,formatWeekdayName:YL,formatYearCaption:XL}),ZL=function(e,t,r){return Vt(e,"do MMMM (EEEE)",r)},e$=function(){return"Month: "},t$=function(){return"Go to next month"},r$=function(){return"Go to previous month"},n$=function(e,t){return Vt(e,"cccc",t)},s$=function(e){return"Week n. ".concat(e)},a$=function(){return"Year: "},i$=Object.freeze({__proto__:null,labelDay:ZL,labelMonthDropdown:e$,labelNext:t$,labelPrevious:r$,labelWeekNumber:s$,labelWeekday:n$,labelYearDropdown:a$});function o$(){var e="buttons",t=WL,r=Ug,n={},s={},a=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:JL,labels:i$,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:a,styles:o,today:l,mode:"default"}}function l$(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,a=e.fromDate,o=e.toDate;return n?a=zt(n):t&&(a=new Date(t,0,1)),s?o=Bd(s):r&&(o=new Date(r,11,31)),{fromDate:a?Yi(a):void 0,toDate:o?Yi(o):void 0}}var Nj=m.createContext(void 0);function c$(e){var t,r=e.initialProps,n=o$(),s=l$(r),a=s.fromDate,o=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(zd(r)||Bl(r)||zl(r))&&(c=r.onSelect);var u=ie(ie(ie({},n),r),{captionLayout:l,classNames:ie(ie({},n.classNames),r.classNames),components:ie({},r.components),formatters:ie(ie({},n.formatters),r.formatters),fromDate:a,labels:ie(ie({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:ie(ie({},n.modifiers),r.modifiers),modifiersClassNames:ie(ie({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:ie(ie({},n.styles),r.styles),toDate:o});return i.jsx(Nj.Provider,{value:u,children:e.children})}function Te(){var e=m.useContext(Nj);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Cj(e){var t=Te(),r=t.locale,n=t.classNames,s=t.styles,a=t.formatters.formatCaption;return i.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function u$(e){return i.jsx("svg",ie({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Ej(e){var t,r,n=e.onChange,s=e.value,a=e.children,o=e.caption,l=e.className,c=e.style,u=Te(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:u$;return i.jsxs("div",{className:l,style:c,children:[i.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),i.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:a}),i.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,i.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function d$(e){var t,r=Te(),n=r.fromDate,s=r.toDate,a=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return i.jsx(i.Fragment,{});if(!s)return i.jsx(i.Fragment,{});var f=[];if(fL(n,s))for(var h=zt(n),p=n.getMonth();p<=s.getMonth();p++)f.push(sh(h,p));else for(var h=zt(new Date),p=0;p<=11;p++)f.push(sh(h,p));var v=function(b){var x=Number(b.target.value),y=sh(zt(e.displayMonth),x);e.onChange(y)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Ej;return i.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(b){return i.jsx("option",{value:b.getMonth(),children:l(b,{locale:o})},b.getMonth())})})}function f$(e){var t,r=e.displayMonth,n=Te(),s=n.fromDate,a=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!s)return i.jsx(i.Fragment,{});if(!a)return i.jsx(i.Fragment,{});for(var p=s.getFullYear(),v=a.getFullYear(),g=p;g<=v;g++)h.push(i0(gj(new Date),g));var b=function(y){var w=i0(zt(r),Number(y.target.value));e.onChange(w)},x=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Ej;return i.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:b,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(y){return i.jsx("option",{value:y.getFullYear(),children:d(y,{locale:o})},y.getFullYear())})})}function h$(e,t){var r=m.useState(e),n=r[0],s=r[1],a=t===void 0?n:t;return[a,s]}function p$(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,a=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&Ji(a,s)<0){var u=-1*(c-1);s=qr(a,u)}return o&&Ji(s,o)<0&&(s=o),zt(s)}function m$(){var e=Te(),t=p$(e),r=h$(t,e.month),n=r[0],s=r[1],a=function(o){var l;if(!e.disableNavigation){var c=zt(o);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,a]}function g$(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=zt(e),a=zt(qr(s,n)),o=Ji(a,s),l=[],c=0;c<o;c++){var u=qr(s,c);l.push(u)}return r&&(l=l.reverse()),l}function v$(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,o=n?a:1,l=zt(e);if(!r)return qr(l,o);var c=Ji(r,e);if(!(c<a))return qr(l,o)}}function y$(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,o=n?a:1,l=zt(e);if(!r)return qr(l,-o);var c=Ji(l,r);if(!(c<=0))return qr(l,-o)}}var kj=m.createContext(void 0);function x$(e){var t=Te(),r=m$(),n=r[0],s=r[1],a=g$(n,t),o=v$(n,t),l=y$(n,t),c=function(f){return a.some(function(h){return Bg(f,h)})},u=function(f,h){c(f)||(h&&Sj(f,h)?s(qr(f,1+t.numberOfMonths*-1)):s(f))},d={currentMonth:n,displayMonths:a,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return i.jsx(kj.Provider,{value:d,children:e.children})}function Hl(){var e=m.useContext(kj);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function o0(e){var t,r=Te(),n=r.classNames,s=r.styles,a=r.components,o=Hl().goToMonth,l=function(d){o(qr(d,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:Cj,u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth});return i.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[i.jsx("div",{className:n.vhidden,children:u}),i.jsx(d$,{onChange:l,displayMonth:e.displayMonth}),i.jsx(f$,{onChange:l,displayMonth:e.displayMonth})]})}function b$(e){return i.jsx("svg",ie({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function w$(e){return i.jsx("svg",ie({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Uu=m.forwardRef(function(e,t){var r=Te(),n=r.classNames,s=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var o=a.join(" "),l=ie(ie({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),i.jsx("button",ie({},e,{ref:t,type:"button",className:o,style:l}))});function _$(e){var t,r,n=Te(),s=n.dir,a=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return i.jsx(i.Fragment,{});var h=u(e.previousMonth,{locale:a}),p=[o.nav_button,o.nav_button_previous].join(" "),v=d(e.nextMonth,{locale:a}),g=[o.nav_button,o.nav_button_next].join(" "),b=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:w$,x=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:b$;return i.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&i.jsx(Uu,{name:"previous-month","aria-label":h,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?i.jsx(b,{className:o.nav_icon,style:l.nav_icon}):i.jsx(x,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&i.jsx(Uu,{name:"next-month","aria-label":v,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?i.jsx(x,{className:o.nav_icon,style:l.nav_icon}):i.jsx(b,{className:o.nav_icon,style:l.nav_icon})})]})}function l0(e){var t=Te().numberOfMonths,r=Hl(),n=r.previousMonth,s=r.nextMonth,a=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(v){return Bg(e.displayMonth,v)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&a(n)},p=function(){s&&a(s)};return i.jsx(_$,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:n,onPreviousClick:h,onNextClick:p})}function S$(e){var t,r=Te(),n=r.classNames,s=r.disableNavigation,a=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:Cj,u;return s?u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=i.jsx(o0,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=i.jsxs(i.Fragment,{children:[i.jsx(o0,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),i.jsx(l0,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=i.jsxs(i.Fragment,{children:[i.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(l0,{displayMonth:e.displayMonth,id:e.id})]}),i.jsx("div",{className:n.caption,style:a.caption,children:u})}function j$(e){var t=Te(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?i.jsx("tfoot",{className:s,style:n.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:r})})}):i.jsx(i.Fragment,{})}function N$(e,t,r){for(var n=r?ba(new Date):un(new Date,{locale:e,weekStartsOn:t}),s=[],a=0;a<7;a++){var o=jt(n,a);s.push(o)}return s}function C$(){var e=Te(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,a=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=N$(s,a,o);return i.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&i.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return i.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function E$(){var e,t=Te(),r=t.classNames,n=t.styles,s=t.components,a=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:C$;return i.jsx("thead",{style:n.head,className:r.head,children:i.jsx(a,{})})}function k$(e){var t=Te(),r=t.locale,n=t.formatters.formatDay;return i.jsx(i.Fragment,{children:n(e.date,{locale:r})})}var zg=m.createContext(void 0);function T$(e){if(!Bl(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return i.jsx(zg.Provider,{value:t,children:e.children})}return i.jsx(P$,{initialProps:e.initialProps,children:e.children})}function P$(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,a=t.max,o=function(u,d,f){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var v=!!(d.selected&&s&&(n==null?void 0:n.length)===s);if(!v){var g=!!(!d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var b=n?jj([],n):[];if(d.selected){var x=b.findIndex(function(y){return $t(u,y)});b.splice(x,1)}else b.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,b,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=a&&n.length>a-1,f=n.some(function(h){return $t(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return i.jsx(zg.Provider,{value:c,children:r})}function Hg(){var e=m.useContext(zg);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function R$(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?$t(s,e)&&$t(n,e)?void 0:$t(s,e)?{from:s,to:void 0}:$t(n,e)?void 0:Gp(n,e)?{from:e,to:s}:{from:n,to:e}:s?Gp(e,s)?{from:s,to:e}:{from:e,to:s}:n?Sj(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var Wg=m.createContext(void 0);function A$(e){if(!zl(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(Wg.Provider,{value:t,children:e.children})}return i.jsx(O$,{initialProps:e.initialProps,children:e.children})}function O$(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},a=s.from,o=s.to,l=t.min,c=t.max,u=function(p,v,g){var b,x;(b=t.onDayClick)===null||b===void 0||b.call(t,p,v,g);var y=R$(p,n);(x=t.onSelect)===null||x===void 0||x.call(t,y,p,v,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],o?(d.range_end=[o],$t(a,o)||(d.range_middle=[{after:a,before:o}])):d.range_end=[a]):o&&(d.range_start=[o],d.range_end=[o]),l&&(a&&!o&&d.disabled.push({after:nh(a,l-1),before:jt(a,l-1)}),a&&o&&d.disabled.push({after:a,before:jt(a,l-1)}),!a&&o&&d.disabled.push({after:nh(o,l-1),before:jt(o,l-1)})),c){if(a&&!o&&(d.disabled.push({before:jt(a,-c+1)}),d.disabled.push({after:jt(a,c-1)})),a&&o){var f=rn(o,a)+1,h=c-f;d.disabled.push({before:nh(a,h)}),d.disabled.push({after:jt(o,h)})}!a&&o&&(d.disabled.push({before:jt(o,-c+1)}),d.disabled.push({after:jt(o,c-1)}))}return i.jsx(Wg.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function Vg(){var e=m.useContext(Wg);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Xc(e){return Array.isArray(e)?jj([],e):e!==void 0?[e]:[]}function D$(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=Xc(s)}),t}var Ur;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ur||(Ur={}));var I$=Ur.Selected,mn=Ur.Disabled,M$=Ur.Hidden,L$=Ur.Today,ah=Ur.RangeEnd,ih=Ur.RangeMiddle,oh=Ur.RangeStart,$$=Ur.Outside;function F$(e,t,r){var n,s=(n={},n[I$]=Xc(e.selected),n[mn]=Xc(e.disabled),n[M$]=Xc(e.hidden),n[L$]=[e.today],n[ah]=[],n[ih]=[],n[oh]=[],n[$$]=[],n);return e.fromDate&&s[mn].push({before:e.fromDate}),e.toDate&&s[mn].push({after:e.toDate}),Bl(e)?s[mn]=s[mn].concat(t.modifiers[mn]):zl(e)&&(s[mn]=s[mn].concat(r.modifiers[mn]),s[oh]=r.modifiers[oh],s[ih]=r.modifiers[ih],s[ah]=r.modifiers[ah]),s}var Tj=m.createContext(void 0);function q$(e){var t=Te(),r=Hg(),n=Vg(),s=F$(t,r,n),a=D$(t.modifiers),o=ie(ie({},s),a);return i.jsx(Tj.Provider,{value:o,children:e.children})}function Pj(){var e=m.useContext(Tj);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function U$(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function B$(e){return!!(e&&typeof e=="object"&&"from"in e)}function z$(e){return!!(e&&typeof e=="object"&&"after"in e)}function H$(e){return!!(e&&typeof e=="object"&&"before"in e)}function W$(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function V$(e,t){var r,n=t.from,s=t.to;if(n&&s){var a=rn(s,n)<0;a&&(r=[s,n],n=r[0],s=r[1]);var o=rn(e,n)>=0&&rn(s,e)>=0;return o}return s?$t(s,e):n?$t(n,e):!1}function K$(e){return Fg(e)}function G$(e){return Array.isArray(e)&&e.every(Fg)}function Q$(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(K$(r))return $t(e,r);if(G$(r))return r.includes(e);if(B$(r))return V$(e,r);if(W$(r))return r.dayOfWeek.includes(e.getDay());if(U$(r)){var n=rn(r.before,e),s=rn(r.after,e),a=n>0,o=s<0,l=Gp(r.before,r.after);return l?o&&a:a||o}return z$(r)?rn(e,r.after)>0:H$(r)?rn(r.before,e)>0:typeof r=="function"?r(e):!1})}function Kg(e,t,r){var n=Object.keys(t).reduce(function(a,o){var l=t[o];return Q$(e,l)&&a.push(o),a},[]),s={};return n.forEach(function(a){return s[a]=!0}),r&&!Bg(e,r)&&(s.outside=!0),s}function Y$(e,t){for(var r=zt(e[0]),n=Bd(e[e.length-1]),s,a,o=r;o<=n;){var l=Kg(o,t),c=!l.disabled&&!l.hidden;if(!c){o=jt(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),s||(s=o),o=jt(o,1)}return a||s}var X$=365;function Rj(e,t){var r=t.moveBy,n=t.direction,s=t.context,a=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,h={day:jt,week:Kp,month:qr,year:e3,startOfWeek:function(b){return s.ISOWeek?ba(b):un(b,{locale:f,weekStartsOn:c})},endOfWeek:function(b){return s.ISOWeek?vj(b):qg(b,{locale:f,weekStartsOn:c})}},p=h[r](e,n==="after"?1:-1);n==="before"&&u?p=t3([u,p]):n==="after"&&d&&(p=r3([d,p]));var v=!0;if(a){var g=Kg(p,a);v=!g.disabled&&!g.hidden}return v?p:l.count>X$?l.lastFocused:Rj(p,{moveBy:r,direction:n,context:s,modifiers:a,retry:ie(ie({},l),{count:l.count+1})})}var Aj=m.createContext(void 0);function J$(e){var t=Hl(),r=Pj(),n=m.useState(),s=n[0],a=n[1],o=m.useState(),l=o[0],c=o[1],u=Y$(t.displayMonths,r),d=s??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(s),a(void 0)},h=function(b){a(b)},p=Te(),v=function(b,x){if(s){var y=Rj(s,{moveBy:b,direction:x,context:p,modifiers:r});$t(s,y)||(t.goToDate(y,s),h(y))}},g={focusedDay:s,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return i.jsx(Aj.Provider,{value:g,children:e.children})}function Gg(){var e=m.useContext(Aj);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Z$(e,t){var r=Pj(),n=Kg(e,r,t);return n}var Qg=m.createContext(void 0);function eF(e){if(!zd(e.initialProps)){var t={selected:void 0};return i.jsx(Qg.Provider,{value:t,children:e.children})}return i.jsx(tF,{initialProps:e.initialProps,children:e.children})}function tF(e){var t=e.initialProps,r=e.children,n=function(a,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,a,a,o,l)},s={selected:t.selected,onDayClick:n};return i.jsx(Qg.Provider,{value:s,children:r})}function Oj(){var e=m.useContext(Qg);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function rF(e,t){var r=Te(),n=Oj(),s=Hg(),a=Vg(),o=Gg(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,p=o.focusMonthBefore,v=o.focusMonthAfter,g=o.focusYearBefore,b=o.focusYearAfter,x=o.focusStartOfWeek,y=o.focusEndOfWeek,w=function(q){var P,L,D,B;zd(r)?(P=n.onDayClick)===null||P===void 0||P.call(n,e,t,q):Bl(r)?(L=s.onDayClick)===null||L===void 0||L.call(s,e,t,q):zl(r)?(D=a.onDayClick)===null||D===void 0||D.call(a,e,t,q):(B=r.onDayClick)===null||B===void 0||B.call(r,e,t,q)},_=function(q){var P;h(e),(P=r.onDayFocus)===null||P===void 0||P.call(r,e,t,q)},S=function(q){var P;f(),(P=r.onDayBlur)===null||P===void 0||P.call(r,e,t,q)},j=function(q){var P;(P=r.onDayMouseEnter)===null||P===void 0||P.call(r,e,t,q)},N=function(q){var P;(P=r.onDayMouseLeave)===null||P===void 0||P.call(r,e,t,q)},C=function(q){var P;(P=r.onDayPointerEnter)===null||P===void 0||P.call(r,e,t,q)},k=function(q){var P;(P=r.onDayPointerLeave)===null||P===void 0||P.call(r,e,t,q)},O=function(q){var P;(P=r.onDayTouchCancel)===null||P===void 0||P.call(r,e,t,q)},F=function(q){var P;(P=r.onDayTouchEnd)===null||P===void 0||P.call(r,e,t,q)},T=function(q){var P;(P=r.onDayTouchMove)===null||P===void 0||P.call(r,e,t,q)},A=function(q){var P;(P=r.onDayTouchStart)===null||P===void 0||P.call(r,e,t,q)},R=function(q){var P;(P=r.onDayKeyUp)===null||P===void 0||P.call(r,e,t,q)},M=function(q){var P;switch(q.key){case"ArrowLeft":q.preventDefault(),q.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":q.preventDefault(),q.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":q.preventDefault(),q.stopPropagation(),u();break;case"ArrowUp":q.preventDefault(),q.stopPropagation(),d();break;case"PageUp":q.preventDefault(),q.stopPropagation(),q.shiftKey?g():p();break;case"PageDown":q.preventDefault(),q.stopPropagation(),q.shiftKey?b():v();break;case"Home":q.preventDefault(),q.stopPropagation(),x();break;case"End":q.preventDefault(),q.stopPropagation(),y();break}(P=r.onDayKeyDown)===null||P===void 0||P.call(r,e,t,q)},z={onClick:w,onFocus:_,onBlur:S,onKeyDown:M,onKeyUp:R,onMouseEnter:j,onMouseLeave:N,onPointerEnter:C,onPointerLeave:k,onTouchCancel:O,onTouchEnd:F,onTouchMove:T,onTouchStart:A};return z}function nF(){var e=Te(),t=Oj(),r=Hg(),n=Vg(),s=zd(e)?t.selected:Bl(e)?r.selected:zl(e)?n.selected:void 0;return s}function sF(e){return Object.values(Ur).includes(e)}function aF(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(sF(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function iF(e,t){var r=ie({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=ie(ie({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function oF(e,t,r){var n,s,a,o=Te(),l=Gg(),c=Z$(e,t),u=rF(e,c),d=nF(),f=!!(o.onDayClick||o.mode!=="default");m.useEffect(function(){var j;c.outside||l.focusedDay&&f&&$t(l.focusedDay,e)&&((j=r.current)===null||j===void 0||j.focus())},[l.focusedDay,e,r,f,c.outside]);var h=aF(o,c).join(" "),p=iF(o,c),v=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(a=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:k$,b=i.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),x={style:p,className:h,children:b,role:"gridcell"},y=l.focusTarget&&$t(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&$t(l.focusedDay,e),_=ie(ie(ie({},x),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||y?0:-1,n)),u),S={isButton:f,isHidden:v,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:x};return S}function lF(e){var t=m.useRef(null),r=oF(e.date,e.displayMonth,t);return r.isHidden?i.jsx("div",{role:"gridcell"}):r.isButton?i.jsx(Uu,ie({name:"day",ref:t},r.buttonProps)):i.jsx("div",ie({},r.divProps))}function cF(e){var t=e.number,r=e.dates,n=Te(),s=n.onWeekNumberClick,a=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!s)return i.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(p){s(t,r,p)};return i.jsx(Uu,{name:"week-number","aria-label":f,className:o.weeknumber,style:a.weeknumber,onClick:h,children:d})}function uF(e){var t,r,n=Te(),s=n.styles,a=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:lF,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:cF,d;return o&&(d=i.jsx("td",{className:a.cell,style:s.cell,children:i.jsx(u,{number:e.weekNumber,dates:e.dates})})),i.jsxs("tr",{className:a.row,style:s.row,children:[d,e.dates.map(function(f){return i.jsx("td",{className:a.cell,style:s.cell,role:"presentation",children:i.jsx(c,{displayMonth:e.displayMonth,date:f})},cL(f))})]})}function c0(e,t,r){for(var n=r!=null&&r.ISOWeek?vj(t):qg(t,r),s=r!=null&&r.ISOWeek?ba(e):un(e,r),a=rn(n,s),o=[],l=0;l<=a;l++)o.push(jt(s,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?xj(d):wj(d,r),h=u.find(function(p){return p.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function dF(e,t){var r=c0(zt(e),Bd(e),t);if(t!=null&&t.useFixedWeeks){var n=dL(e,t);if(n<6){var s=r[r.length-1],a=s.dates[s.dates.length-1],o=Kp(a,6-n),l=c0(Kp(a,1),o,t);r.push.apply(r,l)}}return r}function fF(e){var t,r,n,s=Te(),a=s.locale,o=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,p=s.ISOWeek,v=dF(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:a,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:E$,b=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:uF,x=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:j$;return i.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&i.jsx(g,{}),i.jsx("tbody",{className:o.tbody,style:l.tbody,children:v.map(function(y){return i.jsx(b,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),i.jsx(x,{displayMonth:e.displayMonth})]})}function hF(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var pF=hF()?m.useLayoutEffect:m.useEffect,lh=!1,mF=0;function u0(){return"react-day-picker-".concat(++mF)}function gF(e){var t,r=e??(lh?u0():null),n=m.useState(r),s=n[0],a=n[1];return pF(function(){s===null&&a(u0())},[]),m.useEffect(function(){lh===!1&&(lh=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function vF(e){var t,r,n=Te(),s=n.dir,a=n.classNames,o=n.styles,l=n.components,c=Hl().displayMonths,u=gF(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[a.month],h=o.month,p=e.displayIndex===0,v=e.displayIndex===c.length-1,g=!p&&!v;s==="rtl"&&(t=[p,v],v=t[0],p=t[1]),p&&(f.push(a.caption_start),h=ie(ie({},h),o.caption_start)),v&&(f.push(a.caption_end),h=ie(ie({},h),o.caption_end)),g&&(f.push(a.caption_between),h=ie(ie({},h),o.caption_between));var b=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:S$;return i.jsxs("div",{className:f.join(" "),style:h,children:[i.jsx(b,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(fF,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function yF(e){var t=Te(),r=t.classNames,n=t.styles;return i.jsx("div",{className:r.months,style:n.months,children:e.children})}function xF(e){var t,r,n=e.initialProps,s=Te(),a=Gg(),o=Hl(),l=m.useState(!1),c=l[0],u=l[1];m.useEffect(function(){s.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[s.initialFocus,c,a.focus,a.focusTarget,a]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=ie(ie({},s.styles.root),s.style),h=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,g){var b;return ie(ie({},v),(b={},b[g]=n[g],b))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:yF;return i.jsx("div",ie({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:i.jsx(p,{children:o.displayMonths.map(function(v,g){return i.jsx(vF,{displayIndex:g,displayMonth:v},g)})})}))}function bF(e){var t=e.children,r=HL(e,["children"]);return i.jsx(c$,{initialProps:r,children:i.jsx(x$,{children:i.jsx(eF,{initialProps:r,children:i.jsx(T$,{initialProps:r,children:i.jsx(A$,{initialProps:r,children:i.jsx(q$,{children:i.jsx(J$,{children:t})})})})})})})}function wF(e){return i.jsx(bF,ie({},e,{children:i.jsx(xF,{initialProps:e})}))}function Dj({className:e,classNames:t,showOutsideDays:r=!0,...n}){return i.jsx(wF,{showOutsideDays:r,className:U("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:U(zp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:U(zp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>i.jsx(J2,{className:"h-4 w-4"}),IconRight:({...s})=>i.jsx(Z2,{className:"h-4 w-4"})},...n})}Dj.displayName="Calendar";function _F(e){const t=SF(e),r=m.forwardRef((n,s)=>{const{children:a,...o}=n,l=m.Children.toArray(a),c=l.find(NF);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function SF(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const o=EF(s),l=CF(a,s.props);return s.type!==m.Fragment&&(l.ref=n?Ca(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jF=Symbol("radix.slottable");function NF(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jF}function CF(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function EF(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Hd="Popover",[Ij]=nr(Hd,[Os]),Wl=Os(),[kF,Is]=Ij(Hd),Mj=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!1}=e,l=Wl(t),c=m.useRef(null),[u,d]=m.useState(!1),[f,h]=pr({prop:n,defaultProp:s??!1,onChange:a,caller:Hd});return i.jsx(bd,{...l,children:i.jsx(kF,{scope:t,contentId:dr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:o,children:r})})};Mj.displayName=Hd;var Lj="PopoverAnchor",TF=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Is(Lj,r),a=Wl(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return m.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(Ll,{...a,...n,ref:t})});TF.displayName=Lj;var $j="PopoverTrigger",Fj=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Is($j,r),a=Wl(r),o=fe(t,s.triggerRef),l=i.jsx(ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Hj(s.open),...n,ref:o,onClick:Y(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(Ll,{asChild:!0,...a,children:l})});Fj.displayName=$j;var Yg="PopoverPortal",[PF,RF]=Ij(Yg,{forceMount:void 0}),qj=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,a=Is(Yg,t);return i.jsx(PF,{scope:t,forceMount:r,children:i.jsx(Pt,{present:r||a.open,children:i.jsx(Ol,{asChild:!0,container:s,children:n})})})};qj.displayName=Yg;var Zi="PopoverContent",Uj=m.forwardRef((e,t)=>{const r=RF(Zi,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,a=Is(Zi,e.__scopePopover);return i.jsx(Pt,{present:n||a.open,children:a.modal?i.jsx(OF,{...s,ref:t}):i.jsx(DF,{...s,ref:t})})});Uj.displayName=Zi;var AF=_F("PopoverContent.RemoveScroll"),OF=m.forwardRef((e,t)=>{const r=Is(Zi,e.__scopePopover),n=m.useRef(null),s=fe(t,n),a=m.useRef(!1);return m.useEffect(()=>{const o=n.current;if(o)return kg(o)},[]),i.jsx(Ld,{as:AF,allowPinchZoom:!0,children:i.jsx(Bj,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Y(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Y(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Y(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),DF=m.forwardRef((e,t)=>{const r=Is(Zi,e.__scopePopover),n=m.useRef(!1),s=m.useRef(!1);return i.jsx(Bj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Bj=m.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Is(Zi,r),p=Wl(r);return Eg(),i.jsx(Id,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Ea,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(wd,{"data-state":Hj(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),zj="PopoverClose",IF=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Is(zj,r);return i.jsx(ne.button,{type:"button",...n,ref:t,onClick:Y(e.onClick,()=>s.onOpenChange(!1))})});IF.displayName=zj;var MF="PopoverArrow",LF=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Wl(r);return i.jsx(_d,{...s,...n,ref:t})});LF.displayName=MF;function Hj(e){return e?"open":"closed"}var $F=Mj,FF=Fj,qF=qj,Wj=Uj;const UF=$F,BF=FF,Vj=m.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>i.jsx(qF,{children:i.jsx(Wj,{ref:s,align:t,sideOffset:r,className:U("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Vj.displayName=Wj.displayName;const zF=[{value:"easy",label:"Fcil",color:"bg-accent text-accent-foreground"},{value:"medium",label:"Mdio",color:"bg-gold text-primary-foreground"},{value:"hard",label:"Difcil",color:"bg-destructive text-destructive-foreground"}];function HF({onSubmit:e,canCreate:t,isCreating:r,onUpgrade:n}){const[s,a]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState("easy"),[d,f]=m.useState(),[h,p]=m.useState(!1),v=g=>{g.preventDefault(),s.trim()&&(e({title:s.trim(),description:o.trim()||void 0,difficulty:c,due_date:d==null?void 0:d.toISOString()}),a(""),l(""),u("easy"),f(void 0))};return t?i.jsxs("form",{onSubmit:v,className:"space-y-3 p-4 pixel-border bg-card",children:[i.jsx(Ke,{placeholder:"Nova tarefa...",value:s,onChange:g=>a(g.target.value),className:"pixel-border text-[10px] bg-input"}),i.jsx(Pa,{placeholder:"Descrio (opcional)",value:o,onChange:g=>l(g.target.value),className:"pixel-border text-[10px] bg-input min-h-[60px]"}),i.jsx("div",{className:"flex gap-2",children:zF.map(g=>i.jsx("button",{type:"button",onClick:()=>u(g.value),className:U("flex-1 py-2 text-[8px] pixel-button transition-all",c===g.value?g.color:"bg-muted text-muted-foreground hover:bg-muted/80"),children:g.label},g.value))}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(UF,{open:h,onOpenChange:p,children:[i.jsx(BF,{asChild:!0,children:i.jsxs(G,{type:"button",variant:"outline",className:U("flex-1 justify-start text-[10px] pixel-border",!d&&"text-muted-foreground"),children:[i.jsx(v1,{className:"mr-2 h-4 w-4"}),d?Vt(d,"PPP",{locale:ks}):"Data limite"]})}),i.jsx(Vj,{className:"w-auto p-0 pixel-border",align:"start",children:i.jsx(Dj,{mode:"single",selected:d,onSelect:g=>{f(g),p(!1)},disabled:g=>{const b=new Date;return b.setHours(0,0,0,0),g<b},initialFocus:!0,className:"pointer-events-auto"})})]}),i.jsxs(G,{type:"submit",disabled:!s.trim()||r,className:"pixel-button bg-primary hover:bg-primary/80 text-[10px]",children:[i.jsx(Il,{className:"w-4 h-4 mr-1"}),"Criar"]})]})]}):i.jsxs("div",{className:"p-6 pixel-border bg-card/50 text-center space-y-4 animate-in fade-in zoom-in-95",children:[i.jsx("div",{className:"w-12 h-12 bg-diamond/10 mx-auto flex items-center justify-center pixel-border",children:i.jsx(ua,{className:"w-6 h-6 text-diamond"})}),i.jsx("p",{className:"text-[11px] text-muted-foreground font-bold leading-relaxed px-4",children:"Limite atingido! Gaste 5 diamantes para desbloquear todas tarefas ilimitadas"}),i.jsx(G,{onClick:n,className:"w-full pixel-button bg-diamond hover:bg-diamond/80 text-[10px] h-10 shadow-lg glow-diamond",children:" DESBLOQUEAR TAREFAS ILIMITADAS"})]})}function WF(){const{user:e}=$e(),{profile:t,healHp:r,addXp:n,takeDamage:s}=At(),{myActiveRaid:a,dealDamageToBoss:o}=Ds(),l=Rt(),{data:c=[],isLoading:u}=Be({queryKey:["habits",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:b,error:x}=await I.from("habits").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(x)throw x;return b},enabled:!!e});m.useEffect(()=>{if(!e||c.length===0||!t||u)return;(async()=>{const x=new Date,y=x.toISOString().split("T")[0],w=`last_habit_check_${e.id}`;if(localStorage.getItem(w)===y)return;let S=0;const j=[];if(c.forEach(N=>{if(!N.last_completed)return;const C=new Date(N.last_completed),k=x.getTime()-C.getTime(),O=Math.floor(k/(1e3*60*60*24));let F=!1;(N.frequency==="daily"&&O>=2||N.frequency==="weekly"&&O>=8||N.frequency==="monthly"&&O>=31)&&(F=!0),F&&(S+=Gf,j.push(N.title))}),S>0){await s(S),$.error(` Ciclo de Hbitos: Voc recebeu ${S} de dano por no registrar: ${j.join(", ")}`);for(const N of j){const C=c.find(k=>k.title===N);C&&await I.from("habits").update({streak:0,times_failed:C.times_failed+1}).eq("id",C.id)}}localStorage.setItem(w,y)})()},[c,e==null?void 0:e.id,t==null?void 0:t.id,u]);const d=()=>t?t.is_pro?!0:c.length<f5:!1,f=de({mutationFn:async b=>{if(!e)throw new Error("Not authenticated");if(!d())throw new Error("Limite de hbitos gratuitos atingido. Faa upgrade para PRO!");const{data:x,error:y}=await I.from("habits").insert({user_id:e.id,title:b.title,frequency:b.frequency??"daily",is_positive:!0}).select().single();if(y)throw y;return x},onSuccess:()=>{l.invalidateQueries({queryKey:["habits",e==null?void 0:e.id]}),$.success(" Hbito criado!")}}),h=de({mutationFn:async b=>{if(!e)throw new Error("Not authenticated");const x=c.find(j=>j.id===b);if(!x)throw new Error("Hbito no encontrado");const y=new Date().toISOString().split("T")[0],w=x.last_completed;if(w===y)throw new Error("Hbito j registrado hoje!");let _=1;if(w){const j=new Date(w),N=new Date(y);Math.floor((N.getTime()-j.getTime())/(1e3*60*60*24))===1&&(_=x.streak+1)}const{error:S}=await I.from("habits").update({last_completed:y,streak:_,times_completed:x.times_completed+1}).eq("id",b);if(S)throw S;return{habit:x,newStreak:_}},onSuccess:async({newStreak:b})=>{const x=s5+Math.min(b,5);if(await r(x,!0),await n(Kf),a&&t){const y=t.level*2;await o(a.id,y),$.success(` +${Kf} XP, +${x} HP,  ${y} dmg (Streak: ${b} )`)}else $.success(` +${Kf} XP, +${x} HP (Streak: ${b} )`);l.invalidateQueries({queryKey:["habits",e==null?void 0:e.id]})},onError:b=>{$.error(b.message)}}),p=de({mutationFn:async b=>{if(!e)throw new Error("Not authenticated");const x=c.find(_=>_.id===b);if(!x)throw new Error("Hbito no encontrado");const y=new Date().toISOString().split("T")[0];if(x.last_completed===y)throw new Error("Hbito j registrado hoje!");const{error:w}=await I.from("habits").update({last_completed:y,streak:0,times_failed:x.times_failed+1}).eq("id",b);if(w)throw w;return x},onSuccess:async()=>{await s(Gf),l.invalidateQueries({queryKey:["habits",e==null?void 0:e.id]}),$.error(` -${Gf} HP (Streak perdido!)`)},onError:b=>{$.error(b.message)}}),v=de({mutationFn:async b=>{if(!e)throw new Error("Not authenticated");const{error:x}=await I.from("habits").delete().eq("id",b);if(x)throw x},onSuccess:()=>{l.invalidateQueries({queryKey:["habits",e==null?void 0:e.id]}),$.success(" Hbito removido")}}),g=b=>{const x=new Date().toISOString().split("T")[0];return b.last_completed===x};return{habits:c,isLoading:u,canCreateHabit:d(),createHabit:f.mutate,completePositive:h.mutate,completeNegative:p.mutate,deleteHabit:v.mutate,isCompletedToday:g}}function VF(e){const t=KF(e),r=m.forwardRef((n,s)=>{const{children:a,...o}=n,l=m.Children.toArray(a),c=l.find(QF);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function KF(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const o=XF(s),l=YF(a,s.props);return s.type!==m.Fragment&&(l.ref=n?Ca(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var GF=Symbol("radix.slottable");function QF(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===GF}function YF(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function XF(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function JF(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ZF=[" ","Enter","ArrowUp","ArrowDown"],e8=[" ","Enter"],wa="Select",[Wd,Vd,t8]=ud(wa),[uo]=nr(wa,[t8,Os]),Kd=Os(),[r8,Ms]=uo(wa),[n8,s8]=uo(wa),Kj=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:v}=e,g=Kd(t),[b,x]=m.useState(null),[y,w]=m.useState(null),[_,S]=m.useState(!1),j=Fl(u),[N,C]=pr({prop:n,defaultProp:s??!1,onChange:a,caller:wa}),[k,O]=pr({prop:o,defaultProp:l,onChange:c,caller:wa}),F=m.useRef(null),T=b?v||!!b.closest("form"):!0,[A,R]=m.useState(new Set),M=Array.from(A).map(z=>z.props.value).join(";");return i.jsx(bd,{...g,children:i.jsxs(r8,{required:p,scope:t,trigger:b,onTriggerChange:x,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:dr(),value:k,onValueChange:O,open:N,onOpenChange:C,dir:j,triggerPointerDownPosRef:F,disabled:h,children:[i.jsx(Wd.Provider,{scope:t,children:i.jsx(n8,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(z=>{R(q=>new Set(q).add(z))},[]),onNativeOptionRemove:m.useCallback(z=>{R(q=>{const P=new Set(q);return P.delete(z),P})},[]),children:r})}),T?i.jsxs(vN,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:z=>O(z.target.value),disabled:h,form:v,children:[k===void 0?i.jsx("option",{value:""}):null,Array.from(A)]},M):null]})})};Kj.displayName=wa;var Gj="SelectTrigger",Qj=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=Kd(r),o=Ms(Gj,r),l=o.disabled||n,c=fe(t,o.onTriggerChange),u=Vd(r),d=m.useRef("touch"),[f,h,p]=xN(g=>{const b=u().filter(w=>!w.disabled),x=b.find(w=>w.value===o.value),y=bN(b,g,x);y!==void 0&&o.onValueChange(y.value)}),v=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx(Ll,{asChild:!0,...a,children:i.jsx(ne.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":yN(o.value)?"":void 0,...s,ref:c,onClick:Y(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:Y(s.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:Y(s.onKeyDown,g=>{const b=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(b&&g.key===" ")&&ZF.includes(g.key)&&(v(),g.preventDefault())})})})});Qj.displayName=Gj;var Yj="SelectValue",Xj=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=e,c=Ms(Yj,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=fe(t,c.onValueNodeChange);return nt(()=>{u(d)},[u,d]),i.jsx(ne.span,{...l,ref:f,style:{pointerEvents:"none"},children:yN(c.value)?i.jsx(i.Fragment,{children:o}):a})});Xj.displayName=Yj;var a8="SelectIcon",Jj=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(ne.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});Jj.displayName=a8;var i8="SelectPortal",Zj=e=>i.jsx(Ol,{asChild:!0,...e});Zj.displayName=i8;var _a="SelectContent",eN=m.forwardRef((e,t)=>{const r=Ms(_a,e.__scopeSelect),[n,s]=m.useState();if(nt(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Na.createPortal(i.jsx(tN,{scope:e.__scopeSelect,children:i.jsx(Wd.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(rN,{...e,ref:t})});eN.displayName=_a;var Sr=10,[tN,Ls]=uo(_a),o8="SelectContentImpl",l8=VF("SelectContent.RemoveScroll"),rN=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:b,...x}=e,y=Ms(_a,r),[w,_]=m.useState(null),[S,j]=m.useState(null),N=fe(t,K=>_(K)),[C,k]=m.useState(null),[O,F]=m.useState(null),T=Vd(r),[A,R]=m.useState(!1),M=m.useRef(!1);m.useEffect(()=>{if(w)return kg(w)},[w]),Eg();const z=m.useCallback(K=>{const[ve,...Ce]=T().map(xe=>xe.ref.current),[ye]=Ce.slice(-1),pe=document.activeElement;for(const xe of K)if(xe===pe||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===ve&&S&&(S.scrollTop=0),xe===ye&&S&&(S.scrollTop=S.scrollHeight),xe==null||xe.focus(),document.activeElement!==pe))return},[T,S]),q=m.useCallback(()=>z([C,w]),[z,C,w]);m.useEffect(()=>{A&&q()},[A,q]);const{onOpenChange:P,triggerPointerDownPosRef:L}=y;m.useEffect(()=>{if(w){let K={x:0,y:0};const ve=ye=>{var pe,xe;K={x:Math.abs(Math.round(ye.pageX)-(((pe=L.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((xe=L.current)==null?void 0:xe.y)??0))}},Ce=ye=>{K.x<=10&&K.y<=10?ye.preventDefault():w.contains(ye.target)||P(!1),document.removeEventListener("pointermove",ve),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",Ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",Ce,{capture:!0})}}},[w,P,L]),m.useEffect(()=>{const K=()=>P(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[P]);const[D,B]=xN(K=>{const ve=T().filter(pe=>!pe.disabled),Ce=ve.find(pe=>pe.ref.current===document.activeElement),ye=bN(ve,K,Ce);ye&&setTimeout(()=>ye.ref.current.focus())}),V=m.useCallback((K,ve,Ce)=>{const ye=!M.current&&!Ce;(y.value!==void 0&&y.value===ve||ye)&&(k(K),ye&&(M.current=!0))},[y.value]),Z=m.useCallback(()=>w==null?void 0:w.focus(),[w]),ee=m.useCallback((K,ve,Ce)=>{const ye=!M.current&&!Ce;(y.value!==void 0&&y.value===ve||ye)&&F(K)},[y.value]),me=n==="popper"?Qp:nN,Ne=me===Qp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:b}:{};return i.jsx(tN,{scope:r,content:w,viewport:S,onViewportChange:j,itemRefCallback:V,selectedItem:C,onItemLeave:Z,itemTextRefCallback:ee,focusSelectedItem:q,selectedItemText:O,position:n,isPositioned:A,searchRef:D,children:i.jsx(Ld,{as:l8,allowPinchZoom:!0,children:i.jsx(Id,{asChild:!0,trapped:y.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:Y(s,K=>{var ve;(ve=y.trigger)==null||ve.focus({preventScroll:!0}),K.preventDefault()}),children:i.jsx(Ea,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:i.jsx(me,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:K=>K.preventDefault(),...x,...Ne,onPlaced:()=>R(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Y(x.onKeyDown,K=>{const ve=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!ve&&K.key.length===1&&B(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let ye=T().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(K.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const pe=K.target,xe=ye.indexOf(pe);ye=ye.slice(xe+1)}setTimeout(()=>z(ye)),K.preventDefault()}})})})})})})});rN.displayName=o8;var c8="SelectItemAlignedPosition",nN=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=Ms(_a,r),o=Ls(_a,r),[l,c]=m.useState(null),[u,d]=m.useState(null),f=fe(t,N=>d(N)),h=Vd(r),p=m.useRef(!1),v=m.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:x,focusSelectedItem:y}=o,w=m.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&b&&x){const N=a.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),O=x.getBoundingClientRect();if(a.dir!=="rtl"){const pe=O.left-C.left,xe=k.left-pe,He=N.left-xe,bt=N.width+He,Hr=Math.max(bt,C.width),gr=window.innerWidth-Sr,Wr=Vp(xe,[Sr,Math.max(Sr,gr-Hr)]);l.style.minWidth=bt+"px",l.style.left=Wr+"px"}else{const pe=C.right-O.right,xe=window.innerWidth-k.right-pe,He=window.innerWidth-N.right-xe,bt=N.width+He,Hr=Math.max(bt,C.width),gr=window.innerWidth-Sr,Wr=Vp(xe,[Sr,Math.max(Sr,gr-Hr)]);l.style.minWidth=bt+"px",l.style.right=Wr+"px"}const F=h(),T=window.innerHeight-Sr*2,A=g.scrollHeight,R=window.getComputedStyle(u),M=parseInt(R.borderTopWidth,10),z=parseInt(R.paddingTop,10),q=parseInt(R.borderBottomWidth,10),P=parseInt(R.paddingBottom,10),L=M+z+A+P+q,D=Math.min(b.offsetHeight*5,L),B=window.getComputedStyle(g),V=parseInt(B.paddingTop,10),Z=parseInt(B.paddingBottom,10),ee=N.top+N.height/2-Sr,me=T-ee,Ne=b.offsetHeight/2,K=b.offsetTop+Ne,ve=M+z+K,Ce=L-ve;if(ve<=ee){const pe=F.length>0&&b===F[F.length-1].ref.current;l.style.bottom="0px";const xe=u.clientHeight-g.offsetTop-g.offsetHeight,He=Math.max(me,Ne+(pe?Z:0)+xe+q),bt=ve+He;l.style.height=bt+"px"}else{const pe=F.length>0&&b===F[0].ref.current;l.style.top="0px";const He=Math.max(ee,M+g.offsetTop+(pe?V:0)+Ne)+Ce;l.style.height=He+"px",g.scrollTop=ve-ee+g.offsetTop}l.style.margin=`${Sr}px 0`,l.style.minHeight=D+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,l,u,g,b,x,a.dir,n]);nt(()=>w(),[w]);const[_,S]=m.useState();nt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const j=m.useCallback(N=>{N&&v.current===!0&&(w(),y==null||y(),v.current=!1)},[w,y]);return i.jsx(d8,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:i.jsx(ne.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});nN.displayName=c8;var u8="SelectPopperPosition",Qp=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Sr,...a}=e,o=Kd(r);return i.jsx(wd,{...o,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qp.displayName=u8;var[d8,Xg]=uo(_a,{}),Yp="SelectViewport",sN=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=Ls(Yp,r),o=Xg(Yp,r),l=fe(t,a.onViewportChange),c=m.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Wd.Slot,{scope:r,children:i.jsx(ne.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Y(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const v=window.innerHeight-Sr*2,g=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),x=Math.max(g,b);if(x<v){const y=x+p,w=Math.min(v,y),_=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});sN.displayName=Yp;var aN="SelectGroup",[f8,h8]=uo(aN),p8=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=dr();return i.jsx(f8,{scope:r,id:s,children:i.jsx(ne.div,{role:"group","aria-labelledby":s,...n,ref:t})})});p8.displayName=aN;var iN="SelectLabel",oN=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=h8(iN,r);return i.jsx(ne.div,{id:s.id,...n,ref:t})});oN.displayName=iN;var Bu="SelectItem",[m8,lN]=uo(Bu),cN=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=e,l=Ms(Bu,r),c=Ls(Bu,r),u=l.value===n,[d,f]=m.useState(a??""),[h,p]=m.useState(!1),v=fe(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,s)}),g=dr(),b=m.useRef("touch"),x=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(m8,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:m.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:i.jsx(Wd.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(ne.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:Y(o.onFocus,()=>p(!0)),onBlur:Y(o.onBlur,()=>p(!1)),onClick:Y(o.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:Y(o.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:Y(o.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:Y(o.onPointerMove,y=>{var w;b.current=y.pointerType,s?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Y(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Y(o.onKeyDown,y=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(e8.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});cN.displayName=Bu;var Ao="SelectItemText",uN=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,o=Ms(Ao,r),l=Ls(Ao,r),c=lN(Ao,r),u=s8(Ao,r),[d,f]=m.useState(null),h=fe(t,x=>f(x),c.onItemTextChange,x=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,x,c.value,c.disabled)}),p=d==null?void 0:d.textContent,v=m.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return nt(()=>(g(v),()=>b(v)),[g,b,v]),i.jsxs(i.Fragment,{children:[i.jsx(ne.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Na.createPortal(a.children,o.valueNode):null]})});uN.displayName=Ao;var dN="SelectItemIndicator",fN=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return lN(dN,r).isSelected?i.jsx(ne.span,{"aria-hidden":!0,...n,ref:t}):null});fN.displayName=dN;var Xp="SelectScrollUpButton",hN=m.forwardRef((e,t)=>{const r=Ls(Xp,e.__scopeSelect),n=Xg(Xp,e.__scopeSelect),[s,a]=m.useState(!1),o=fe(t,n.onScrollButtonChange);return nt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(mN,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});hN.displayName=Xp;var Jp="SelectScrollDownButton",pN=m.forwardRef((e,t)=>{const r=Ls(Jp,e.__scopeSelect),n=Xg(Jp,e.__scopeSelect),[s,a]=m.useState(!1),o=fe(t,n.onScrollButtonChange);return nt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(mN,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});pN.displayName=Jp;var mN=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=Ls("SelectScrollButton",r),o=m.useRef(null),l=Vd(r),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),nt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(ne.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Y(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Y(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Y(s.onPointerLeave,()=>{c()})})}),g8="SelectSeparator",gN=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(ne.div,{"aria-hidden":!0,...n,ref:t})});gN.displayName=g8;var Zp="SelectArrow",v8=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Kd(r),a=Ms(Zp,r),o=Ls(Zp,r);return a.open&&o.position==="popper"?i.jsx(_d,{...s,...n,ref:t}):null});v8.displayName=Zp;var y8="SelectBubbleInput",vN=m.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=m.useRef(null),a=fe(n,s),o=JF(t);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(ne.select,{...r,style:{...Gw,...r.style},ref:a,defaultValue:t})});vN.displayName=y8;function yN(e){return e===""||e===void 0}function xN(e){const t=Je(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function bN(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=x8(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function x8(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var b8=Kj,wN=Qj,w8=Xj,_8=Jj,S8=Zj,_N=eN,j8=sN,SN=oN,jN=cN,N8=uN,C8=fN,NN=hN,CN=pN,EN=gN;const Jg=b8,Zg=w8,Gd=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(wN,{ref:n,className:U("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(_8,{asChild:!0,children:i.jsx(Zm,{className:"h-4 w-4 opacity-50"})})]}));Gd.displayName=wN.displayName;const kN=m.forwardRef(({className:e,...t},r)=>i.jsx(NN,{ref:r,className:U("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(eT,{className:"h-4 w-4"})}));kN.displayName=NN.displayName;const TN=m.forwardRef(({className:e,...t},r)=>i.jsx(CN,{ref:r,className:U("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Zm,{className:"h-4 w-4"})}));TN.displayName=CN.displayName;const Qd=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(S8,{children:i.jsxs(_N,{ref:s,className:U("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(kN,{}),i.jsx(j8,{className:U("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(TN,{})]})}));Qd.displayName=_N.displayName;const E8=m.forwardRef(({className:e,...t},r)=>i.jsx(SN,{ref:r,className:U("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));E8.displayName=SN.displayName;const Yd=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(jN,{ref:n,className:U("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(C8,{children:i.jsx(As,{className:"h-4 w-4"})})}),i.jsx(N8,{children:t})]}));Yd.displayName=jN.displayName;const k8=m.forwardRef(({className:e,...t},r)=>i.jsx(EN,{ref:r,className:U("-mx-1 my-1 h-px bg-muted",e),...t}));k8.displayName=EN.displayName;const T8={daily:"Dirio",weekly:"Semanal",monthly:"Mensal"},PN={daily:"",weekly:"",monthly:""};function P8({onUpgrade:e}){const{habits:t,createHabit:r,completePositive:n,completeNegative:s,deleteHabit:a,isCompletedToday:o,canCreateHabit:l}=WF(),[c,u]=m.useState(""),[d,f]=m.useState("daily"),[h,p]=m.useState(!1),v=()=>{c.trim()&&(r({title:c.trim(),frequency:d}),u(""),f("daily"),p(!1))};return i.jsxs("div",{className:"space-y-4",children:[l?i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsx("p",{className:"text-[11px] text-muted-foreground font-bold text-center uppercase tracking-wide px-4",children:"Exemplo: ler 5 pginas do livro, estudar matemtica, estudar ingls"}),i.jsxs(it,{open:h,onOpenChange:p,children:[i.jsx(Ul,{asChild:!0,children:i.jsxs(G,{className:"w-full pixel-button bg-primary hover:bg-primary/80 text-[10px]",children:[i.jsx(Il,{className:"w-4 h-4 mr-2"}),"Novo Hbito"]})}),i.jsxs(et,{className:"pixel-dialog",children:[i.jsx(tt,{children:i.jsx(rt,{className:"text-[12px]",children:"Criar Hbito"})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-[11px] text-primary/70 font-bold mb-2 uppercase leading-snug",children:"Exemplo: ler 5 pginas do livro, estudar matemtica, estudar ingls"}),i.jsx(Ke,{placeholder:"Nome do hbito...",value:c,onChange:g=>u(g.target.value),className:"pixel-border text-[10px] bg-input"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[8px] text-muted-foreground",children:"Frequncia"}),i.jsxs(Jg,{value:d,onValueChange:g=>f(g),children:[i.jsx(Gd,{className:"pixel-border text-[10px]",children:i.jsx(Zg,{})}),i.jsx(Qd,{className:"pixel-border",children:Object.entries(T8).map(([g,b])=>i.jsxs(Yd,{value:g,className:"text-[10px]",children:[PN[g]," ",b]},g))})]})]}),i.jsx(G,{onClick:v,disabled:!c.trim(),className:"w-full pixel-button bg-primary hover:bg-primary/80 text-[10px]",children:"Criar Hbito"})]})]})]})]}):i.jsxs("div",{className:"p-6 pixel-border bg-card/50 text-center space-y-4 animate-in fade-in zoom-in-95",children:[i.jsx("div",{className:"w-12 h-12 bg-diamond/10 mx-auto flex items-center justify-center pixel-border",children:i.jsx(ua,{className:"w-6 h-6 text-diamond"})}),i.jsx("p",{className:"text-[11px] text-muted-foreground font-bold leading-relaxed px-4",children:"Limite atingido! Gaste 5 diamantes para desbloquear todas tarefas ilimitadas"}),i.jsx(G,{onClick:e,className:"w-full pixel-button bg-diamond hover:bg-diamond/80 text-[10px] h-10 shadow-lg glow-diamond",children:" DESBLOQUEAR HBITOS ILIMITADOS"})]}),i.jsx("div",{className:"space-y-2",children:t.length===0?i.jsx("p",{className:"text-[10px] text-muted-foreground text-center py-4",children:"Nenhum hbito ainda. Crie seu primeiro! "}):t.map(g=>i.jsx(R8,{habit:g,isCompleted:o(g),onPositive:n,onNegative:s,onDelete:a},g.id))}),i.jsxs("div",{className:"p-3 pixel-border bg-muted/20 space-y-1",children:[i.jsxs("p",{className:"text-[8px] text-muted-foreground",children:[i.jsx("span",{className:"text-accent",children:"+"})," Fiz o hbito!  Ganha XP e cura HP"]}),i.jsxs("p",{className:"text-[8px] text-muted-foreground",children:[i.jsx("span",{className:"text-destructive",children:"-"})," No fiz o hbito  Perde HP"]})]})]})}function R8({habit:e,isCompleted:t,onPositive:r,onNegative:n,onDelete:s}){const[a,o]=m.useState(!1),[l,c]=m.useState(!1),u=()=>{t||(c(!0),r(e.id),setTimeout(()=>c(!1),500))},d=()=>{t||(o(!0),n(e.id),setTimeout(()=>o(!1),500))};return i.jsxs("div",{className:U("p-3 bg-card pixel-border flex items-center gap-3 transition-all",t&&"opacity-60 bg-accent/10",a&&"animate-shake",l&&"animate-glow-pulse"),children:[i.jsx(G,{size:"sm",variant:"ghost",className:U("h-10 w-10 p-0 pixel-button text-lg font-bold",t?"bg-muted text-muted-foreground cursor-not-allowed":"bg-accent/20 hover:bg-accent/40 text-accent hover:text-accent"),onClick:u,disabled:t,children:"+"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:U("text-[10px] font-bold truncate",t&&"line-through text-muted-foreground"),children:e.title}),i.jsx("span",{className:"text-[8px] text-muted-foreground",children:PN[e.frequency]})]}),i.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.streak>0&&i.jsxs("div",{className:"flex items-center gap-1 text-[8px] text-gold",children:[i.jsx(b1,{className:"w-3 h-3"}),i.jsxs("span",{children:[e.streak," dias!"]})]}),i.jsxs("div",{className:"flex items-center gap-1 text-[8px] text-muted-foreground",children:[i.jsxs("span",{className:"text-accent",children:[" ",e.times_completed]}),i.jsx("span",{children:"/"}),i.jsxs("span",{className:"text-destructive",children:[" ",e.times_failed]})]})]})]}),i.jsx(G,{size:"sm",variant:"ghost",className:U("h-10 w-10 p-0 pixel-button text-lg font-bold",t?"bg-muted text-muted-foreground cursor-not-allowed":"bg-destructive/20 hover:bg-destructive/40 text-destructive hover:text-destructive"),onClick:d,disabled:t,children:""}),i.jsx(G,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 pixel-button bg-muted/50 hover:bg-destructive/20",onClick:()=>s(e.id),children:i.jsx(pd,{className:"w-4 h-4 text-muted-foreground hover:text-destructive"})})]})}const kc={pack_5:"https://buy.stripe.com/8x200b4fA4JD8ViboXds401",pack_10:"https://buy.stripe.com/3cI14f5jEb81fjG1Onds402",pack_20:"https://buy.stripe.com/4gMcMXcM62Bv2wU0Kjds403",pack_30:"https://buy.stripe.com/28E7sDbI2fohb3q3Wvds404"},d0=(e,t)=>{let r="";switch(e){case 5:r=kc.pack_5;break;case 10:r=kc.pack_10;break;case 20:r=kc.pack_20;break;case 30:r=kc.pack_30;break;default:return null}if(!r)return null;const n=r.includes("?")?"&":"?";return`${r}${n}client_reference_id=${t}`},A8=[{amount:5,price:"5.00",label:"R$ 5,00"},{amount:10,price:"10.00",label:"R$ 10,00"},{amount:20,price:"20.00",label:"R$ 20,00"},{amount:30,price:"30.00",label:"R$ 30,00"}];function O8({open:e,onOpenChange:t,defaultTab:r="weapons"}){const{user:n}=$e(),{profile:s,isLoading:a}=At(),o=Rt(),[l,c]=m.useState(r),[u,d]=m.useState(null);m.useEffect(()=>{e&&c(r)},[r,e]);const f=v=>{if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(v))return v;let g=0;for(let x=0;x<v.length;x++)g=(g<<5)-g+v.charCodeAt(x),g|=0;return`${Math.abs(g).toString(16).padStart(8,"0")}-0000-0000-0000-000000000000`.substring(0,36)},h=de({mutationFn:async v=>{var N,C;if(!s||!n)throw new Error("No autenticado");const g=v.priceType==="gold",b=Number(v.price),x=Number(s.gold||0),y=Number(s.diamonds||0),w=f(v.id);if(g&&x<b)throw new Error("Ouro insuficiente!");if(!g&&y<b)throw new Error("Diamantes insuficientes!");const{data:_}=await I.from("shop_items").select("id").eq("id",w).maybeSingle();if(!_){console.log("Sincronizando item com o banco de dados:",v.name,w);const{error:k}=await I.from("shop_items").insert({id:w,name:v.name,description:v.description,item_type:v.type,price_gold:g?b:0,price_diamonds:g?0:b,effect_type:(N=v.effects[0])==null?void 0:N.attribute,effect_value:(C=v.effects[0])==null?void 0:C.value,image_url:v.icon});if(k)throw console.error("Erro de sincronizao:",k),new Error("Falha tcnica ao registrar item no catlogo. Contate o suporte.")}const{error:S}=await I.from("profiles").update({gold:g?x-b:x,diamonds:g?y:y-b}).eq("user_id",n.id);if(S)throw S;const{data:j}=await I.from("inventory").select("*").eq("user_id",n.id).eq("item_id",w).maybeSingle();if(j){const{error:k}=await I.from("inventory").update({quantity:(j.quantity||1)+1}).eq("id",j.id);if(k)throw k}else{const{error:k}=await I.from("inventory").insert({user_id:n.id,item_id:w,quantity:1});if(k)throw k}return v},onSuccess:async v=>{await Promise.all([o.invalidateQueries({queryKey:["profile",n==null?void 0:n.id]}),o.invalidateQueries({queryKey:["inventory",n==null?void 0:n.id]}),o.refetchQueries({queryKey:["profile",n==null?void 0:n.id]}),o.refetchQueries({queryKey:["inventory",n==null?void 0:n.id]})]),$.success(` Comprou ${v.name}! Verifique sua mochila.`)},onError:v=>{$.error(v.message)}}),p=v=>cn.filter(g=>v.includes(g.type));return i.jsx(it,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"pixel-border bg-card max-w-2xl max-h-[90vh] flex flex-col p-0 overflow-hidden",children:[i.jsx(tt,{className:"p-6 border-b border-border bg-muted/20",children:i.jsx(rt,{className:"text-[18px] text-[#ffb700] glow-gold text-center font-black tracking-widest uppercase flex items-center justify-center gap-2",children:" Loja do Aventureiro "})}),i.jsxs(bS,{value:l,onValueChange:c,className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx("div",{className:"px-6 py-2 border-b border-border bg-muted/10",children:i.jsxs(Sg,{className:"grid grid-cols-2 sm:grid-cols-4 md:flex md:flex-wrap items-center justify-center w-full h-auto p-1.5 gap-1.5 bg-black/40 pixel-border border-[#3d2b7a]/50",children:[i.jsx(Cr,{value:"weapons",className:"text-[11px] font-black uppercase px-3 py-2.5 flex-1 min-w-[85px] data-[state=active]:bg-primary/20 data-[state=active]:text-primary",children:" Armas"}),i.jsx(Cr,{value:"armor",className:"text-[11px] font-black uppercase px-3 py-2.5 flex-1 min-w-[85px] data-[state=active]:bg-blue-500/20 data-[state=active]:text-blue-400",children:" Armaduras"}),i.jsx(Cr,{value:"legs",className:"text-[11px] font-black uppercase px-3 py-2.5 flex-1 min-w-[85px] data-[state=active]:bg-indigo-500/20 data-[state=active]:text-indigo-400",children:" Pernas"}),i.jsx(Cr,{value:"mounts",className:"text-[11px] font-black uppercase px-3 py-2.5 flex-1 min-w-[85px] data-[state=active]:bg-amber-700/20 data-[state=active]:text-amber-500",children:" Montarias"}),i.jsx(Cr,{value:"special",className:"text-[11px] font-black uppercase px-3 py-2.5 flex-1 min-w-[85px] data-[state=active]:bg-green-500/20 data-[state=active]:text-green-400",children:" Itens"}),i.jsx(Cr,{value:"accessories",className:"text-[11px] font-black uppercase px-3 py-2.5 flex-1 min-w-[85px] data-[state=active]:bg-purple-500/20 data-[state=active]:text-purple-400",children:" Acessrios"}),i.jsx(Cr,{value:"backgrounds",className:"text-[11px] font-black uppercase px-3 py-2.5 flex-1 min-w-[85px] data-[state=active]:bg-pink-500/20 data-[state=active]:text-pink-400",children:" Cenrios"}),i.jsx(Cr,{value:"diamonds",className:"text-[11px] font-black uppercase px-3 py-2.5 flex-1 min-w-[110px] italic text-diamond bg-diamond/5 shadow-inner border-diamond/20 transition-all data-[state=active]:bg-diamond/30 data-[state=active]:text-white animate-pulse",children:" Diamantes"})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[i.jsx("p",{className:"text-[10px] text-center text-muted-foreground mb-4 font-bold flex items-center justify-center gap-2",children:" Personalize o fundo do seu perfil com cenrios nicos!"}),a?i.jsxs("div",{className:"flex items-center justify-center py-20",children:[i.jsx(Hi,{className:"w-8 h-8 animate-spin text-primary"}),i.jsx("span",{className:"ml-2 text-[10px] uppercase font-bold",children:"Sincronizando Inventrio..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(Er,{value:"weapons",className:"m-0 space-y-3",children:p(["weapon"]).map(v=>i.jsx(Va,{item:v,profile:s,onPurchase:()=>{$.info(` Processando pedido: ${v.name}...`),h.mutate(v)},isPurchasing:h.isPending},v.id))}),i.jsx(Er,{value:"armor",className:"m-0 space-y-3",children:p(["armor","helmet","shield","hat"]).map(v=>i.jsx(Va,{item:v,profile:s,onPurchase:()=>{$.info(` Processando pedido: ${v.name}...`),h.mutate(v)},isPurchasing:h.isPending},v.id))}),i.jsx(Er,{value:"legs",className:"m-0 space-y-3",children:p(["legs"]).map(v=>i.jsx(Va,{item:v,profile:s,onPurchase:()=>{$.info(` Processando pedido: ${v.name}...`),h.mutate(v)},isPurchasing:h.isPending},v.id))}),i.jsx(Er,{value:"mounts",className:"m-0 space-y-3",children:p(["mount","skin"]).map(v=>i.jsx(Va,{item:v,profile:s,onPurchase:()=>{$.info(` Processando pedido: ${v.name}...`),h.mutate(v)},isPurchasing:h.isPending},v.id))}),i.jsx(Er,{value:"special",className:"m-0 space-y-3",children:p(["special","consumable"]).map(v=>i.jsx(Va,{item:v,profile:s,onPurchase:()=>{$.info(` Processando pedido: ${v.name}...`),h.mutate(v)},isPurchasing:h.isPending},v.id))}),i.jsx(Er,{value:"accessories",className:"m-0 space-y-3",children:p(["accessory"]).map(v=>i.jsx(Va,{item:v,profile:s,onPurchase:()=>{$.info(` Processando pedido: ${v.name}...`),h.mutate(v)},isPurchasing:h.isPending},v.id))}),i.jsx(Er,{value:"backgrounds",className:"m-0 space-y-4",children:i.jsx("div",{className:"grid grid-cols-1 gap-4",children:p(["background"]).map(v=>i.jsxs("div",{className:"p-2 pixel-border bg-card group relative overflow-hidden flex flex-col gap-2",children:[i.jsxs("div",{className:"relative w-full h-24 overflow-hidden rounded pixel-border bg-[#1a1035]",children:[i.jsx("img",{src:`/assets/sprites/background/${v.id}.png`,alt:v.name,className:"w-full h-full object-cover pixelated group-hover:scale-105 transition-transform duration-700",onError:g=>{g.currentTarget.style.display="none"}}),i.jsx("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-[12px] font-black text-white glow-gold tracking-tight",children:v.name}),i.jsx(yt,{variant:"outline",className:U("text-[7px] h-3 px-1 border-none bg-black/40",Dd[v.rarity]),children:SS[v.rarity].toUpperCase()})]})})]}),i.jsxs("div",{className:"flex items-center justify-between px-1 pb-1",children:[i.jsx("p",{className:"text-[9px] text-muted-foreground italic truncate flex-1 mr-2",children:v.description}),i.jsx("button",{onClick:()=>{$.info(` Adquirindo cenrio: ${v.name}...`),h.mutate(v)},disabled:h.isPending,className:U("pixel-button text-[10px] h-8 px-4 flex items-center gap-1",v.priceType==="gold"?"bg-gold text-black":"bg-diamond text-white"),children:h.isPending?"...":i.jsxs(i.Fragment,{children:[v.price," ",v.priceType==="gold"?"":""]})})]})]},v.id))})}),i.jsx(Er,{value:"diamonds",className:"m-0 space-y-4",children:i.jsxs("div",{className:"p-4 pixel-border bg-muted/30 space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 pixel-border bg-diamond/20 flex items-center justify-center",children:i.jsx(zo,{className:"w-7 h-7 text-diamond animate-pulse"})}),i.jsx("h3",{className:"text-[14px] font-black uppercase tracking-tighter text-diamond",children:"Carteira Google Pay"})]}),i.jsx("div",{className:"bg-card pixel-border p-4",children:u?i.jsxs("div",{className:"flex flex-col items-center gap-4 animate-in fade-in",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("p",{className:"text-[10px] uppercase font-bold text-muted-foreground",children:"Pacote Selecionado"}),i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(zo,{className:"w-6 h-6 text-diamond"}),i.jsxs("span",{className:"text-[20px] font-black text-diamond",children:[u.amount," Diamantes"]})]}),i.jsx("p",{className:"text-[14px] font-mono font-bold text-white",children:u.label})]}),i.jsx("div",{className:"my-4 w-full flex justify-center",children:i.jsxs("div",{className:"w-full space-y-3",children:[i.jsxs(G,{className:"w-full bg-[#635BFF] hover:bg-[#5851E2] text-white font-bold h-12 text-md shadow-lg transition-all hover:scale-[1.02] flex items-center justify-center gap-2",onClick:()=>{if(!d0(u.amount,n.id)){$.error("Link de pagamento indisponvel no momento.");return}const v=d0(u.amount,n.id);v&&(window.open(v,"_blank"),$.success("Aba de pagamento aberta!",{duration:5e3,description:"Aguarde! Seus diamantes sero entregues automaticamente assim que o pagamento confirmar."}))},children:[i.jsx("span",{children:"Pagar com Carto / Google Pay"}),i.jsx(rT,{className:"w-4 h-4"})]}),i.jsxs("p",{className:"text-[10px] text-muted-foreground text-center px-4",children:["Voc ser redirecionado para a pgina segura do Stripe.",i.jsx("br",{}),i.jsx("span",{className:"text-green-400 font-bold",children:"Automtico:"})," Seus diamantes chegaro em instantes aps a confirmao!"]})]})}),i.jsx(G,{variant:"ghost",className:"text-[10px] text-muted-foreground hover:text-red-400",onClick:()=>d(null),children:"Cancelar / Voltar"})]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-[12px] text-muted-foreground mb-4 font-bold text-center",children:"Selecione o pacote de diamantes:"}),i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2",children:A8.map(v=>i.jsxs("button",{onClick:()=>d(v),className:"p-5 pixel-border text-center transition-all group relative bg-card hover:bg-muted/50 hover:scale-105 active:scale-95",children:[i.jsx(zo,{className:"w-10 h-10 mx-auto text-diamond mb-3 group-hover:scale-110 transition-transform"}),i.jsx("p",{className:"text-[18px] font-black text-diamond leading-none",children:v.amount}),i.jsx("p",{className:"text-[10px] text-muted-foreground font-mono mt-1 font-bold",children:v.label})]},v.amount))})]})})]})})]})]})]})]})})}function Va({item:e,profile:t,onPurchase:r,isPurchasing:n}){const s=e.priceType==="gold",a=e.rarity==="legendary",l=Number(s?(t==null?void 0:t.gold)||0:(t==null?void 0:t.diamonds)||0)>=Number(e.price),c={strength:"Fora",intelligence:"Inteligncia",agility:"Agilidade",vitality:"Vida",endurance:"Resistncia",hp:"HP Mx",mana:"Mana Mx",damage:"Dano",xpBonus:"Bnus XP",goldBonus:"Bnus Ouro"};return i.jsxs("div",{className:U("p-3 pixel-border bg-card flex items-center gap-3 transition-all group relative overflow-hidden",a&&"pixel-border-gold bg-gradient-to-r from-gold/10 to-transparent",!l&&"opacity-90"),children:[i.jsx("div",{className:"absolute -right-4 -bottom-4 opacity-[0.03] group-hover:scale-150 transition-transform duration-500 pointer-events-none",children:i.jsx("span",{className:"text-8xl",children:e.icon})}),i.jsxs("div",{className:U("w-20 h-20 pixel-border flex items-center justify-center text-2xl relative shrink-0 overflow-hidden",e.type!=="background"&&"bg-muted",a&&"bg-gold/10 glow-gold"),children:[e.type==="background"?i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"scale-[0.8]",children:i.jsx(Ct,{playerClass:t==null?void 0:t.player_class,equippedHat:t==null?void 0:t.equipped_hat,equippedArmor:t==null?void 0:t.equipped_armor,equippedWeapon:t==null?void 0:t.equipped_weapon,equippedShield:t==null?void 0:t.equipped_shield,equippedLegs:t==null?void 0:t.equipped_legs,equippedAccessory:t==null?void 0:t.equipped_accessory,equippedBackground:e.id,size:80})})}):e.icon,a&&i.jsx("div",{className:"absolute -top-1 -right-1 z-10",children:i.jsx("div",{className:"bg-gold text-black text-[6px] px-1 font-bold h-3 flex items-center shadow-lg",children:"LENDRIO"})})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:U("text-[11px] font-bold truncate",a?"text-gold":"text-foreground"),children:e.name}),i.jsx(yt,{variant:"outline",className:U("text-[6px] h-3 px-1 border-none",Dd[e.rarity]),children:SS[e.rarity].toUpperCase()})]}),i.jsx("p",{className:"text-[8px] text-muted-foreground line-clamp-1",children:e.description}),i.jsx("div",{className:"flex gap-2 mt-1 flex-wrap",children:e.effects.map((u,d)=>i.jsxs("span",{className:"text-[7px] text-accent font-bold bg-accent/5 px-1 italic",children:["+",u.value," ",c[u.attribute]||u.attribute]},d))})]}),i.jsx("button",{onClick:u=>{u.stopPropagation(),console.log("CLICKED PURCHASE",e.name),r()},disabled:n,className:U("pixel-button text-[10px] h-9 px-3 shrink-0 relative z-50 flex items-center justify-center gap-1 min-w-[80px]",e.priceType==="gold"?"bg-gold text-black active:translate-y-1":"bg-diamond hover:bg-diamond/80 text-white active:translate-y-1",n&&"opacity-50 cursor-not-allowed"),children:n?"...":i.jsxs(i.Fragment,{children:[e.price," ",e.priceType==="gold"?"":""]})})]})}var Xd="Collapsible",[D8,RN]=nr(Xd),[I8,ev]=D8(Xd),AN=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:o,...l}=e,[c,u]=pr({prop:n,defaultProp:s??!1,onChange:o,caller:Xd});return i.jsx(I8,{scope:r,disabled:a,contentId:dr(),open:c,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),children:i.jsx(ne.div,{"data-state":rv(c),"data-disabled":a?"":void 0,...l,ref:t})})});AN.displayName=Xd;var ON="CollapsibleTrigger",DN=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=ev(ON,r);return i.jsx(ne.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":rv(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:Y(e.onClick,s.onOpenToggle)})});DN.displayName=ON;var tv="CollapsibleContent",IN=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=ev(tv,e.__scopeCollapsible);return i.jsx(Pt,{present:r||s.open,children:({present:a})=>i.jsx(M8,{...n,ref:t,present:a})})});IN.displayName=tv;var M8=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,o=ev(tv,r),[l,c]=m.useState(n),u=m.useRef(null),d=fe(t,u),f=m.useRef(0),h=f.current,p=m.useRef(0),v=p.current,g=o.open||l,b=m.useRef(g),x=m.useRef(void 0);return m.useEffect(()=>{const y=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(y)},[]),nt(()=>{const y=u.current;if(y){x.current=x.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();f.current=w.height,p.current=w.width,b.current||(y.style.transitionDuration=x.current.transitionDuration,y.style.animationName=x.current.animationName),c(n)}},[o.open,n]),i.jsx(ne.div,{"data-state":rv(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:g&&s})});function rv(e){return e?"open":"closed"}var L8=AN,$8=DN,F8=IN,zr="Accordion",q8=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[nv,U8,B8]=ud(zr),[Jd]=nr(zr,[B8,RN]),sv=RN(),MN=H.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,a=n;return i.jsx(nv.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?i.jsx(V8,{...a,ref:t}):i.jsx(W8,{...s,ref:t})})});MN.displayName=zr;var[LN,z8]=Jd(zr),[$N,H8]=Jd(zr,{collapsible:!1}),W8=H.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:a=!1,...o}=e,[l,c]=pr({prop:r,defaultProp:n??"",onChange:s,caller:zr});return i.jsx(LN,{scope:e.__scopeAccordion,value:H.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:H.useCallback(()=>a&&c(""),[a,c]),children:i.jsx($N,{scope:e.__scopeAccordion,collapsible:a,children:i.jsx(FN,{...o,ref:t})})})}),V8=H.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=e,[o,l]=pr({prop:r,defaultProp:n??[],onChange:s,caller:zr}),c=H.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=H.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return i.jsx(LN,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:i.jsx($N,{scope:e.__scopeAccordion,collapsible:!0,children:i.jsx(FN,{...a,ref:t})})})}),[K8,Zd]=Jd(zr),FN=H.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:a="vertical",...o}=e,l=H.useRef(null),c=fe(l,t),u=U8(r),f=Fl(s)==="ltr",h=Y(e.onKeyDown,p=>{var C;if(!q8.includes(p.key))return;const v=p.target,g=u().filter(k=>{var O;return!((O=k.ref.current)!=null&&O.disabled)}),b=g.findIndex(k=>k.ref.current===v),x=g.length;if(b===-1)return;p.preventDefault();let y=b;const w=0,_=x-1,S=()=>{y=b+1,y>_&&(y=w)},j=()=>{y=b-1,y<w&&(y=_)};switch(p.key){case"Home":y=w;break;case"End":y=_;break;case"ArrowRight":a==="horizontal"&&(f?S():j());break;case"ArrowDown":a==="vertical"&&S();break;case"ArrowLeft":a==="horizontal"&&(f?j():S());break;case"ArrowUp":a==="vertical"&&j();break}const N=y%x;(C=g[N].ref.current)==null||C.focus()});return i.jsx(K8,{scope:r,disabled:n,direction:s,orientation:a,children:i.jsx(nv.Slot,{scope:r,children:i.jsx(ne.div,{...o,"data-orientation":a,ref:c,onKeyDown:n?void 0:h})})})}),zu="AccordionItem",[G8,av]=Jd(zu),qN=H.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,a=Zd(zu,r),o=z8(zu,r),l=sv(r),c=dr(),u=n&&o.value.includes(n)||!1,d=a.disabled||e.disabled;return i.jsx(G8,{scope:r,open:u,disabled:d,triggerId:c,children:i.jsx(L8,{"data-orientation":a.orientation,"data-state":VN(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});qN.displayName=zu;var UN="AccordionHeader",BN=H.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Zd(zr,r),a=av(UN,r);return i.jsx(ne.h3,{"data-orientation":s.orientation,"data-state":VN(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:t})});BN.displayName=UN;var em="AccordionTrigger",zN=H.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Zd(zr,r),a=av(em,r),o=H8(em,r),l=sv(r);return i.jsx(nv.ItemSlot,{scope:r,children:i.jsx($8,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...l,...n,ref:t})})});zN.displayName=em;var HN="AccordionContent",WN=H.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Zd(zr,r),a=av(HN,r),o=sv(r);return i.jsx(F8,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});WN.displayName=HN;function VN(e){return e?"open":"closed"}var Q8=MN,Y8=qN,X8=BN,KN=zN,GN=WN;const J8=Q8,vn=m.forwardRef(({className:e,...t},r)=>i.jsx(Y8,{ref:r,className:U("border-b",e),...t}));vn.displayName="AccordionItem";const yn=m.forwardRef(({className:e,children:t,...r},n)=>i.jsx(X8,{className:"flex",children:i.jsxs(KN,{ref:n,className:U("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,i.jsx(Zm,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));yn.displayName=KN.displayName;const xn=m.forwardRef(({className:e,children:t,...r},n)=>i.jsx(GN,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:i.jsx("div",{className:U("pb-4 pt-0",e),children:t})}));xn.displayName=GN.displayName;function Z8({open:e,onOpenChange:t}){return i.jsx(it,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"pixel-border bg-card max-w-2xl max-h-[90vh] flex flex-col p-0 overflow-hidden",children:[i.jsxs(tt,{className:"p-6 border-b border-border bg-muted/20",children:[i.jsxs(rt,{className:"text-[18px] text-primary glow-gold text-center font-bold tracking-widest uppercase flex items-center justify-center gap-3",children:[i.jsx(_u,{className:"w-6 h-6"}),"Enciclopdia TasKLegends",i.jsx(_u,{className:"w-6 h-6"})]}),i.jsx(Og,{className:"text-center text-[10px] text-muted-foreground uppercase tracking-widest",children:"Tudo o que voc precisa saber para se tornar um mestre"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsxs(J8,{type:"single",collapsible:!0,className:"space-y-3",children:[i.jsxs(vn,{value:"progression",className:"pixel-border bg-muted/10 px-4",children:[i.jsx(yn,{className:"text-[12px] font-bold hover:no-underline",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(dl,{className:"w-4 h-4 text-gold"}),"Evoluo e Nveis"]})}),i.jsxs(xn,{className:"text-[10px] space-y-3 leading-relaxed border-t border-border/50 pt-3",children:[i.jsxs("p",{children:["Sua jornada comea no ",i.jsx("span",{className:"text-gold font-bold",children:"Nvel 1"}),". Para subir de nvel, voc deve acumular XP completando misses e hbitos."]}),i.jsxs("div",{className:"bg-card p-3 pixel-border space-y-2",children:[i.jsx("p",{className:"font-bold flex items-center gap-2 underline",children:" Recompensas por Misso:"}),i.jsxs("ul",{className:"space-y-1",children:[i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{children:"Fcil:"})," ",i.jsxs("span",{className:"text-xp",children:["+",Vc.easy," XP"]})," ",i.jsxs("span",{className:"text-gold",children:["+",Kc.easy," "]})]}),i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{children:"Mdio:"})," ",i.jsxs("span",{className:"text-xp",children:["+",Vc.medium," XP"]})," ",i.jsxs("span",{className:"text-gold",children:["+",Kc.medium," "]})]}),i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{children:"Difcil:"})," ",i.jsxs("span",{className:"text-xp",children:["+",Vc.hard," XP"]})," ",i.jsxs("span",{className:"text-gold",children:["+",Kc.hard," "]})]})]})]}),i.jsxs("p",{children:["Ao subir de nvel, voc recupera ",i.jsx("span",{className:"text-accent",children:"100% do HP e Mana"}),", e seus atributos base aumentam! No nvel 10, voc poder escolher uma ",i.jsx("span",{className:"text-primary font-bold underline",children:"CLASSE ESPECIALIZADA"}),"."]})]})]}),i.jsxs(vn,{value:"combat",className:"pixel-border bg-muted/10 px-4",children:[i.jsx(yn,{className:"text-[12px] font-bold hover:no-underline",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(_1,{className:"w-4 h-4 text-destructive"}),"Combate e Penalidades Automticas"]})}),i.jsxs(xn,{className:"text-[10px] space-y-3 leading-relaxed border-t border-border/50 pt-3",children:[i.jsx("p",{children:"A produtividade  sua melhor arma, mas a procrastinao  um monstro perigoso que ataca silenciosamente."}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"font-bold text-destructive",children:" Mecnicas de Dano Automtico:"}),i.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[i.jsxs("li",{children:[i.jsx("span",{className:"font-bold underline",children:"Misso Expirada:"})," Se voc no concluir uma misso at o fim do dia do prazo (Deadline), seu heri perder HP proporcional  dificuldade."]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-bold underline",children:"Hbito Perdido:"})," Se o ciclo do hbito (Dirio, Semanal ou Mensal) terminar sem voc registrar um avano, o dano ser aplicado e seu combo (Streak) zerado."]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-bold underline",children:"Ciclo da Raid:"})," Toda meia-noite, se houver tarefas atrasadas, o Boss da Raid lanar um ataque direto em voc."]})]})]}),i.jsxs("div",{className:"bg-destructive/10 p-3 pixel-border border-destructive/30",children:[i.jsx("p",{className:"font-bold text-destructive underline italic text-[9px]",children:" Regra de Meia-Noite:"}),i.jsx("p",{className:"mt-1 text-[8px] leading-tight",children:"O sistema verifica seu progresso diariamente. Mantenha suas misses em dia para evitar acordar com HP baixo!"})]})]})]}),i.jsxs(vn,{value:"habits_detail",className:"pixel-border bg-muted/10 px-4",children:[i.jsx(yn,{className:"text-[12px] font-bold hover:no-underline",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(fT,{className:"w-4 h-4 text-accent"}),"Hbitos e Ciclos de Frequncia"]})}),i.jsxs(xn,{className:"text-[10px] space-y-3 leading-relaxed border-t border-border/50 pt-3",children:[i.jsx("p",{children:"Hbitos so a base do seu poder. Diferente das Misses, eles so recorrentes."}),i.jsxs("div",{className:"bg-card p-3 pixel-border space-y-2",children:[i.jsx("p",{className:"font-bold text-accent underline",children:" BNUS DE COMBO (STREAK):"}),i.jsxs("p",{children:["Manter um hbito vivo aumenta seu ",i.jsx("span",{className:"font-bold",children:"Combo"}),". Cada ponto de Combo aumenta um pouco a ",i.jsx("span",{className:"text-accent",children:"Cura (HP)"}),' recebida ao clicar no "+".']})]}),i.jsxs("div",{className:"bg-muted/30 p-3 pixel-border",children:[i.jsx("p",{className:"font-bold underline",children:" Perodos de Verificao:"}),i.jsxs("ul",{className:"space-y-1 mt-1",children:[i.jsxs("li",{children:[i.jsx("span",{className:"font-bold italic",children:"Dirio:"})," Deve ser feito a cada 24h."]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-bold italic",children:"Semanal:"})," Deve ser feito a cada 7 dias."]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-bold italic",children:"Mensal:"})," Deve ser feito a cada 30 dias."]})]})]})]})]}),i.jsxs(vn,{value:"classes",className:"pixel-border bg-muted/10 px-4",children:[i.jsx(yn,{className:"text-[12px] font-bold hover:no-underline",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Vi,{className:"w-4 h-4 text-primary"}),"Classes de Personagem"]})}),i.jsx(xn,{className:"text-[10px] space-y-4 leading-relaxed border-t border-border/50 pt-3",children:Object.entries(jg).filter(([r])=>r!=="apprentice"&&r!=="paladin").map(([r,n])=>i.jsxs("div",{className:"bg-card p-3 pixel-border",children:[i.jsxs("p",{className:"font-bold text-primary flex items-center gap-2 text-[11px]",children:[n.icon," ",n.name.toUpperCase()]}),i.jsx("p",{className:"mt-1 text-muted-foreground",children:n.description}),i.jsx("div",{className:"mt-2 p-2 bg-muted/40 rounded border border-border/50",children:i.jsx("p",{className:"text-[9px] font-bold text-accent italic",children:n.skill})})]},r))})]}),i.jsxs(vn,{value:"raids",className:"pixel-border bg-muted/10 px-4",children:[i.jsx(yn,{className:"text-[12px] font-bold hover:no-underline",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(md,{className:"w-4 h-4 text-gold"}),"Raids: Luta contra Chefes e Supernova"]})}),i.jsxs(xn,{className:"text-[10px] space-y-4 leading-relaxed border-t border-border/50 pt-3",children:[i.jsx("p",{children:"Raids so eventos cooperativos picos. O sucesso depende da produtividade constante do grupo."}),i.jsxs("div",{className:"bg-card p-3 pixel-border space-y-2",children:[i.jsx("p",{className:"font-bold underline text-primary",children:" MECNICAS DE ATAQUE:"}),i.jsxs("p",{children:[" ",i.jsx("span",{className:"font-bold",children:"Dano por Tarefa:"})," Cada misso/hbito concludo ataca o chefe."]}),i.jsxs("p",{children:[" ",i.jsx("span",{className:"font-bold",children:"Escalonamento:"})," Voc ganha ",i.jsx("span",{className:"text-xp font-bold",children:"+2% de bnus de dano por cada Nvel"})," que possuir."]}),i.jsxs("p",{children:[" ",i.jsx("span",{className:"font-bold",children:"Habilidades:"})," Classes ativam poderes especiais a cada 3 tarefas (Cura, Dano Bnus, etc)."]})]}),i.jsxs("div",{className:"bg-orange-500/10 p-3 pixel-border border-orange-500/30 space-y-2",children:[i.jsxs("p",{className:"font-bold text-orange-500 underline flex items-center gap-2",children:[i.jsx(dl,{className:"w-3 h-3"})," ATAQUES CRTICOS (SURPRESA!)"]}),i.jsx("p",{children:"O Boss pode atacar a qualquer momento enquanto voc navega na Raid!"}),i.jsxs("p",{children:[" ",i.jsx("span",{className:"font-bold",children:"Chance:"})," H 15% de chance de um Crtico ao abrir o painel ou interagir."]}),i.jsxs("p",{children:[" ",i.jsx("span",{className:"font-bold",children:"Dano:"})," Causa 5% de dano no HP Total de TODOS os membros."]}),i.jsxs("p",{children:[" ",i.jsx("span",{className:"font-bold",children:"Limite:"})," Ocorre no mximo 3 vezes por dia por Raid."]})]}),i.jsxs("div",{className:"bg-destructive/10 p-3 pixel-border border-destructive/30",children:[i.jsx("p",{className:"font-bold text-destructive underline italic text-[9px]",children:" PENALIDADES:"}),i.jsxs("p",{className:"mt-1 text-[8px] leading-tight",children:[" ",i.jsx("span",{className:"font-bold",children:"Desero:"})," Abandonar a Raid custa 40% de HP e 50% de Ouro."]}),i.jsxs("p",{className:"mt-1 text-[8px] leading-tight",children:[" ",i.jsx("span",{className:"font-bold",children:"Atraso:"})," Tarefas pendentes na meia-noite resultam em ataques diretos do Boss."]})]})]})]}),i.jsxs(vn,{value:"pvp",className:"pixel-border bg-muted/10 px-4",children:[i.jsx(yn,{className:"text-[12px] font-bold hover:no-underline",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Vi,{className:"w-4 h-4 text-destructive"}),"Arena PvP (Jogador vs Jogador)"]})}),i.jsxs(xn,{className:"text-[10px] space-y-3 leading-relaxed border-t border-border/50 pt-3",children:[i.jsx("p",{children:"Teste suas habilidades contra outros jogadores na Arena!"}),i.jsxs("div",{className:"bg-card p-3 pixel-border space-y-2",children:[i.jsx("p",{className:"font-bold text-accent underline",children:" SINCRONIZAO E EVIDNCIA:"}),i.jsxs("p",{children:["Ao travar tarefas em um Duelo, elas aparecero com um cone de ",i.jsx("span",{className:"text-primary font-bold",children:" Duelo PvP"})," na sua lista principal."]}),i.jsxs("p",{children:["Para complet-las e causar dano no oponente, voc ",i.jsx("span",{className:"text-destructive font-bold inline",children:"DEVE"})," enviar uma ",i.jsx("span",{className:"font-bold italic underline",children:"FOTO DE EVIDNCIA"})," atravs da Arena PvP."]})]}),i.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[i.jsxs("li",{children:["Sua ",i.jsx("span",{className:"font-bold",children:"Agilidade"})," determina quem ataca primeiro."]}),i.jsx("li",{children:"As recompensas (XP e Ouro) so creditadas automaticamente aps a foto."}),i.jsxs("li",{children:["Vena duelos para ganhar ",i.jsx("span",{className:"text-gold",children:"Trofus"})," e subir no ranking global."]})]})]})]}),i.jsxs(vn,{value:"guilds",className:"pixel-border bg-muted/10 px-4",children:[i.jsx(yn,{className:"text-[12px] font-bold hover:no-underline",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ul,{className:"w-4 h-4 text-primary"}),"Guildas e Ranking de Supremacia"]})}),i.jsxs(xn,{className:"text-[10px] space-y-3 leading-relaxed border-t border-border/50 pt-3",children:[i.jsx("p",{children:"Guildas so grupos de heris que buscam a glria eterna."}),i.jsxs("div",{className:"bg-card p-3 pixel-border space-y-2",children:[i.jsx("p",{className:"font-bold text-gold underline",children:" CRITRIO DE RANKING:"}),i.jsxs("p",{children:["O Ranking de Guildas  baseado na ",i.jsx("span",{className:"font-bold text-primary italic",children:"DEDICAO COLETIVA"})," dos seus membros."]}),i.jsxs("p",{children:["A posio  definida pelo ",i.jsx("span",{className:"font-bold underline",children:"Somatrio do XP Total Acumulado"})," de todos os heris que esto na guilda."]})]}),i.jsxs("p",{children:["Quanto mais seus membros evoluem e ganham nveis, mais alto sua guilda subir no ",i.jsx("span",{className:"text-gold font-bold",children:"Ranking de Elite do Continente"}),"."]})]})]}),i.jsxs(vn,{value:"premium",className:"pixel-border bg-muted/10 px-4",children:[i.jsx(yn,{className:"text-[12px] font-bold hover:no-underline",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zo,{className:"w-4 h-4 text-diamond"}),"Diamantes e Status PRO"]})}),i.jsxs(xn,{className:"text-[10px] space-y-3 leading-relaxed border-t border-border/50 pt-3",children:[i.jsx("p",{children:"Diamantes () so a moeda premium do reino."}),i.jsxs("div",{className:"bg-card p-3 pixel-border space-y-2",children:[i.jsx("p",{className:"font-bold underline",children:" Vantagens do Status PRO:"}),i.jsxs("ul",{className:"list-disc pl-5",children:[i.jsxs("li",{children:["Criao ",i.jsx("span",{className:"font-bold text-accent italic",children:"ILIMITADA"})," de Misses."]}),i.jsxs("li",{children:["Criao ",i.jsx("span",{className:"font-bold text-accent italic",children:"ILIMITADA"})," de Hbitos."]}),i.jsx("li",{children:"Acesso a itens cosmticos exclusivos na loja."})]})]}),i.jsxs("p",{children:["Custo do Upgrade: ",i.jsx("span",{className:"text-diamond font-bold",children:"5 Diamantes"}),"."]})]})]})]})})]})})}const eq=["warrior","mage","rogue","cleric","paladin"];function tq({open:e,onOpenChange:t}){const{profile:r,changeClass:n}=At(),[s,a]=m.useState(null);if(!r)return null;const o=r.level>=Tn&&r.player_class==="apprentice",l=Tn-r.level,c=async()=>{s&&(await n(s),t(!1))};return i.jsx(it,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"pixel-border bg-card max-w-lg",children:[i.jsxs(tt,{children:[i.jsxs(rt,{className:"text-[14px] text-primary glow-gold text-center flex items-center justify-center gap-2",children:[i.jsx(Wi,{className:"w-5 h-5"}),"Escolha sua Classe",i.jsx(Wi,{className:"w-5 h-5"})]}),i.jsx(Og,{className:"text-[10px] text-center",children:o?i.jsxs("span",{className:"text-accent",children:[" Voc alcanou o nvel ",Tn,"! Escolha seu destino..."]}):i.jsxs("span",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[i.jsx(ua,{className:"w-4 h-4"}),"Alcance o nvel ",Tn," para desbloquear as classes!",i.jsxs("span",{className:"text-primary font-bold",children:["(Faltam ",l," nveis)"]})]})})]}),i.jsx("div",{className:"grid grid-cols-1 gap-3 mt-4",children:eq.map(u=>{const d=jg[u],f=s===u,h=!o;return i.jsxs("button",{onClick:()=>o&&a(u),disabled:h,className:U("p-4 pixel-border text-left transition-all relative overflow-hidden",f?"bg-primary/20 pixel-border-gold":"bg-card hover:bg-muted/50",h&&"opacity-40 cursor-not-allowed grayscale"),children:[h&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx(ua,{className:"w-4 h-4 text-muted-foreground"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-16 h-16 pixel-border bg-muted p-1",children:i.jsx("img",{src:`/assets/images/class_${u}.png`,alt:d.name,className:"w-full h-full object-contain pixelated",onError:p=>{p.currentTarget.src="https://api.dicebear.com/7.x/pixel-art/svg?seed="+u}})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:U("text-[12px] font-bold",f&&"text-primary"),children:d.name}),i.jsx("p",{className:"text-[8px] text-muted-foreground mt-1",children:d.description})]})]}),f&&i.jsx("div",{className:"absolute inset-0 border-2 border-primary animate-pulse pointer-events-none"})]},u)})}),o?i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx(G,{variant:"outline",onClick:()=>t(!1),className:"flex-1 pixel-button text-[10px]",children:"Cancelar"}),i.jsx(G,{onClick:c,disabled:!s,className:"flex-1 pixel-button bg-primary hover:bg-primary/80 text-[10px]",children:" Confirmar Classe"})]}):i.jsx("div",{className:"mt-4 p-3 pixel-border bg-muted/50 text-center",children:i.jsx("p",{className:"text-[9px] text-muted-foreground",children:"Complete tarefas para ganhar XP e subir de nvel!"})})]})})}function rq(){const{user:e}=$e(),{profile:t}=At(),r=Rt(),{data:n=[],isLoading:s}=Be({queryKey:["custom_rewards",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:c,error:u}=await I.from("custom_rewards").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(u)throw u;return c},enabled:!!e}),a=de({mutationFn:async c=>{if(!e)throw new Error("Not authenticated");const{data:u,error:d}=await I.from("custom_rewards").insert({user_id:e.id,name:c.name,description:c.description||null,gold_cost:c.gold_cost}).select().single();if(d)throw d;return u},onSuccess:()=>{r.invalidateQueries({queryKey:["custom_rewards",e==null?void 0:e.id]}),$.success(" Benefcio criado!")},onError:()=>{$.error("Erro ao criar benefcio")}}),o=de({mutationFn:async c=>{if(!e||!t)throw new Error("Not authenticated");const u=n.find(p=>p.id===c);if(!u)throw new Error("Benefcio no encontrado");if(t.gold<u.gold_cost)throw new Error("Ouro insuficiente!");const{error:d}=await I.from("reward_purchases").insert({user_id:e.id,reward_id:c,gold_spent:u.gold_cost});if(d)throw d;const{error:f}=await I.from("custom_rewards").update({times_purchased:u.times_purchased+1}).eq("id",c);if(f)throw f;const{error:h}=await I.from("profiles").update({gold:t.gold-u.gold_cost}).eq("user_id",e.id);if(h)throw h;return u},onSuccess:c=>{r.invalidateQueries({queryKey:["custom_rewards",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["profile",e==null?void 0:e.id]}),$.success(` Voc resgatou "${c.name}"!`)},onError:c=>{$.error(c.message)}}),l=de({mutationFn:async c=>{if(!e)throw new Error("Not authenticated");const{error:u}=await I.from("custom_rewards").delete().eq("id",c);if(u)throw u},onSuccess:()=>{r.invalidateQueries({queryKey:["custom_rewards",e==null?void 0:e.id]}),$.success(" Benefcio removido")}});return{rewards:n,isLoading:s,createReward:a.mutate,purchaseReward:o.mutate,deleteReward:l.mutate,isCreating:a.isPending,isPurchasing:o.isPending}}function nq(){const{rewards:e,createReward:t,purchaseReward:r,deleteReward:n,isCreating:s,isPurchasing:a}=rq(),{profile:o}=At(),[l,c]=m.useState(!1),[u,d]=m.useState({name:"",description:"",gold_cost:10}),f=()=>{!u.name.trim()||u.gold_cost<1||(t({name:u.name.trim(),description:u.description.trim()||void 0,gold_cost:u.gold_cost}),d({name:"",description:"",gold_cost:10}),c(!1))};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-[12px] font-bold flex items-center gap-2 glow-gold",children:[i.jsx(zc,{className:"w-5 h-5"}),"Recompensas Personalizadas"]}),i.jsxs(it,{open:l,onOpenChange:c,children:[i.jsx(Ul,{asChild:!0,children:i.jsxs(G,{size:"sm",className:"pixel-button bg-accent hover:bg-accent/80 text-[9px]",children:[i.jsx(Il,{className:"w-3 h-3 mr-1"}),"Novo Benefcio"]})}),i.jsxs(et,{className:"pixel-dialog",children:[i.jsx(tt,{children:i.jsx(rt,{className:"text-[12px]",children:"Criar Benefcio"})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Ke,{placeholder:"Nome do benefcio",value:u.name,onChange:h=>d({...u,name:h.target.value}),className:"pixel-border text-[10px]"}),i.jsx(Pa,{placeholder:"Descrio (opcional)",value:u.description,onChange:h=>d({...u,description:h.target.value}),className:"pixel-border text-[10px] min-h-[60px]"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Custo:"}),i.jsx(Ke,{type:"number",min:1,value:u.gold_cost,onChange:h=>d({...u,gold_cost:parseInt(h.target.value)||1}),className:"pixel-border text-[10px] w-24"}),i.jsx("span",{className:"text-[10px] text-gold",children:""})]}),i.jsx(G,{onClick:f,disabled:!u.name.trim()||u.gold_cost<1||s,className:"w-full pixel-button bg-primary hover:bg-primary/80 text-[10px]",children:"Criar Benefcio"})]})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.length===0?i.jsxs("div",{className:"col-span-full p-8 pixel-border bg-card/50 text-center",children:[i.jsx(zc,{className:"w-8 h-8 mx-auto text-muted-foreground mb-2"}),i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Nenhum benefcio criado ainda!"}),i.jsx("p",{className:"text-[8px] text-muted-foreground mt-1",children:"Defina mimos para voc mesmo ao completar suas metas picas."})]}):e.map(h=>i.jsxs("div",{className:"p-3 pixel-border bg-card flex items-center justify-between gap-3 hover:bg-muted/30 transition-colors",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-[10px] font-bold truncate",children:h.name}),h.description&&i.jsx("p",{className:"text-[8px] text-muted-foreground truncate",children:h.description}),i.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[i.jsxs("span",{className:"text-[8px] text-gold font-bold flex items-center gap-1",children:[i.jsx(x1,{className:"w-3 h-3"}),h.gold_cost]}),i.jsxs("span",{className:"text-[8px] text-muted-foreground bg-muted/50 px-1.5 py-0.5 pixel-border",children:[h.times_purchased," resgates"]})]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(G,{size:"sm",variant:"ghost",className:U("h-8 w-8 p-0 pixel-button",o&&o.gold>=h.gold_cost?"bg-accent/20 hover:bg-accent/40":"bg-muted opacity-50 cursor-not-allowed"),onClick:()=>r(h.id),disabled:!o||o.gold<h.gold_cost||a,title:"Resgatar",children:i.jsx(gT,{className:"w-4 h-4 text-accent"})}),i.jsx(G,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 pixel-button bg-destructive/20 hover:bg-destructive/40",onClick:()=>n(h.id),title:"Deletar",children:i.jsx(pd,{className:"w-4 h-4 text-destructive"})})]})]},h.id))}),i.jsxs("div",{className:"pixel-border bg-card/10 p-5 border-dashed relative overflow-hidden group mt-8",children:[i.jsx("div",{className:"absolute -right-2 -bottom-2 opacity-5 group-hover:scale-110 transition-transform duration-500",children:i.jsx(zc,{className:"w-12 h-12"})}),i.jsx("p",{className:"text-[10px] text-muted-foreground leading-relaxed text-center italic relative z-10 max-w-lg mx-auto",children:'"Crie benefcios para ajudar no equilbrio da sua rotina, cumpra misses para merecer. Exemplo: comer fastfood lhe custar 50 moedas de ouro, voc mesmo cria suas recompensas!"'})]})]})}const f0={complaint:"Reclamao",bug:"Denncia de Bug",user_report:"Denncia de Usurio",redemption_issue:"Problema com Resgate"};function QN(){const{user:e}=$e(),t=Rt(),{data:r=[],isLoading:n}=Be({queryKey:["support_tickets",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:o,error:l}=await I.from("support_tickets").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(l)throw l;return console.log("[Support Debug] Fetched tickets from DB:",o),o},enabled:!!e,refetchInterval:5e3}),s=de({mutationFn:async o=>{if(!e)throw new Error("Not authenticated");const l=I.supabaseUrl;console.log("[Support Debug] App is sending to:",decodeURIComponent(l)),console.log("[Support Debug] Sending ticket:",o);const{data:c,error:u}=await I.from("support_tickets").insert({user_id:e.id,ticket_type:o.ticket_type,subject:o.subject,description:o.description,transaction_id:o.transaction_id||null,reported_user_id:o.reported_user_id||null,duel_id:o.duel_id||null,status:"open"}).select();if(u)throw u;return c},onSuccess:()=>{t.invalidateQueries({queryKey:["support_tickets",e==null?void 0:e.id]}),$.success(" Ticket enviado! Nossa equipe ir analisar em breve.")},onError:()=>{$.error("Erro ao enviar ticket")}}),a=async(o,l,c)=>s.mutateAsync({ticket_type:"user_report",subject:"Denncia de Jogador no PvP",description:c,reported_user_id:o,duel_id:l});return{tickets:r,isLoading:n,createTicket:s.mutate,reportPlayer:a,isCreating:s.isPending}}const sq={open:"bg-gold/20 text-gold",in_review:"bg-blue-500/20 text-blue-400",resolved:"bg-accent/20 text-accent",closed:"bg-muted text-muted-foreground"};function aq({open:e,onOpenChange:t,defaultType:r,defaultTransactionId:n}){const{tickets:s,createTicket:a,isCreating:o}=QN(),[l,c]=m.useState(!1),[u,d]=m.useState(r||"complaint"),[f,h]=m.useState(""),[p,v]=m.useState(""),[g,b]=m.useState(n||""),x=()=>{!f.trim()||!p.trim()||(a({ticket_type:u,subject:f.trim(),description:p.trim(),transaction_id:g.trim()||void 0}),c(!1),h(""),v(""),b(""))};return i.jsx(it,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"pixel-dialog max-w-md max-h-[80vh] overflow-y-auto",children:[i.jsx(tt,{children:i.jsxs(rt,{className:"text-[14px] flex items-center gap-2 glow-gold",children:[i.jsx(op,{className:"w-5 h-5"}),"Central de Suporte"]})}),i.jsxs("div",{className:"space-y-4",children:[l?i.jsxs("div",{className:"p-4 pixel-border bg-card space-y-3",children:[i.jsx("h4",{className:"text-[10px] font-bold",children:"Novo Ticket"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[8px] text-muted-foreground",children:"Tipo"}),i.jsxs(Jg,{value:u,onValueChange:y=>d(y),children:[i.jsx(Gd,{className:"pixel-border text-[10px]",children:i.jsx(Zg,{})}),i.jsx(Qd,{className:"pixel-border",children:Object.entries(f0).map(([y,w])=>i.jsx(Yd,{value:y,className:"text-[10px]",children:w},y))})]})]}),u==="redemption_issue"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[8px] text-muted-foreground",children:"Cdigo do Resgate (opcional)"}),i.jsx(Ke,{placeholder:"RH-XXXX-2026",value:g,onChange:y=>b(y.target.value),className:"pixel-border text-[10px]"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[8px] text-muted-foreground",children:"Assunto"}),i.jsx(Ke,{placeholder:"Resumo do problema",value:f,onChange:y=>h(y.target.value),className:"pixel-border text-[10px]"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[8px] text-muted-foreground",children:"Descrio"}),i.jsx(Pa,{placeholder:"Descreva seu problema em detalhes...",value:p,onChange:y=>v(y.target.value),className:"pixel-border text-[10px] min-h-[100px]"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(G,{onClick:()=>c(!1),variant:"outline",className:"flex-1 pixel-button text-[10px]",children:"Cancelar"}),i.jsxs(G,{onClick:x,disabled:!f.trim()||!p.trim()||o,className:"flex-1 pixel-button bg-primary hover:bg-primary/80 text-[10px]",children:[i.jsx(ju,{className:"w-4 h-4 mr-1"}),"Enviar"]})]})]}):i.jsxs(G,{onClick:()=>c(!0),className:"w-full pixel-button bg-primary hover:bg-primary/80 text-[10px]",children:[i.jsx(ju,{className:"w-4 h-4 mr-2"}),"Abrir Novo Ticket"]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-[10px] font-bold text-muted-foreground",children:"Seus Tickets"}),s.length===0?i.jsxs("div",{className:"p-6 pixel-border bg-card/50 text-center",children:[i.jsx(op,{className:"w-8 h-8 mx-auto text-muted-foreground mb-2"}),i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Nenhum ticket aberto"})]}):s.map(y=>i.jsxs("div",{className:"p-3 pixel-border bg-card space-y-2",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h5",{className:"text-[10px] font-bold truncate",children:y.subject}),i.jsx("p",{className:"text-[8px] text-muted-foreground",children:f0[y.ticket_type]})]}),i.jsxs(yt,{className:U("text-[8px] pixel-border shrink-0",sq[y.status]),children:[y.status==="open"&&i.jsx(Su,{className:"w-3 h-3 mr-1"}),y.status==="resolved"&&i.jsx(tT,{className:"w-3 h-3 mr-1"}),y.status==="open"?"Aberto":y.status==="in_review"?"Em Anlise":y.status==="resolved"?"Resolvido":"Fechado"]})]}),i.jsx("p",{className:"text-[8px] text-muted-foreground line-clamp-2",children:y.description}),i.jsx("p",{className:"text-[8px] text-muted-foreground",children:Vt(new Date(y.created_at),"dd/MM/yyyy 's' HH:mm",{locale:ks})})]},y.id))]})]})]})})}function iq(e){const{user:t}=$e(),r=Rt(),{data:n=[],isLoading:s}=Be({queryKey:["direct_messages",t==null?void 0:t.id,e],queryFn:async()=>{if(!t||!e)return[];const{data:c,error:u}=await I.from("direct_messages").select("*").or(`and(sender_id.eq.${t.id},receiver_id.eq.${e}),and(sender_id.eq.${e},receiver_id.eq.${t.id})`).order("created_at",{ascending:!0});if(u)throw u;return c},enabled:!!t&&!!e}),a=de({mutationFn:async c=>{if(!t||!e)throw new Error("Not authenticated");const{error:u}=await I.from("direct_messages").insert({sender_id:t.id,receiver_id:e,content:c});if(u)throw u},onSuccess:()=>{r.invalidateQueries({queryKey:["direct_messages",t==null?void 0:t.id,e]})},onError:c=>{$.error("Erro ao enviar mensagem: "+c.message)}}),o=async()=>{!t||!e||await I.from("direct_messages").update({read:!0}).eq("sender_id",e).eq("receiver_id",t.id).eq("read",!1)};m.useEffect(()=>{if(!t||!e)return;const c=I.channel(`dm-${t.id}-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"direct_messages",filter:`or(and(sender_id=eq.${t.id},receiver_id=eq.${e}),and(sender_id=eq.${e},receiver_id=eq.${t.id}))`},()=>{r.invalidateQueries({queryKey:["direct_messages",t.id,e]})}).subscribe();return()=>{I.removeChannel(c)}},[t,e,r]);const l=async c=>{if(!t)return 0;const{count:u}=await I.from("direct_messages").select("*",{count:"exact",head:!0}).eq("sender_id",c).eq("receiver_id",t.id).eq("read",!1);return u||0};return{messages:n,isLoading:s,sendMessage:a.mutate,isSending:a.isPending,markAsRead:o,getUnreadCount:l}}const oq=["","","","","","","","","","","",""];function lq({open:e,onOpenChange:t,friend:r,isOnline:n}){const{user:s}=$e(),{messages:a,sendMessage:o,isSending:l,markAsRead:c}=iq(r==null?void 0:r.user_id),[u,d]=m.useState(""),[f,h]=m.useState(!1),p=m.useRef(null);m.useEffect(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},[a]),m.useEffect(()=>{e&&r&&c()},[e,r]);const v=()=>{u.trim()&&(o(u.trim()),d(""),h(!1))},g=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),v())},b=x=>{d(y=>y+x)};return r?i.jsx(it,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"pixel-border bg-card max-w-md h-[500px] flex flex-col",children:[i.jsx(tt,{className:"border-b border-border pb-3",children:i.jsxs(rt,{className:"text-[12px] flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-10 h-10 pixel-border bg-muted p-0.5",children:i.jsx(Ct,{playerClass:r.player_class,equippedHat:r.equipped_hat,equippedSkin:r.equipped_skin,size:36})}),i.jsx(y1,{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 fill-current ${n?"text-green-500 fill-green-500":"text-gray-400 fill-gray-400"}`})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-primary",children:r.username}),i.jsxs("p",{className:"text-[8px] text-muted-foreground font-normal",children:["Nv. ",r.level,"  ",n?"Online":"Offline"]})]})]})}),i.jsx(Ud,{className:"flex-1 p-3",ref:p,children:i.jsx("div",{className:"space-y-3",children:a.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Nenhuma mensagem ainda"}),i.jsx("p",{className:"text-[8px] text-muted-foreground mt-1",children:"Envie a primeira mensagem! "})]}):a.map(x=>{const y=x.sender_id===(s==null?void 0:s.id);return i.jsxs("div",{className:`flex flex-col ${y?"items-end":"items-start"}`,children:[i.jsx("div",{className:"flex items-center gap-1 mb-0.5",children:i.jsx("span",{className:"text-[6px] text-muted-foreground",children:Vt(new Date(x.created_at),"HH:mm",{locale:ks})})}),i.jsx("div",{className:`px-3 py-2 rounded text-[10px] max-w-[80%] pixel-border ${y?"bg-primary text-primary-foreground":"bg-muted text-foreground"}`,children:x.content})]},x.id)})})}),f&&i.jsx("div",{className:"flex flex-wrap gap-2 p-2 border-t border-border bg-muted/50",children:oq.map(x=>i.jsx("button",{onClick:()=>b(x),className:"text-lg hover:scale-125 transition-transform",children:x},x))}),i.jsxs("div",{className:"flex gap-2 pt-3 border-t border-border",children:[i.jsx(G,{variant:"ghost",size:"icon",className:"h-10 w-10",onClick:()=>h(!f),children:i.jsx(S1,{className:"w-5 h-5"})}),i.jsx(Ke,{value:u,onChange:x=>d(x.target.value),onKeyPress:g,placeholder:"Digite sua mensagem...",className:"flex-1 text-[10px] pixel-border",disabled:l}),i.jsx(G,{className:"h-10 w-10 pixel-button",onClick:v,disabled:l||!u.trim(),children:i.jsx(ju,{className:"w-5 h-5"})})]})]})}):null}function cq({friendId:e,disabled:t}){const{challengeFriend:r,activeDuel:n}=Ta(),s=()=>{r(e)},a=t||!!n;return i.jsx(G,{size:"sm",variant:"ghost",onClick:s,disabled:a,className:"h-7 px-2 pixel-button text-[8px] bg-destructive/20 hover:bg-destructive/40 text-destructive",title:a?"Voc j est em um duelo":"Desafiar para PvP",children:i.jsx(Bt,{className:"w-3 h-3"})})}var ch,ef="HoverCard",[YN]=nr(ef,[Os]),tf=Os(),[uq,iv]=YN(ef),XN=e=>{const{__scopeHoverCard:t,children:r,open:n,defaultOpen:s,onOpenChange:a,openDelay:o=700,closeDelay:l=300}=e,c=tf(t),u=m.useRef(0),d=m.useRef(0),f=m.useRef(!1),h=m.useRef(!1),[p,v]=pr({prop:n,defaultProp:s??!1,onChange:a,caller:ef}),g=m.useCallback(()=>{clearTimeout(d.current),u.current=window.setTimeout(()=>v(!0),o)},[o,v]),b=m.useCallback(()=>{clearTimeout(u.current),!f.current&&!h.current&&(d.current=window.setTimeout(()=>v(!1),l))},[l,v]),x=m.useCallback(()=>v(!1),[v]);return m.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(d.current)},[]),i.jsx(uq,{scope:t,open:p,onOpenChange:v,onOpen:g,onClose:b,onDismiss:x,hasSelectionRef:f,isPointerDownOnContentRef:h,children:i.jsx(bd,{...c,children:r})})};XN.displayName=ef;var JN="HoverCardTrigger",ZN=m.forwardRef((e,t)=>{const{__scopeHoverCard:r,...n}=e,s=iv(JN,r),a=tf(r);return i.jsx(Ll,{asChild:!0,...a,children:i.jsx(ne.a,{"data-state":s.open?"open":"closed",...n,ref:t,onPointerEnter:Y(e.onPointerEnter,Wu(s.onOpen)),onPointerLeave:Y(e.onPointerLeave,Wu(s.onClose)),onFocus:Y(e.onFocus,s.onOpen),onBlur:Y(e.onBlur,s.onClose),onTouchStart:Y(e.onTouchStart,o=>o.preventDefault())})})});ZN.displayName=JN;var dq="HoverCardPortal",[s6,fq]=YN(dq,{forceMount:void 0}),Hu="HoverCardContent",eC=m.forwardRef((e,t)=>{const r=fq(Hu,e.__scopeHoverCard),{forceMount:n=r.forceMount,...s}=e,a=iv(Hu,e.__scopeHoverCard);return i.jsx(Pt,{present:n||a.open,children:i.jsx(hq,{"data-state":a.open?"open":"closed",...s,onPointerEnter:Y(e.onPointerEnter,Wu(a.onOpen)),onPointerLeave:Y(e.onPointerLeave,Wu(a.onClose)),ref:t})})});eC.displayName=Hu;var hq=m.forwardRef((e,t)=>{const{__scopeHoverCard:r,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,...l}=e,c=iv(Hu,r),u=tf(r),d=m.useRef(null),f=fe(t,d),[h,p]=m.useState(!1);return m.useEffect(()=>{if(h){const v=document.body;return ch=v.style.userSelect||v.style.webkitUserSelect,v.style.userSelect="none",v.style.webkitUserSelect="none",()=>{v.style.userSelect=ch,v.style.webkitUserSelect=ch}}},[h]),m.useEffect(()=>{if(d.current){const v=()=>{p(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var b;((b=document.getSelection())==null?void 0:b.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",v),()=>{document.removeEventListener("pointerup",v),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),m.useEffect(()=>{d.current&&gq(d.current).forEach(g=>g.setAttribute("tabindex","-1"))}),i.jsx(Ea,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:Y(a,v=>{v.preventDefault()}),onDismiss:c.onDismiss,children:i.jsx(wd,{...u,...l,onPointerDown:Y(l.onPointerDown,v=>{v.currentTarget.contains(v.target)&&p(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:f,style:{...l.style,userSelect:h?"text":void 0,WebkitUserSelect:h?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),pq="HoverCardArrow",mq=m.forwardRef((e,t)=>{const{__scopeHoverCard:r,...n}=e,s=tf(r);return i.jsx(_d,{...s,...n,ref:t})});mq.displayName=pq;function Wu(e){return t=>t.pointerType==="touch"?void 0:e()}function gq(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;r.nextNode();)t.push(r.currentNode);return t}var vq=XN,yq=ZN,tC=eC;const xq=vq,bq=yq,rC=m.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>i.jsx(tC,{ref:s,align:t,sideOffset:r,className:U("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));rC.displayName=tC.displayName;function wq(e,t=[]){let r=[];function n(a,o){const l=m.createContext(o);l.displayName=a+"Context";const c=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:p,...v}=f,g=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,b=m.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:b,children:p})};u.displayName=a+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,v=m.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,_q(s,...t)]}function _q(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Sq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nC=Sq.reduce((e,t)=>{const r=wg(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),ov="Progress",lv=100,[jq]=wq(ov),[Nq,Cq]=jq(ov),sC=m.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=Eq,...o}=e;(s||s===0)&&!h0(s)&&console.error(kq(`${s}`,"Progress"));const l=h0(s)?s:lv;n!==null&&!p0(n,l)&&console.error(Tq(`${n}`,"Progress"));const c=p0(n,l)?n:null,u=Vu(c)?a(c,l):void 0;return i.jsx(Nq,{scope:r,value:c,max:l,children:i.jsx(nC.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Vu(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":oC(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});sC.displayName=ov;var aC="ProgressIndicator",iC=m.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Cq(aC,r);return i.jsx(nC.div,{"data-state":oC(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});iC.displayName=aC;function Eq(e,t){return`${Math.round(e/t*100)}%`}function oC(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Vu(e){return typeof e=="number"}function h0(e){return Vu(e)&&!isNaN(e)&&e>0}function p0(e,t){return Vu(e)&&!isNaN(e)&&e<=t&&e>=0}function kq(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${lv}\`.`}function Tq(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${lv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var lC=sC,Pq=iC;const ji=m.forwardRef(({className:e,value:t,...r},n)=>i.jsx(lC,{ref:n,className:U("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(Pq,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ji.displayName=lC.displayName;function Rq({children:e,profile:t,online:r}){if(!t)return i.jsx(i.Fragment,{children:e});const s=[t.equipped_weapon,t.equipped_armor,t.equipped_shield,t.equipped_hat,t.equipped_mount,t.equipped_skin].filter(Boolean).reduce((p,v)=>{const g=cn.find(b=>b.id===v);return g&&g.effects&&g.effects.forEach(b=>{const x=b.attribute;p[x]!==void 0&&(p[x]+=b.value)}),p},{strength:0,intelligence:0,constitution:0,perception:0,agility:0,vitality:0,endurance:0,hp:0,mana:0}),a=(t.strength||0)+s.strength,o=(t.intelligence||0)+s.intelligence,l=(t.constitution||0)+s.constitution,c=(t.perception||0)+s.perception,u=100+(t.level-1)*10+l*5+(s.hp||0)+s.vitality*5,d=50+(t.level-1)*5+o*5+(s.mana||0),f=wl(t.level),h=p=>{if(!p)return null;const v=cn.find(g=>g.id===p);return v?v.icon:null};return i.jsxs(xq,{openDelay:200,closeDelay:100,children:[i.jsx(bq,{asChild:!0,children:e}),i.jsxs(rC,{className:"w-80 pixel-border bg-card p-0 overflow-hidden shadow-2xl",side:"right",align:"start",children:[i.jsxs("div",{className:"bg-muted p-3 flex items-center gap-3 border-b border-border",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-12 h-12 pixel-border bg-background p-0.5",children:i.jsx(Ct,{playerClass:t.player_class,equippedHat:t.equipped_hat,equippedArmor:t.equipped_armor,equippedSkin:t.equipped_skin,size:44})}),r&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-accent rounded-full border-2 border-background animate-pulse"})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-bold flex items-center gap-2",children:[t.username,i.jsx(yt,{variant:"outline",className:"text-[9px] h-4 px-1 bg-background",children:(t.player_class||"aprendiz").toUpperCase()})]}),i.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Nvel ",t.level]})]})]}),i.jsxs("div",{className:"p-3 space-y-3",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsxs("div",{className:"flex justify-between text-[8px] uppercase font-bold text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1 text-hp",children:[i.jsx(_1,{className:"w-2 h-2"})," HP"]}),i.jsxs("span",{children:[t.current_hp,"/",u]})]}),i.jsx(ji,{value:(t.current_hp||0)/(u||1)*100,className:"h-2 bg-muted [&>div]:bg-hp"})]}),i.jsxs("div",{className:"space-y-0.5",children:[i.jsxs("div",{className:"flex justify-between text-[8px] uppercase font-bold text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1 text-mana",children:[i.jsx(dl,{className:"w-2 h-2"})," Mana"]}),i.jsxs("span",{children:[t.current_mana||0,"/",d]})]}),i.jsx(ji,{value:(t.current_mana||0)/(d||1)*100,className:"h-2 bg-muted [&>div]:bg-mana"})]}),i.jsxs("div",{className:"space-y-0.5",children:[i.jsxs("div",{className:"flex justify-between text-[8px] uppercase font-bold text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1 text-gold",children:[i.jsx(lp,{className:"w-2 h-2"})," XP"]}),i.jsxs("span",{children:[t.current_xp||0,"/",f]})]}),i.jsx(ji,{value:(t.current_xp||0)/(f||1)*100,className:"h-2 bg-muted [&>div]:bg-gold"})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-2 py-2 border-y border-border/50",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-[8px] text-muted-foreground uppercase",children:"FOR"}),i.jsx("p",{className:"text-xs font-bold",children:a})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-[8px] text-muted-foreground uppercase",children:"INT"}),i.jsx("p",{className:"text-xs font-bold",children:o})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-[8px] text-muted-foreground uppercase",children:"CON"}),i.jsx("p",{className:"text-xs font-bold",children:l})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-[8px] text-muted-foreground uppercase",children:"PER"}),i.jsx("p",{className:"text-xs font-bold",children:c})]})]}),i.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[i.jsx(jo,{icon:i.jsx(Vi,{className:"w-3 h-3"}),itemIcon:h(t.equipped_weapon),label:"Arma"}),i.jsx(jo,{icon:i.jsx(cl,{className:"w-3 h-3"}),itemIcon:h(t.equipped_shield),label:"Escudo"}),i.jsx(jo,{icon:i.jsx(mT,{className:"w-3 h-3"}),itemIcon:h(t.equipped_armor),label:"Armadura"}),i.jsx(jo,{icon:i.jsx(on,{className:"w-3 h-3"}),itemIcon:h(t.equipped_hat),label:"Elmo"}),i.jsx(jo,{icon:i.jsx(uT,{className:"w-3 h-3"}),itemIcon:h(t.equipped_mount),label:"Montaria"})]})]})]})]})}function jo({icon:e,itemIcon:t,label:r}){return i.jsxs("div",{className:"flex flex-col items-center gap-1",children:[i.jsx("div",{className:U("w-8 h-8 pixel-border flex items-center justify-center bg-muted/30",t?"bg-accent/10 border-accent/50":"opacity-50"),children:t?i.jsx("span",{className:"text-lg",children:t}):i.jsx("span",{className:"text-muted-foreground opacity-50",children:e})}),i.jsx("span",{className:"text-[7px] text-muted-foreground uppercase",children:r})]})}function Aq(){const{user:e}=$e(),{friends:t,pendingRequests:r,sentRequests:n,searchUsers:s,sendFriendRequest:a,acceptFriendRequest:o,rejectFriendRequest:l,removeFriend:c,isUserOnline:u}=jS(),{myActiveRaid:d,inviteByEmail:f}=Ds(),[h,p]=m.useState(""),[v,g]=m.useState([]),[b,x]=m.useState(!1),[y,w]=m.useState({}),[_,S]=m.useState(!1),[j,N]=m.useState(null),C=[...t.map(A=>A.user_id===(e==null?void 0:e.id)?A.friend_id:A.user_id),...r.map(A=>A.user_id),...n.map(A=>A.friend_id)];m.useEffect(()=>{(async()=>{if(C.length===0)return;const{data:R}=await I.from("profiles").select("*").in("user_id",C);if(R){const M={};R.forEach(z=>{M[z.user_id]=z}),w(M)}})()},[t,r,n]);const k=async()=>{if(h.trim()){x(!0);try{const M=(await s(h)||[]).filter(z=>z.user_id!==(e==null?void 0:e.id)&&!t.some(q=>q.user_id===z.user_id||q.friend_id===z.user_id));g(M),M.length===0&&$.info("Nenhum usurio encontrado")}catch{$.error("Erro ao buscar usurios")}finally{x(!1)}}},O=async A=>{try{await a(A),g(R=>R.filter(M=>M.user_id!==A))}catch{}},F=async A=>{if(d)try{await f(d.id,A),$.success(`Convite de Raid enviado para ${A}!`)}catch(R){$.error(R.message||"Erro ao convidar para raid")}},T=A=>{N(A),S(!0)};return i.jsxs("div",{className:"space-y-4",children:[i.jsx(lq,{open:_,onOpenChange:S,friend:j,isOnline:j?u(j.user_id):!1}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ke,{placeholder:"Nome de Usurio...",value:h,onChange:A=>p(A.target.value),onKeyPress:A=>A.key==="Enter"&&k(),className:"flex-1 text-[10px] pixel-border"}),i.jsx(G,{onClick:k,disabled:b,className:"pixel-button text-[10px]",children:i.jsx(hT,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"pixel-border bg-gradient-to-r from-primary/10 via-accent/10 to-primary/10 p-3",children:i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[10px] font-black uppercase text-white glow-gold",children:"Recrutar Aliados"}),i.jsx("span",{className:"text-[7px] text-zinc-400 uppercase tracking-tighter",children:"Convide amigos para o TasKLegends"})]}),i.jsxs(G,{size:"sm",onClick:()=>{const A={title:"TasKLegends",text:"Venha transformar suas tarefas em uma aventura pica comigo no TasKLegends! ",url:window.location.origin};navigator.share?navigator.share(A).catch(()=>{navigator.clipboard.writeText(A.url),$.success("Link copiado para convidar amigos!")}):(navigator.clipboard.writeText(A.url),$.success("Link de convite copiado!"))},className:"pixel-button bg-accent hover:bg-accent/80 text-black text-[9px] font-black h-8 px-4 animate-pulse-glow",children:[i.jsx("span",{className:"mr-1",children:""})," COMPARTILHAR"]})]})})]}),v.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground",children:"Resultados"}),v.map(A=>i.jsx(Ge,{className:"pixel-border",children:i.jsxs(dt,{className:"p-2 flex items-center justify-between",children:[i.jsx("span",{className:"text-[10px]",children:A.username}),i.jsxs(G,{size:"sm",onClick:()=>O(A.user_id),className:"pixel-button text-[8px] h-6",children:[i.jsx(j1,{className:"w-3 h-3 mr-1"}),"Adicionar"]})]})},A.user_id))]}),r.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-[10px] font-bold text-muted-foreground flex items-center gap-1",children:[" Solicitaes Pendentes",i.jsx(yt,{variant:"secondary",className:"text-[8px]",children:r.length})]}),r.map(A=>{const R=y[A.user_id];return i.jsx(Ge,{className:"pixel-border",children:i.jsxs(dt,{className:"p-2 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 pixel-border bg-muted p-0.5",children:R&&i.jsx(Ct,{playerClass:R.player_class,equippedHat:R.equipped_hat,equippedArmor:R.equipped_armor,equippedWeapon:R.equipped_weapon,equippedShield:R.equipped_shield,equippedLegs:R.equipped_legs,equippedAccessory:R.equipped_accessory,equippedBackground:R.equipped_background,size:28})}),i.jsx("span",{className:"text-[10px]",children:(R==null?void 0:R.username)||"..."})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(G,{size:"icon",variant:"ghost",onClick:()=>o(A.id),className:"h-6 w-6 text-accent",children:i.jsx(As,{className:"w-4 h-4"})}),i.jsx(G,{size:"icon",variant:"ghost",onClick:()=>l(A.id),className:"h-6 w-6 text-destructive",children:i.jsx(ka,{className:"w-4 h-4"})})]})]})},A.id)})]}),n.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground",children:" Aguardando Resposta"}),n.map(A=>{const R=y[A.friend_id];return i.jsx(Ge,{className:"pixel-border opacity-70",children:i.jsxs(dt,{className:"p-2 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 pixel-border bg-muted p-0.5",children:R&&i.jsx(Ct,{playerClass:R.player_class,equippedHat:R.equipped_hat,equippedArmor:R.equipped_armor,equippedWeapon:R.equipped_weapon,equippedShield:R.equipped_shield,equippedLegs:R.equipped_legs,equippedAccessory:R.equipped_accessory,equippedBackground:R.equipped_background,size:28})}),i.jsx("span",{className:"text-[10px]",children:(R==null?void 0:R.username)||"..."})]}),i.jsx(yt,{variant:"outline",className:"text-[8px]",children:"Pendente"})]})},A.id)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-[10px] font-bold text-muted-foreground",children:[" Amigos (",t.length,")"]}),t.length===0?i.jsxs(Ge,{className:"pixel-border p-4 text-center",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Voc ainda no tem amigos"}),i.jsx("p",{className:"text-[8px] text-muted-foreground mt-1",children:"Busque usurios pelo nome para adicionar!"})]}):t.map(A=>{const R=A.user_id===(e==null?void 0:e.id)?A.friend_id:A.user_id,M=y[R],z=u(R);return i.jsx(Ge,{className:"pixel-border hover:pixel-border-gold transition-all cursor-pointer",children:i.jsxs(dt,{className:"p-2 flex items-center justify-between",children:[i.jsx(Rq,{profile:M||null,online:z,children:i.jsxs("div",{className:"flex items-center gap-2 flex-1",onClick:()=>M&&T(M),children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-10 h-10 pixel-border bg-muted p-0.5",children:M&&i.jsx(Ct,{playerClass:M.player_class,equippedHat:M.equipped_hat,equippedArmor:M.equipped_armor,equippedWeapon:M.equipped_weapon,equippedShield:M.equipped_shield,equippedLegs:M.equipped_legs,equippedAccessory:M.equipped_accessory,equippedBackground:M.equipped_background,equippedSkin:M.equipped_skin,equippedMount:M.equipped_mount,size:36})}),i.jsx(y1,{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 fill-current ${z?"text-accent fill-accent":"text-muted-foreground fill-muted-foreground"}`})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-bold",children:(M==null?void 0:M.username)||"..."}),i.jsxs("p",{className:"text-[8px] text-muted-foreground capitalize flex items-center gap-1",children:["Nv. ",(M==null?void 0:M.level)||1,"  ",M!=null&&M.player_class?i.jsx("span",{className:"text-primary font-bold",children:M.player_class}):"..."]})]})]})}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(cq,{friendId:R}),d&&i.jsx(G,{size:"icon",variant:"ghost",onClick:()=>M&&F(M.username),className:"h-7 w-7 text-gold hover:bg-gold/20",title:"Convidar para Raid",children:i.jsx(Bt,{className:"w-4 h-4"})}),i.jsx(G,{size:"icon",variant:"ghost",onClick:()=>M&&T(M),className:"h-7 w-7 text-primary hover:bg-primary/20",children:i.jsx(oT,{className:"w-4 h-4"})}),i.jsx(G,{size:"icon",variant:"ghost",onClick:()=>c(A.id),className:"h-7 w-7 text-muted-foreground hover:text-destructive",children:i.jsx(xT,{className:"w-4 h-4"})})]})]})},A.id)})]})]})}function Oq({open:e,onOpenChange:t}){const{pendingTasks:r}=Ng(),{myTasks:n,selectTask:s,removeTask:a}=Ta(),o=r.filter(d=>d.difficulty==="medium"||d.difficulty==="hard"),l=n.map(d=>d.task_id),c=Nt-n.length,u=d=>{const f=n.find(h=>h.task_id===d);f?a(f.id):c>0&&s(d)};return i.jsx(it,{open:e,onOpenChange:t,children:i.jsxs(et,{className:"max-w-md pixel-dialog",children:[i.jsx(tt,{children:i.jsxs(rt,{className:"flex items-center gap-2 text-[12px]",children:[i.jsx(Bt,{className:"w-4 h-4 text-primary"}),"Selecionar Tarefas para o Duelo"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-[9px]",children:[i.jsx("span",{className:"text-muted-foreground",children:"Apenas tarefas MDIAS ou DIFCEIS"}),i.jsxs(yt,{variant:"outline",className:"text-[8px]",children:[n.length,"/",Nt]})]}),o.length===0?i.jsxs("div",{className:"text-center p-6 pixel-border bg-muted/50",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Voc no tem tarefas elegveis!"}),i.jsx("p",{className:"text-[8px] text-muted-foreground mt-1",children:"Crie tarefas de nvel Mdio ou Difcil primeiro."})]}):i.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-2",children:o.map(d=>{const f=l.includes(d.id),h=!f&&c===0;return i.jsx("button",{onClick:()=>u(d.id),disabled:h,className:U("w-full p-3 pixel-border transition-all text-left",f?"bg-accent/20 border-accent":"bg-card hover:bg-muted/50",h&&"opacity-50 cursor-not-allowed"),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:U("w-5 h-5 pixel-border flex items-center justify-center flex-shrink-0",f?"bg-accent":"bg-muted"),children:f&&i.jsx(As,{className:"w-3 h-3 text-background"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[10px] font-bold truncate",children:d.title}),i.jsx(yt,{variant:"outline",className:U("text-[7px] flex-shrink-0",d.difficulty==="hard"?"bg-destructive/20 text-destructive border-destructive":"bg-gold/20 text-gold border-gold"),children:d.difficulty==="hard"?"DIFCIL":"MDIO"})]}),d.description&&i.jsx("p",{className:"text-[8px] text-muted-foreground truncate mt-1",children:d.description}),i.jsxs("div",{className:"flex items-center gap-3 mt-1 text-[8px]",children:[i.jsxs("span",{className:"text-xp",children:["+",d.xp_reward," XP"]}),i.jsxs("span",{className:"text-gold",children:["+",d.gold_reward," "]}),i.jsxs("span",{className:"text-destructive",children:[" ",d.difficulty==="hard"?"25":"15"," dano"]})]})]})]})},d.id)})}),i.jsx("div",{className:"flex justify-end gap-2",children:i.jsx(G,{variant:"outline",onClick:()=>t(!1),className:"pixel-button text-[9px]",children:"Fechar"})})]})]})})}const Dq="modulepreload",Iq=function(e){return"/"+e},m0={},Mq=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Iq(c),c in m0)return;m0[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Dq,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function Lq({open:e,onOpenChange:t,taskSelectionId:r,task:n}){var _;const{uploadEvidence:s,completeTaskWithEvidence:a}=Ta(),[o,l]=m.useState(null),[c,u]=m.useState(null),[d,f]=m.useState(!1),[h,p]=m.useState(!1),[v,g]=m.useState(null),b=m.useRef(null),x=S=>{var N;const j=(N=S.target.files)==null?void 0:N[0];if(j){if(!j.type.startsWith("image/")){$.error("Por favor, selecione uma imagem");return}if(j.size>5*1024*1024){$.error("Imagem muito grande. Mximo: 5MB");return}l(j),g(null);const C=new FileReader;C.onloadend=()=>{u(C.result)},C.readAsDataURL(j)}},y=async()=>{var S,j,N;if(!(!o||!n)){f(!0),p(!0);try{const{analyzeEvidenceWithAI:C}=await Mq(async()=>{const{analyzeEvidenceWithAI:F}=await import("./ai-judge-C_WoTBUs.js");return{analyzeEvidenceWithAI:F}},[]),k=await C(o,((S=n.task)==null?void 0:S.title)||"",((j=n.task)==null?void 0:j.description)||"");if(g(k),p(!1),!k.approved){$.error(`IA REPROVOU: ${k.reason}`,{duration:5e3}),f(!1);return}$.success("IA Aprovou sua evidncia! Finalizando...");const O=await s(o);await a({selectionId:r,evidenceUrl:O,difficulty:(N=n.task)==null?void 0:N.difficulty}),l(null),u(null),t(!1)}catch(C){$.error(C.message||"Erro no processamento")}finally{f(!1),p(!1)}}},w=()=>{d||(l(null),u(null),t(!1))};return i.jsx(it,{open:e,onOpenChange:w,children:i.jsxs(et,{className:"max-w-sm pixel-dialog",children:[i.jsx(tt,{children:i.jsxs(rt,{className:"flex items-center gap-2 text-[12px]",children:[i.jsx(ip,{className:"w-4 h-4 text-accent"}),"Enviar Evidncia"]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"pixel-border bg-muted/50 p-3",children:[i.jsx("p",{className:"text-[10px] font-bold truncate",children:(_=n==null?void 0:n.task)==null?void 0:_.title}),i.jsx("p",{className:"text-[8px] text-muted-foreground mt-1",children:"Tire uma foto comprovando a concluso desta tarefa"})]}),i.jsx("div",{onClick:()=>{var S;return(S=b.current)==null?void 0:S.click()},className:"pixel-border bg-card hover:bg-muted/50 transition-colors cursor-pointer p-6 text-center",children:c?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:c,alt:"Preview",className:"max-h-48 mx-auto rounded pixel-border"}),i.jsx("div",{className:"mt-2 text-[8px] text-accent",children:" Imagem selecionada - Clique para trocar"})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx(yT,{className:"w-8 h-8 mx-auto text-muted-foreground"}),i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Clique para selecionar uma foto"}),i.jsx("p",{className:"text-[8px] text-muted-foreground",children:"JPG, PNG ou GIF  Mx. 5MB"})]})}),i.jsx("input",{ref:b,type:"file",accept:"image/*",capture:"environment",onChange:x,className:"hidden"}),i.jsx("div",{className:"pixel-border bg-destructive/10 p-2 text-center",children:i.jsx("p",{className:"text-[7px] text-destructive",children:" Evidncias falsas podem ser contestadas pelo oponente!"})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(G,{variant:"outline",onClick:w,disabled:d||h,className:"flex-1 pixel-button text-[9px]",children:"Cancelar"}),i.jsx(G,{onClick:y,disabled:!o||d||h,className:U("flex-1 pixel-button text-[9px]",h?"bg-primary/50":"bg-accent hover:bg-accent/80"),children:h?i.jsxs(i.Fragment,{children:[i.jsx(Hi,{className:"w-3 h-3 mr-1 animate-spin"}),"Juiz IA Analisando..."]}):d?i.jsxs(i.Fragment,{children:[i.jsx(Hi,{className:"w-3 h-3 mr-1 animate-spin"}),"Finalizando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(As,{className:"w-3 h-3 mr-1"}),"Confirmar Foto"]})})]})]})]})})}function g0({tasks:e,isOwn:t,onImageClick:r,onCompleteTask:n,username:s}){const{contestTask:a}=Ta(),[o,l]=m.useState(!1),[c,u]=m.useState(null),[d,f]=m.useState(""),h=e.filter(g=>g.completed),p=()=>{c&&d.trim()&&(a({selectionId:c,reason:d}),l(!1),u(null),f(""))},v=g=>{u(g),l(!0)};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm font-bold text-muted-foreground flex items-center gap-2",children:[i.jsx(ip,{className:"w-5 h-5"}),t?"Suas Evidncias":"Evidncias do Oponente",i.jsxs("span",{className:"ml-auto bg-background px-2 py-0.5 rounded pixel-border text-xs",children:[h.length,"/",e.length]})]}),i.jsx("div",{className:"grid grid-cols-5 gap-3",children:e.map(g=>{var b;return i.jsx("div",{className:U("aspect-square pixel-border overflow-hidden relative group transition-all hover:scale-105 shadow-md",g.completed?"bg-accent/20":"bg-muted/30",g.contested&&"ring-4 ring-destructive"),children:g.completed&&g.evidence_url?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:g.evidence_url,alt:(b=g.task)==null?void 0:b.title,className:"w-full h-full object-cover cursor-pointer hover:brightness-110 transition-all",onClick:()=>r(g.evidence_url),style:{imageRendering:"pixelated"}}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/80 px-1 py-1 border-t border-white/20",children:i.jsx("p",{className:"text-[8px] sm:text-[10px] text-white font-pixel truncate uppercase text-center",children:s||(t?"VOC":"OPONENTE")})}),i.jsx("div",{className:"absolute top-0 left-0 bg-destructive px-2 py-0.5 border-r border-b border-white/20 z-10 shadow-lg",children:i.jsxs("span",{className:"text-[10px] text-white font-black drop-shadow-md",children:["-",g.damage_dealt]})}),!t&&!g.contested&&i.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center z-20 gap-2",children:[i.jsx(G,{size:"icon",variant:"ghost",onClick:()=>r(g.evidence_url),className:"h-8 w-8 rounded-full bg-white/10 hover:bg-white/30 text-white border-2 border-white/50",children:i.jsx(nT,{className:"w-4 h-4"})}),i.jsx(G,{size:"icon",variant:"ghost",onClick:()=>v(g.id),className:"h-8 w-8 rounded-full bg-destructive/50 hover:bg-destructive text-white border-2 border-destructive/50",children:i.jsx(To,{className:"w-4 h-4"})})]}),g.contested&&i.jsx("div",{className:"absolute top-0 right-0 bg-destructive p-1 z-20 shadow-lg",children:i.jsx(To,{className:"w-4 h-4 text-white animate-pulse"})})]}):i.jsx("div",{className:"w-full h-full flex items-center justify-center p-1",children:t&&n?i.jsxs("button",{onClick:()=>n(g.id),className:"w-full h-full flex flex-col items-center justify-center hover:bg-white/5 transition-colors gap-2 group/btn",children:[i.jsx("div",{className:"p-2 bg-background/50 rounded-full group-hover/btn:scale-110 transition-transform pixel-border",children:i.jsx(ip,{className:"w-5 h-5 text-muted-foreground group-hover/btn:text-primary transition-colors"})}),i.jsx("span",{className:"text-[10px] uppercase font-bold text-muted-foreground group-hover/btn:text-primary transition-colors",children:"Enviar"})]}):i.jsx(Su,{className:"w-6 h-6 text-muted-foreground/30"})})},g.id)})}),i.jsxs("div",{className:"flex items-center justify-center gap-6 text-[10px] text-muted-foreground font-medium pt-2 uppercase tracking-wide",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(As,{className:"w-3 h-3 text-accent"})," Concluda"]}),i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Su,{className:"w-3 h-3"})," Pendente"]}),!t&&i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(To,{className:"w-3 h-3 text-destructive"})," Contestar"]})]}),i.jsx(it,{open:o,onOpenChange:l,children:i.jsxs(et,{className:"max-w-sm pixel-dialog",children:[i.jsx(tt,{children:i.jsxs(rt,{className:"flex items-center gap-2 text-[12px] text-destructive",children:[i.jsx(To,{className:"w-4 h-4"}),"Contestar Evidncia"]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-[9px] text-muted-foreground",children:"Descreva o motivo da contestao. A tarefa ser marcada para reviso."}),i.jsx(Pa,{placeholder:"Ex: A foto no mostra a concluso da tarefa...",value:d,onChange:g=>f(g.target.value),className:"text-[10px] pixel-border min-h-20"})]}),i.jsxs(Ag,{children:[i.jsx(G,{variant:"outline",onClick:()=>l(!1),className:"pixel-button text-[9px]",children:"Cancelar"}),i.jsx(G,{onClick:p,disabled:!d.trim(),className:"pixel-button text-[9px] bg-destructive hover:bg-destructive/80",children:"Contestar"})]})]})})]})}function $q({challenges:e}){const{acceptChallenge:t,declineChallenge:r}=Ta();return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"pixel-border bg-gradient-to-b from-primary/20 to-background p-4 text-center",children:[i.jsx(Bt,{className:"w-8 h-8 mx-auto text-primary animate-bounce mb-2"}),i.jsx("h3",{className:"text-[12px] font-bold text-primary glow-gold",children:"DESAFIOS PENDENTES!"}),i.jsx("p",{className:"text-[9px] text-muted-foreground mt-1",children:"Voc foi desafiado para um duelo PvP!"})]}),i.jsx("div",{className:"space-y-2",children:e.map(n=>{var s,a,o;return i.jsxs("div",{className:"pixel-border bg-card p-4 animate-pulse-glow",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 pixel-border bg-primary/20 flex items-center justify-center",children:i.jsx(Bt,{className:"w-4 h-4 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-bold",children:((s=n.challenger)==null?void 0:s.username)||"Desafiante Desconhecido"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(yt,{variant:"outline",className:"text-[7px]",children:["Nv. ",((a=n.challenger)==null?void 0:a.level)??"?"]}),i.jsx(yt,{variant:"secondary",className:"text-[7px] capitalize",children:((o=n.challenger)==null?void 0:o.player_class)||"apprentice"})]})]})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(G,{size:"sm",variant:"outline",onClick:()=>r(n.id),className:"flex-1 pixel-button text-[9px]",children:[i.jsx(ka,{className:"w-3 h-3 mr-1"}),"Recusar"]}),i.jsxs(G,{size:"sm",onClick:()=>t(n.id),className:"flex-1 pixel-button text-[9px] bg-accent hover:bg-accent/80",children:[i.jsx(As,{className:"w-3 h-3 mr-1"}),"Aceitar Duelo!"]})]})]},n.id)})})]})}function Fq(){const{profile:e}=At();Ng();const{activeDuel:t,myTasks:r,opponentTasks:n,myLocked:s,opponentLocked:a,opponentProfile:o,pendingChallenges:l,isLoading:c,getMyHp:u,getOpponentHp:d,lockTasks:f,cancelChallenge:h,subscribeToUpdates:p,isError:v,error:g}=Ta(),{user:b}=$e(),{reportPlayer:x}=QN(),[y,w]=m.useState(!1),[_,S]=m.useState(!1),[j,N]=m.useState(null),[C,k]=m.useState(null),[O,F]=m.useState(!1),[T,A]=m.useState(""),[R,M]=m.useState(!1),[z,q]=m.useState(!1);if(m.useEffect(()=>p(),[t==null?void 0:t.id]),console.log("[PvPArena Debug]",{isLoading:c,pendingChallenges:l,pendingChallengesCount:l.length,activeDuel:t,userId:b==null?void 0:b.id}),c)return i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsx("div",{className:"animate-pulse text-[10px] text-muted-foreground",children:"Carregando Arena..."})});if(v)return i.jsxs("div",{className:"flex flex-col items-center justify-center p-8 space-y-4 text-center",children:[i.jsx(To,{className:"w-12 h-12 text-destructive animate-pulse"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-bold text-destructive",children:"Erro na Arena"}),i.jsx("p",{className:"text-[10px] text-muted-foreground max-w-md",children:(g==null?void 0:g.message)||"Ocorreu um erro desconhecido ao carregar a arena."}),i.jsx(G,{variant:"outline",onClick:()=>window.location.reload(),className:"pixel-button mt-4",children:"Tentar Novamente"})]})]});const P=(t==null?void 0:t.status)==="pending"&&(t==null?void 0:t.challenged_id)===(b==null?void 0:b.id);if(l.length>0||P){const K=l.length>0?l:P?[t]:[];if(K.length>0)return i.jsx($q,{challenges:K})}if((t==null?void 0:t.status)==="pending"&&(t==null?void 0:t.challenger_id)===(b==null?void 0:b.id)&&t)return i.jsxs("div",{className:"pixel-border bg-card p-6 text-center space-y-4",children:[i.jsx("div",{className:"text-4xl animate-pulse",children:""}),i.jsx("h3",{className:"text-[12px] font-bold text-primary",children:"Aguardando Resposta"}),i.jsxs("p",{className:"text-[9px] text-muted-foreground",children:["Voc enviou um desafio para ",i.jsx("strong",{className:"text-accent",children:(o==null?void 0:o.username)||"um jogador"}),".",i.jsx("br",{}),"Aguarde a confirmao do oponente para iniciar o duelo."]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[i.jsx(Ct,{playerClass:(o==null?void 0:o.player_class)||"apprentice",size:48}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"text-[10px] font-bold",children:(o==null?void 0:o.username)||"???"}),i.jsxs("p",{className:"text-[8px] text-muted-foreground",children:["Nv. ",(o==null?void 0:o.level)||"?"]})]})]}),i.jsxs(G,{onClick:()=>h(t.id),variant:"destructive",className:"pixel-button text-[9px] mt-4",children:[i.jsx(ka,{className:"w-3 h-3 mr-1"}),"Cancelar Desafio"]})]});if(!t)return i.jsxs("div",{className:"pixel-border bg-card p-6 text-center space-y-4",children:[i.jsx("div",{className:"text-4xl",children:""}),i.jsx("h3",{className:"text-[12px] font-bold text-primary",children:"Arena PvP Elite"}),i.jsxs("p",{className:"text-[9px] text-muted-foreground",children:["Desafie um amigo para um duelo de produtividade!",i.jsx("br",{}),"Cada jogador seleciona 5 tarefas Mdias ou Difceis.",i.jsx("br",{}),"Complete suas tarefas com FOTOS para causar dano!"]}),i.jsx("div",{className:"flex flex-col gap-2",children:i.jsxs(yt,{variant:"outline",className:"text-[8px] mx-auto",children:[i.jsx(Bt,{className:"w-3 h-3 mr-1"}),"V at Amigos para desafiar algum"]})})]});const D=t.status==="selecting",B=t.status==="active",V=t.status==="completed",Z=t.winner_id===(e==null?void 0:e.user_id),ee=u(),me=d(),Ne=K=>{N(K),S(!0)};return D?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"pixel-border bg-gradient-to-b from-primary/20 to-background p-4",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx(Bt,{className:"w-5 h-5 text-primary animate-pulse"}),i.jsx("h3",{className:"text-[12px] font-bold text-primary glow-gold",children:"FASE DE SELEO"}),i.jsx(Bt,{className:"w-5 h-5 text-primary animate-pulse"})]}),i.jsxs("p",{className:"text-[9px] text-center text-muted-foreground mb-4",children:["Selecione ",Nt," tarefas de nvel MDIO ou DIFCIL para o duelo"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"pixel-border bg-card/50 p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Ct,{playerClass:(e==null?void 0:e.player_class)||"apprentice",equippedHat:e==null?void 0:e.equipped_hat,equippedArmor:e==null?void 0:e.equipped_armor,equippedWeapon:e==null?void 0:e.equipped_weapon,equippedShield:e==null?void 0:e.equipped_shield,equippedLegs:e==null?void 0:e.equipped_legs,equippedAccessory:e==null?void 0:e.equipped_accessory,equippedBackground:e==null?void 0:e.equipped_background,size:32}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-bold",children:e==null?void 0:e.username}),i.jsxs("p",{className:"text-[8px] text-muted-foreground",children:["Nv. ",e==null?void 0:e.level]})]}),s&&i.jsx(ua,{className:"w-4 h-4 text-accent ml-auto"})]}),i.jsxs("div",{className:"text-[9px] mb-2",children:["Tarefas: ",r.length,"/",Nt]}),i.jsx(ji,{value:r.length/Nt*100,className:"h-2 mb-3"}),i.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:r.map(K=>{var ve,Ce;return i.jsxs("div",{className:"flex items-center gap-2 p-1 bg-background/50 pixel-border text-[8px]",children:[i.jsx("span",{className:"truncate flex-1",children:(ve=K.task)==null?void 0:ve.title}),i.jsx(yt,{variant:"outline",className:"text-[6px]",children:((Ce=K.task)==null?void 0:Ce.difficulty)==="hard"?"":""})]},K.id)})}),!s&&i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsx(G,{size:"sm",variant:"outline",onClick:()=>w(!0),className:"flex-1 pixel-button text-[8px]",children:"+ Adicionar"}),r.length>=Nt&&i.jsxs(G,{size:"sm",onClick:()=>f(),className:"flex-1 pixel-button text-[8px] bg-accent hover:bg-accent/80",children:[i.jsx(ua,{className:"w-3 h-3 mr-1"}),"Travar"]})]})]}),i.jsxs("div",{className:"pixel-border bg-card/50 p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Ct,{playerClass:(o==null?void 0:o.player_class)||"apprentice",equippedHat:o==null?void 0:o.equipped_hat,equippedArmor:o==null?void 0:o.equipped_armor,equippedWeapon:o==null?void 0:o.equipped_weapon,equippedShield:o==null?void 0:o.equipped_shield,equippedLegs:o==null?void 0:o.equipped_legs,equippedAccessory:o==null?void 0:o.equipped_accessory,equippedBackground:o==null?void 0:o.equipped_background,size:32}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-bold",children:(o==null?void 0:o.username)||"???"}),i.jsxs("p",{className:"text-[8px] text-muted-foreground",children:["Nv. ",(o==null?void 0:o.level)||"?"]})]}),a&&i.jsx(ua,{className:"w-4 h-4 text-accent ml-auto"})]}),i.jsxs("div",{className:"text-[9px] mb-2",children:["Tarefas: ",n.length,"/",Nt]}),i.jsx(ji,{value:n.length/Nt*100,className:"h-2 mb-3"}),i.jsx("div",{className:"text-center py-4 text-[8px] text-muted-foreground",children:a?i.jsx("span",{className:"text-accent",children:" Tarefas travadas!"}):i.jsx("span",{children:"Aguardando seleo..."})})]})]})]}),i.jsx(Oq,{open:y,onOpenChange:w})]}):B||V?i.jsxs("div",{className:"space-y-4",children:[V&&i.jsxs("div",{className:U("pixel-border p-4 text-center animate-pulse-glow",Z?"bg-accent/20":"bg-destructive/20"),children:[i.jsx("div",{className:"text-3xl mb-2",children:Z?"":""}),i.jsx("h3",{className:U("text-[14px] font-bold",Z?"text-accent":"text-destructive"),children:Z?"VITRIA!":"DERROTA..."}),Z&&i.jsx("p",{className:"text-[9px] text-muted-foreground mt-1",children:"+200 XP, +150 Ouro"})]}),i.jsxs("div",{className:"pixel-border bg-gradient-to-b from-destructive/10 to-background p-6",children:[i.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6 relative",children:[i.jsx(G,{variant:"ghost",size:"icon",onClick:()=>M(!0),className:"absolute left-0 text-muted-foreground hover:text-primary",children:i.jsx(Oy,{className:"w-5 h-5"})}),i.jsx(vi,{className:"w-8 h-8 text-destructive"}),i.jsx("h3",{className:"text-2xl font-black text-destructive glow-gold tracking-widest uppercase",children:" ARENA DE COMBATE "}),i.jsx(vi,{className:"w-8 h-8 text-destructive"}),i.jsx(G,{variant:"ghost",size:"icon",onClick:()=>q(!0),className:"absolute right-0 text-muted-foreground hover:text-accent",children:i.jsx(Dy,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-8 relative items-start",children:[i.jsxs("div",{className:"pixel-border bg-card p-5 space-y-4 shadow-xl",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"pixel-border-gold p-1 bg-background",children:i.jsx(Ct,{playerClass:(e==null?void 0:e.player_class)||"apprentice",equippedHat:e==null?void 0:e.equipped_hat,equippedArmor:e==null?void 0:e.equipped_armor,equippedWeapon:e==null?void 0:e.equipped_weapon,equippedShield:e==null?void 0:e.equipped_shield,equippedLegs:e==null?void 0:e.equipped_legs,equippedAccessory:e==null?void 0:e.equipped_accessory,equippedBackground:e==null?void 0:e.equipped_background,size:80})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"text-xl font-black truncate",children:e==null?void 0:e.username}),t.challenger_id===(e==null?void 0:e.user_id)&&i.jsx(on,{className:"w-5 h-5 text-gold animate-bounce"})]}),i.jsxs(yt,{variant:"outline",className:"text-xs mt-1 bg-primary/10 border-primary/30",children:["Nvel ",e==null?void 0:e.level]})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between text-xs font-bold uppercase tracking-wider",children:[i.jsxs("span",{className:"text-hp flex items-center gap-1",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-hp animate-pulse"})," HP"]}),i.jsxs("span",{children:[ee," / ",ui]})]}),i.jsx("div",{className:"h-8 bg-black/50 pixel-border overflow-hidden relative shadow-inner",children:i.jsx("div",{className:U("h-full transition-all duration-700 ease-out relative",ee>50?"bg-hp":ee>25?"bg-gold":"bg-destructive animate-pulse"),style:{width:`${ee/ui*100}%`},children:i.jsx("div",{className:"absolute inset-0 bg-white/20 animate-shimmer"})})})]}),i.jsx("div",{className:"pt-2 border-t border-white/10",children:i.jsx(g0,{tasks:r,isOwn:!0,username:e==null?void 0:e.username,onImageClick:k,onCompleteTask:Ne})})]}),i.jsx("div",{className:"absolute left-1/2 top-48 -translate-x-1/2 -translate-y-1/2 z-20 hidden lg:flex items-center justify-center pointer-events-none",children:i.jsx("div",{className:"text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-yellow-300 to-yellow-600 glow-gold drop-shadow-[0_4px_4px_rgba(0,0,0,0.8)] animate-pulse",children:"VS"})}),i.jsxs("div",{className:"pixel-border bg-card p-5 space-y-4 shadow-xl",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-row-reverse text-right",children:[i.jsxs("div",{className:"pixel-border p-1 bg-background relative",children:[i.jsx(Ct,{playerClass:(o==null?void 0:o.player_class)||"apprentice",equippedHat:o==null?void 0:o.equipped_hat,equippedArmor:o==null?void 0:o.equipped_armor,equippedWeapon:o==null?void 0:o.equipped_weapon,equippedShield:o==null?void 0:o.equipped_shield,equippedLegs:o==null?void 0:o.equipped_legs,equippedAccessory:o==null?void 0:o.equipped_accessory,equippedBackground:o==null?void 0:o.equipped_background,size:80}),i.jsx(G,{size:"icon",variant:"ghost",onClick:()=>F(!0),className:"absolute -top-2 -right-2 h-8 w-8 rounded-full bg-destructive text-white border-2 border-black hover:bg-destructive/80 z-10 shadow-lg",title:"Denunciar Jogador",children:i.jsx(If,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[t.challenger_id===(o==null?void 0:o.user_id)&&i.jsx(on,{className:"w-5 h-5 text-gold animate-bounce"}),i.jsx("p",{className:"text-xl font-black truncate",children:o==null?void 0:o.username})]}),i.jsxs(yt,{variant:"outline",className:"text-xs mt-1 bg-destructive/10 border-destructive/30",children:["Nvel ",o==null?void 0:o.level]})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between text-xs font-bold uppercase tracking-wider",children:[i.jsxs("span",{children:[me," / ",ui]}),i.jsxs("span",{className:"text-hp flex items-center gap-1",children:["HP ",i.jsx("span",{className:"w-2 h-2 rounded-full bg-hp animate-pulse"})]})]}),i.jsx("div",{className:"h-8 bg-black/50 pixel-border overflow-hidden relative shadow-inner",children:i.jsx("div",{className:U("h-full transition-all duration-700 ease-out relative ml-auto",me>50?"bg-hp":me>25?"bg-gold":"bg-destructive animate-pulse"),style:{width:`${me/ui*100}%`},children:i.jsx("div",{className:"absolute inset-0 bg-white/20 animate-shimmer"})})})]}),i.jsx("div",{className:"pt-2 border-t border-white/10",children:i.jsx(g0,{tasks:n,isOwn:!1,username:o==null?void 0:o.username,onImageClick:k})})]})]})]}),j&&i.jsx(Lq,{open:_,onOpenChange:S,taskSelectionId:j,task:r.find(K=>K.id===j)}),i.jsx(it,{open:!!C,onOpenChange:()=>k(null),children:i.jsxs(et,{className:"max-w-3xl pixel-dialog",children:[i.jsx(tt,{children:i.jsx(rt,{className:"text-[10px]",children:"Evidncia de Tarefa"})}),C&&i.jsx("img",{src:C,alt:"Evidence",className:"w-full h-auto rounded pixel-border"})]})}),i.jsx(it,{open:O,onOpenChange:F,children:i.jsxs(et,{className:"max-w-sm pixel-dialog",children:[i.jsx(tt,{children:i.jsxs(rt,{className:"flex items-center gap-2 text-[12px] text-destructive",children:[i.jsx(If,{className:"w-4 h-4"}),"Denunciar Jogador"]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-[9px] text-muted-foreground",children:"Descreva o comportamento inadequado do jogador. A denncia ser analisada pela nossa equipe."}),i.jsx(Pa,{placeholder:"Ex: O jogador est usando fotos falsas para completar tarefas...",value:T,onChange:K=>A(K.target.value),className:"text-[10px] pixel-border min-h-20"})]}),i.jsxs(Ag,{children:[i.jsx(G,{variant:"outline",onClick:()=>F(!1),className:"pixel-button text-[9px]",children:"Cancelar"}),i.jsxs(G,{onClick:async()=>{o!=null&&o.user_id&&t&&T.trim()&&(await x(o.user_id,t.id,T.trim()),F(!1),A(""))},disabled:!T.trim(),className:"pixel-button text-[9px] bg-destructive hover:bg-destructive/80",children:[i.jsx(If,{className:"w-3 h-3 mr-1"}),"Denunciar"]})]})]})}),i.jsx(it,{open:R,onOpenChange:M,children:i.jsxs(et,{className:"max-w-md pixel-dialog",children:[i.jsx(tt,{children:i.jsxs(rt,{className:"flex items-center gap-2 text-primary",children:[i.jsx(Oy,{className:"w-5 h-5"}),"COMO FUNCIONA O PVP?"]})}),i.jsxs("div",{className:"space-y-4 text-[10px] leading-relaxed",children:[i.jsxs("div",{className:"pixel-border bg-muted/30 p-3 space-y-2",children:[i.jsx("p",{className:"font-bold text-accent",children:"1. Seleo (5 Misses)"}),i.jsx("p",{children:"Escolha 5 tarefas MDIAS ou DIFCEIS. O oponente far o mesmo. O duelo s comea quando ambos travarem a seleo."})]}),i.jsxs("div",{className:"pixel-border bg-muted/30 p-3 space-y-2",children:[i.jsx("p",{className:"font-bold text-hp",children:"2. Combate e Evidncias"}),i.jsx("p",{children:"Para causar dano, voc deve anexar uma FOTO comprovando que realizou a tarefa. Ao enviar a foto, a tarefa  concluda AUTOMATICAMENTE e o dano  aplicado."})]}),i.jsxs("div",{className:"pixel-border bg-muted/30 p-3 space-y-2",children:[i.jsx("p",{className:"font-bold text-gold",children:"3. Contestao"}),i.jsx("p",{children:"Voc pode ver as fotos do oponente. Se achar que ele mentiu, voc pode CONTESTAR. Isso marca a tarefa para reviso."})]}),i.jsxs("div",{className:"pixel-border bg-muted/30 p-3 space-y-2",children:[i.jsx("p",{className:"font-bold text-primary",children:"4. Vitria"}),i.jsx("p",{children:"O primeiro a levar o HP do oponente a 0 vence e ganha bnus massivos de XP e Ouro!"})]})]})]})}),i.jsx(it,{open:z,onOpenChange:q,children:i.jsxs(et,{className:"max-w-md pixel-dialog",children:[i.jsx(tt,{children:i.jsxs(rt,{className:"flex items-center gap-2 text-accent",children:[i.jsx(Dy,{className:"w-5 h-5"}),"EVOLUO DE ATRIBUTOS"]})}),i.jsxs("div",{className:"space-y-4 text-[10px] leading-relaxed",children:[i.jsx("p",{children:"Seus atributos crescem conforme voc sobe de nvel e equipa itens raros da loja. Cada ponto faz diferena:"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"pixel-border p-2 bg-muted/20",children:[i.jsx("p",{className:"font-black text-primary",children:"FOR (Fora)"}),i.jsx("p",{className:"text-[8px] text-muted-foreground",children:"Aumenta seu poder de ataque e dano bruto causado em raids e PVP."})]}),i.jsxs("div",{className:"pixel-border p-2 bg-muted/20",children:[i.jsx("p",{className:"font-black text-accent",children:"INT (Inteligncia)"}),i.jsx("p",{className:"text-[8px] text-muted-foreground",children:"Bnus de XP ganho em tarefas (+0.5 por ponto) e aumenta sua Mana Max."})]}),i.jsxs("div",{className:"pixel-border p-2 bg-muted/20",children:[i.jsx("p",{className:"font-black text-hp",children:"CON (Constituio)"}),i.jsx("p",{className:"text-[8px] text-muted-foreground",children:"Aumenta seu HP mximo (+5 por ponto) e reduz dano recebido (-0.5 por ponto)."})]}),i.jsxs("div",{className:"pixel-border p-2 bg-muted/20",children:[i.jsx("p",{className:"font-black text-gold",children:"PER (Percepo)"}),i.jsx("p",{className:"text-[8px] text-muted-foreground",children:"Aumenta a chance de encontrar itens e bnus de Ouro em misses (+0.2 por ponto)."})]})]}),i.jsx("div",{className:"p-2 bg-accent/10 pixel-border text-center italic",children:"Dica: A partir do Nvel 10, voc pode escolher uma Classe para ganhar multiplicadores especficos nestes atributos!"})]})]})})]}):null}function qq(e,t){const{user:r}=$e(),n=Rt(),{data:s=[],isLoading:a}=Be({queryKey:["messages",e,t],queryFn:async()=>{if(!t)return[];const{data:l,error:c}=await I.from("messages").select("*").eq("channel_type",e).eq("channel_id",t).order("created_at",{ascending:!0}).limit(100);if(c)throw c;return l},enabled:!!r&&!!t});m.useEffect(()=>{if(!r||!t)return;const l=I.channel(`messages-${e}-${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`channel_id=eq.${t}`},c=>{n.setQueryData(["messages",e,t],(u=[])=>{const d=c.new;return u.some(f=>f.id===d.id)?u:[...u,d]})}).subscribe();return()=>{I.removeChannel(l)}},[r,e,t,n]);const o=de({mutationFn:async l=>{if(!r||!t)throw new Error("Not ready");const{error:c}=await I.from("messages").insert({sender_id:r.id,content:l,channel_type:e,channel_id:t});if(c)throw c},onSuccess:()=>{n.invalidateQueries({queryKey:["messages",e,t]})},onError:l=>{$.error("Erro ao enviar mensagem: "+l.message)}});return{messages:s,isLoading:a,sendMessage:o.mutate,isSending:o.isPending}}const Uq=["","","","","","","","","",""];function cC({channelType:e,channelId:t,usernames:r}){const{user:n}=$e(),{messages:s,sendMessage:a,isSending:o}=qq(e,t),[l,c]=m.useState(""),[u,d]=m.useState(!1),f=m.useRef(null);m.useEffect(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[s]);const h=()=>{l.trim()&&(a(l.trim()),c(""),d(!1))},p=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),h())},v=g=>{c(b=>b+g)};return t?i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx(Ud,{className:"flex-1 p-2",ref:f,children:i.jsx("div",{className:"space-y-2",children:s.length===0?i.jsx("p",{className:"text-center text-muted-foreground text-[8px] py-4",children:"Nenhuma mensagem ainda. Seja o primeiro!"}):s.map(g=>{const b=g.sender_id===(n==null?void 0:n.id),x=r[g.sender_id]||"Desconhecido";return i.jsxs("div",{className:`flex flex-col ${b?"items-end":"items-start"}`,children:[i.jsxs("div",{className:"flex items-center gap-1 mb-0.5",children:[i.jsx("span",{className:`text-[8px] ${b?"text-primary":"text-muted-foreground"}`,children:b?"Voc":x}),i.jsx("span",{className:"text-[6px] text-muted-foreground",children:Vt(new Date(g.created_at),"HH:mm",{locale:ks})})]}),i.jsx("div",{className:`px-2 py-1 rounded text-[9px] max-w-[80%] ${b?"bg-primary text-primary-foreground":"bg-muted text-foreground"}`,children:g.content})]},g.id)})})}),u&&i.jsx("div",{className:"flex flex-wrap gap-1 p-2 border-t border-border",children:Uq.map(g=>i.jsx("button",{onClick:()=>v(g),className:"text-lg hover:scale-125 transition-transform",children:g},g))}),i.jsxs("div",{className:"flex gap-1 p-2 border-t border-border",children:[i.jsx(G,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(!u),children:i.jsx(S1,{className:"w-4 h-4"})}),i.jsx(Ke,{value:l,onChange:g=>c(g.target.value),onKeyPress:p,placeholder:"Digite sua mensagem...",className:"flex-1 h-8 text-[10px] pixel-border",disabled:o}),i.jsx(G,{size:"icon",className:"h-8 w-8 pixel-button",onClick:h,disabled:o||!l.trim(),children:i.jsx(ju,{className:"w-4 h-4"})})]})]}):i.jsx("div",{className:"p-4 text-center text-muted-foreground text-[10px]",children:"Selecione uma raid ou guilda para ver o chat"})}function Bq({raid:e,members:t,memberProfiles:r,onMemberRemoved:n,onMemberAdded:s}){const{user:a}=$e(),{inviteByEmail:o}=Ds(),[l,c]=m.useState(!1),[u,d]=m.useState(""),[f,h]=m.useState(!1);if(!(e.leader_id===(a==null?void 0:a.id)))return null;const v=async()=>{if(u.trim()){h(!0);try{await o(e.id,u),$.success("Convite enviado com sucesso!"),d(""),s()}catch(b){$.error("Erro ao convidar: "+b.message)}finally{h(!1)}}},g=async(b,x)=>{if(x===(a==null?void 0:a.id)){$.error("Voc no pode se remover");return}try{const{error:y}=await I.from("raid_members").delete().eq("id",b);if(y)throw y;$.success("Membro removido"),n()}catch(y){$.error("Erro ao remover: "+y.message)}};return i.jsxs(it,{open:l,onOpenChange:c,children:[i.jsx(Ul,{asChild:!0,children:i.jsxs(G,{variant:"outline",size:"sm",className:"pixel-button text-[8px]",children:[i.jsx(pT,{className:"w-3 h-3 mr-1"}),"Gerenciar Raid"]})}),i.jsxs(et,{className:"pixel-border bg-card max-w-md",children:[i.jsx(tt,{children:i.jsxs(rt,{className:"text-[14px] flex items-center gap-2",children:[i.jsx(on,{className:"w-5 h-5 text-primary"}),"Gerenciar Raid: ",e.name]})}),i.jsxs("div",{className:"space-y-4 mt-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-[10px] text-muted-foreground flex items-center gap-1",children:[i.jsx(aT,{className:"w-3 h-3"}),"Convidar por nome de usurio"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ke,{placeholder:"Digite o email do heri...",value:u,onChange:b=>d(b.target.value),onKeyPress:b=>b.key==="Enter"&&v(),className:"flex-1 text-[10px] pixel-border"}),i.jsx(G,{onClick:v,disabled:f||!u.trim()||t.length>=5,className:"pixel-button text-[10px]",children:i.jsx(j1,{className:"w-4 h-4"})})]}),i.jsxs("p",{className:"text-[8px] text-muted-foreground",children:[t.length,"/5 membros"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Membros da Raid"}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:t.map(b=>{const x=r[b.user_id],y=b.user_id===(a==null?void 0:a.id),w=b.user_id===e.leader_id;return i.jsxs("div",{className:"flex items-center justify-between p-2 pixel-border bg-muted/50",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 pixel-border bg-muted p-0.5",children:x&&i.jsx(Ct,{playerClass:x.player_class,size:28})}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-[10px] flex items-center gap-1",children:[(x==null?void 0:x.username)||"...",w&&i.jsx(on,{className:"w-3 h-3 text-primary"})]}),i.jsxs("p",{className:"text-[8px] text-muted-foreground",children:["Nv. ",(x==null?void 0:x.level)||1,"  ",b.damage_dealt," dmg"]})]})]}),!y&&i.jsx(G,{variant:"ghost",size:"icon",onClick:()=>g(b.id,b.user_id),className:"h-6 w-6 text-destructive hover:bg-destructive/20",children:i.jsx(ka,{className:"w-4 h-4"})})]},b.id)})})]})]})]})]})}const zq=(e,t)=>{const r=t>=15,n=t>=25;return{emoji:{"Drago de Fogo":n?"":r?"":"","Hydra de Cdigo":n?"":r?"":"","Golem de Pedra":n?"":r?"":"","Fnix Sombria":n?"":r?"":"","Kraken Abissal":n?"":r?"":""}[e]||"",isEvolved:r,isEnraged:n,title:n?`${e} ENFURECIDO`:r?`${e} Evoludo`:e}};function Hq({raid:e,averageLevel:t=1}){const r=e.boss_current_hp/e.boss_max_hp*100,n=zq(e.boss_name,t),s=Math.floor(e.boss_damage*(1+t*.05)),o=(l=>_l.find(c=>c.name===l)||_l[0])(e.boss_name);return i.jsxs("div",{className:U("relative p-4 pixel-border bg-gradient-to-b from-destructive/30 to-card overflow-hidden",n.isEnraged&&"animate-pulse border-destructive",n.isEvolved&&"pixel-border-gold"),children:[n.isEnraged&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-destructive/20 to-transparent pointer-events-none"}),i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("div",{className:U("w-48 h-48 mx-auto mb-2 flex items-center justify-center relative z-10",n.isEnraged&&"animate-bounce-pixel"),children:i.jsx("img",{src:`/assets/images/${o.image}`,alt:e.boss_name,className:"max-w-full max-h-full object-contain pixelated drop-shadow-[0_0_15px_rgba(0,0,0,0.5)]",onError:l=>{l.currentTarget.style.display="none";const c=l.currentTarget.parentElement;if(c){const u=document.createElement("span");u.className="text-8xl",u.innerText=n.emoji,c.appendChild(u)}}})}),i.jsx("h2",{className:U("text-[16px] font-black uppercase tracking-widest",n.isEnraged&&"text-destructive animate-pulse",!n.isEnraged&&"text-primary glow-gold"),children:n.title}),i.jsxs("p",{className:"text-[9px] text-muted-foreground italic max-w-sm mx-auto mt-1 leading-tight",children:['"',o.lore,'"']}),i.jsxs("div",{className:"flex justify-center gap-2 mt-1",children:[n.isEvolved&&i.jsxs("span",{className:"text-[8px] bg-secondary/50 px-2 py-0.5 pixel-border text-secondary-foreground flex items-center gap-1",children:[i.jsx(dl,{className:"w-3 h-3"})," EVOLUDO"]}),n.isEnraged&&i.jsxs("span",{className:"text-[8px] bg-destructive/50 px-2 py-0.5 pixel-border text-destructive-foreground flex items-center gap-1",children:[i.jsx(b1,{className:"w-3 h-3"})," ENFURECIDO"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(vi,{className:"w-4 h-4 text-destructive"}),i.jsx("span",{className:"text-[10px] text-destructive font-bold",children:"HP do Boss"})]}),i.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[e.boss_current_hp.toLocaleString()," / ",e.boss_max_hp.toLocaleString()]})]}),i.jsxs("div",{className:"relative h-8 pixel-border bg-muted overflow-hidden",children:[i.jsx("div",{className:U("absolute inset-y-0 left-0 transition-all duration-500",r>50?"bg-gradient-to-r from-purple-600 to-indigo-600":r>25?"bg-primary":"bg-destructive animate-pulse"),style:{width:`${r}%`}}),i.jsx("div",{className:"absolute inset-0 flex",children:Array.from({length:10}).map((l,c)=>i.jsx("div",{className:"flex-1 border-r border-background/30"},c))}),r<25&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-pulse"})]}),i.jsxs("div",{className:"flex justify-between text-[8px] text-muted-foreground",children:[i.jsxs("span",{children:[" Dano: ",s]}),i.jsxs("span",{children:[" Nvel mdio do grupo: ",t.toFixed(1)]})]})]})]})}function Wq(){const{user:e}=$e();At();const{raids:t,myActiveRaid:r,myRaidMemberships:n,createRaid:s,joinRaid:a,leaveRaid:o,deleteRaid:l,getRaidMembers:c,damageLogs:u,isCreating:d,triggerBossRandomCrit:f}=Ds(),[h,p]=m.useState(!1),[v,g]=m.useState(""),[b,x]=m.useState("0"),[y,w]=m.useState([]),[_,S]=m.useState({}),j=async()=>{if(r){const T=await c(r.id);w(T)}else w([])};m.useEffect(()=>{j()},[r]),m.useEffect(()=>{(async()=>{if(y.length===0)return;const A=y.map(M=>M.user_id),{data:R}=await I.from("profiles").select("*").in("user_id",A);if(R){const M={};R.forEach(z=>{M[z.user_id]=z}),S(M)}})()},[y]),m.useEffect(()=>{if(r&&f){f();const T=A=>{A.target.closest("button")&&f()};return document.addEventListener("click",T),()=>document.removeEventListener("click",T)}},[r==null?void 0:r.id]);const N=()=>{v.trim()&&(s({name:v,bossIndex:parseInt(b)}),g(""),p(!1))},C=T=>{const A=_l.find(R=>R.name===T);return(A==null?void 0:A.emoji)||""},k=Object.fromEntries(Object.entries(_).map(([T,A])=>[T,A.username])),O=y.length>0?Object.values(_).reduce((T,A)=>T+((A==null?void 0:A.level)||1),0)/y.length:1,F=(r==null?void 0:r.leader_id)===(e==null?void 0:e.id);if(r){const T=new Date(r.deadline),A=T<new Date;return i.jsxs("div",{className:"space-y-4",children:[i.jsx(Hq,{raid:r,averageLevel:O}),i.jsxs(Ge,{className:"pixel-border",children:[i.jsx(Ir,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Mr,{className:"text-[12px] flex items-center gap-2",children:[i.jsx(Bt,{className:"w-4 h-4 text-primary"}),r.name,F&&i.jsx(on,{className:"w-3 h-3 text-primary"})]}),i.jsxs("div",{className:"flex gap-2",children:[F&&i.jsx(Bq,{raid:r,members:y,memberProfiles:_,onMemberRemoved:j,onMemberAdded:j}),F&&i.jsxs(G,{variant:"ghost",size:"sm",onClick:()=>{window.confirm(" EXCLUIR RAID? Todos os membros sero removidos e a misso ser encerrada. Tem certeza?")&&l(r.id)},className:"text-[8px] text-destructive hover:bg-destructive/10",children:[i.jsx(pd,{className:"w-3 h-3 mr-1"}),"Excluir"]}),i.jsxs(G,{variant:"ghost",size:"sm",onClick:()=>{window.confirm(" VOC PERDER 40% DE HP E 50% DE OURO se abandonar a raid agora! Tem certeza que deseja ser um desertor?")&&o(r.id)},className:"text-[8px] text-destructive hover:bg-destructive/10",children:[i.jsx(eg,{className:"w-3 h-3 mr-1"}),"Sair"]})]})]})}),i.jsxs(dt,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-[8px]",children:[i.jsx(Su,{className:"w-3 h-3"}),i.jsx("span",{className:A?"text-destructive":"text-muted-foreground",children:A?"Prazo expirado!":`Termina ${oL(T,{locale:ks,addSuffix:!0})}`})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{className:"text-[8px] text-muted-foreground flex items-center gap-1",children:[i.jsx(ul,{className:"w-3 h-3"}),"Membros (",y.length,"/5)"]}),i.jsxs("div",{className:"flex gap-3 justify-center flex-wrap",children:[y.map(R=>{const M=_[R.user_id],z=R.user_id===r.leader_id;return i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-14 h-14 pixel-border bg-muted p-1",children:M&&i.jsx(Ct,{playerClass:M.player_class,equippedHat:M.equipped_hat,equippedSkin:M.equipped_skin,equippedMount:M.equipped_mount,size:48})}),z&&i.jsx(on,{className:"absolute -top-1 -right-1 w-4 h-4 text-primary bg-background rounded-full p-0.5"})]}),i.jsx("span",{className:"text-[7px] text-center mt-1 max-w-14 truncate",children:(M==null?void 0:M.username)||"..."}),i.jsxs("span",{className:"text-[6px] text-muted-foreground",children:["Nv. ",(M==null?void 0:M.level)||1]}),i.jsxs("span",{className:"text-[7px] text-accent font-bold",children:[R.damage_dealt," dmg"]})]},R.id)}),Array.from({length:5-y.length}).map((R,M)=>i.jsx("div",{className:"w-14 h-14 pixel-border bg-muted/30 flex items-center justify-center",children:i.jsx("span",{className:"text-[10px] text-muted-foreground",children:"?"})},`empty-${M}`))]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(Ge,{className:"pixel-border h-64",children:[i.jsx(Ir,{className:"py-2",children:i.jsx(Mr,{className:"text-[10px]",children:" Chat da Raid"})}),i.jsx(dt,{className:"p-0 h-48",children:i.jsx(cC,{channelType:"raid",channelId:r.id,usernames:k})})]}),i.jsxs(Ge,{className:"pixel-border h-64",children:[i.jsx(Ir,{className:"py-2",children:i.jsxs(Mr,{className:"text-[10px] flex items-center gap-2",children:[i.jsx(Bt,{className:"w-3 h-3 text-destructive"}),"Log de Combate"]})}),i.jsx(dt,{className:"p-2 h-48 overflow-y-auto space-y-1",children:u.length===0?i.jsx("p",{className:"text-[8px] text-muted-foreground text-center mt-4",children:"Nenhum combate registrado."}):u.map(R=>i.jsx("div",{className:"text-[8px] border-b border-muted/30 pb-1",children:R.type==="player_to_boss"?i.jsxs("p",{children:[i.jsx("span",{className:"text-accent font-bold",children:k[R.user_id]||"Heri"})," causou ",i.jsxs("span",{className:"text-destructive font-bold",children:[R.damage_amount," dmg"]}),' ao boss completando "',i.jsx("span",{className:"italic",children:R.task_title}),'"']}):i.jsxs("p",{className:"text-destructive",children:[" ",i.jsx("span",{className:"font-bold",children:"Boss"})," atacou ",i.jsx("span",{className:"font-bold",children:k[R.user_id]||"Heri"})," por ",i.jsxs("span",{className:"font-bold",children:[R.damage_amount," hp"]})," (Falhou: ",R.task_title,")"]})},R.id))})]})]})]})}return i.jsxs("div",{className:"space-y-4",children:[i.jsxs(it,{open:h,onOpenChange:p,children:[i.jsx(Ul,{asChild:!0,children:i.jsxs(G,{className:"w-full pixel-button text-[10px]",children:[i.jsx(Il,{className:"w-4 h-4 mr-2"}),"Criar Nova Raid"]})}),i.jsxs(et,{className:"pixel-border",children:[i.jsx(tt,{children:i.jsx(rt,{className:"text-[12px]",children:" Criar Raid"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ke,{placeholder:"Nome da Raid",value:v,onChange:T=>g(T.target.value),className:"pixel-border text-[10px]"}),i.jsxs(Jg,{value:b,onValueChange:x,children:[i.jsx(Gd,{className:"pixel-border text-[10px]",children:i.jsx(Zg,{placeholder:"Escolha o Boss"})}),i.jsx(Qd,{children:_l.map((T,A)=>i.jsxs(Yd,{value:A.toString(),className:"text-[10px]",children:[T.emoji," ",T.name," (HP: ",T.hp,")"]},A))})]}),i.jsx(G,{onClick:N,disabled:d||!v.trim(),className:"w-full pixel-button text-[10px]",children:"Criar Raid"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground",children:"Raids Disponveis"}),t.length===0?i.jsxs(Ge,{className:"pixel-border p-4 text-center",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Nenhuma raid ativa no momento"}),i.jsx("p",{className:"text-[8px] text-muted-foreground mt-1",children:"Crie uma raid e convide seus amigos!"})]}):t.map(T=>{const A=n.some(M=>M.raid_id===T.id),R=T.boss_current_hp/T.boss_max_hp*100;return i.jsx(Ge,{className:"pixel-border",children:i.jsxs(dt,{className:"p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-2xl",style:{imageRendering:"pixelated"},children:C(T.boss_name)}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-bold",children:T.name}),i.jsx("p",{className:"text-[8px] text-muted-foreground",children:T.boss_name})]})]}),i.jsx(G,{size:"sm",onClick:()=>a(T.id),disabled:A,className:"pixel-button text-[8px]",children:A?"J est":"Entrar"})]}),i.jsx("div",{className:"h-3 pixel-border bg-muted overflow-hidden relative",children:i.jsx("div",{className:"absolute inset-y-0 left-0 bg-destructive",style:{width:`${R}%`}})}),i.jsxs("div",{className:"flex justify-between mt-1 text-[6px] text-muted-foreground",children:[i.jsxs("span",{children:["HP: ",T.boss_current_hp,"/",T.boss_max_hp]}),i.jsxs("span",{children:["Termina ",Vt(new Date(T.deadline),"dd/MM 's' HH:mm",{locale:ks})]})]})]})},T.id)})]})]})}const v0=["#FFD700","#FF4444","#44FF44","#4444FF","#FF44FF","#44FFFF","#FF8800","#8800FF"];function Vq(){const{user:e}=$e(),{guilds:t,myGuild:r,announcements:n,createGuild:s,joinGuild:a,leaveGuild:o,postAnnouncement:l,getGuildMembers:c,guildRanking:u,isCreating:d}=Cg(),[f,h]=m.useState(!1),[p,v]=m.useState(""),[g,b]=m.useState(""),[x,y]=m.useState(v0[0]),[w,_]=m.useState(""),[S,j]=m.useState([]),[N,C]=m.useState({});m.useEffect(()=>{r?c(r.id).then(j):j([])},[r]),m.useEffect(()=>{(async()=>{if(S.length===0)return;const A=S.map(M=>M.user_id),{data:R}=await I.from("profiles").select("*").in("user_id",A);if(R){const M={};R.forEach(z=>{M[z.user_id]=z}),C(M)}})()},[S]);const k=()=>{p.trim()&&(s({name:p,description:g,emblemColor:x}),v(""),b(""),h(!1))},O=()=>{w.trim()&&(l(w),_(""))},F=Object.fromEntries(Object.entries(N).map(([T,A])=>[T,A.username]));return i.jsxs("div",{className:"space-y-6",children:[r?i.jsxs("div",{className:"space-y-4",children:[i.jsxs(Ge,{className:"pixel-border",children:[i.jsx(Ir,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 pixel-border flex items-center justify-center",style:{backgroundColor:r.emblem_color},children:i.jsx(cl,{className:"w-6 h-6 text-white drop-shadow-md"})}),i.jsxs("div",{children:[i.jsxs(Mr,{className:"text-[12px] flex items-center gap-1",children:[r.name,r.leader_id===(e==null?void 0:e.id)&&i.jsx(on,{className:"w-3 h-3 text-primary"})]}),i.jsx("p",{className:"text-[8px] text-muted-foreground",children:r.description||"Sem descrio"})]})]}),i.jsxs(G,{variant:"ghost",size:"sm",onClick:()=>o(),className:"text-[8px] text-destructive",children:[i.jsx(eg,{className:"w-3 h-3 mr-1"}),"Sair"]})]})}),i.jsx(dt,{children:i.jsxs("p",{className:"text-[8px] text-muted-foreground flex items-center gap-1",children:[i.jsx(ul,{className:"w-3 h-3"}),S.length," membros"]})})]}),i.jsxs(Ge,{className:"pixel-border",children:[i.jsx(Ir,{className:"py-2",children:i.jsxs(Mr,{className:"text-[10px] flex items-center gap-1",children:[i.jsx(iT,{className:"w-4 h-4"}),"Mural de Avisos"]})}),i.jsxs(dt,{className:"space-y-2",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ke,{placeholder:"Escrever aviso...",value:w,onChange:T=>_(T.target.value),className:"flex-1 text-[10px] pixel-border h-8"}),i.jsx(G,{size:"sm",onClick:O,disabled:!w.trim(),className:"pixel-button text-[8px] h-8",children:"Publicar"})]}),i.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:n.length===0?i.jsx("p",{className:"text-[8px] text-muted-foreground text-center py-2",children:"Nenhum aviso ainda"}):n.map(T=>{const A=N[T.author_id];return i.jsxs("div",{className:"bg-muted/50 p-2 rounded text-[8px]",children:[i.jsxs("div",{className:"flex justify-between text-muted-foreground mb-1",children:[i.jsx("span",{className:"font-bold",children:(A==null?void 0:A.username)||"Membro"}),i.jsx("span",{children:Vt(new Date(T.created_at),"dd/MM 's' HH:mm",{locale:ks})})]}),i.jsx("p",{children:T.content})]},T.id)})})]})]}),i.jsxs(Ge,{className:"pixel-border h-64",children:[i.jsx(Ir,{className:"py-2",children:i.jsx(Mr,{className:"text-[10px]",children:" Chat da Guilda"})}),i.jsx(dt,{className:"p-0 h-48",children:i.jsx(cC,{channelType:"guild",channelId:r.id,usernames:F})})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs(it,{open:f,onOpenChange:h,children:[i.jsx(Ul,{asChild:!0,children:i.jsxs(G,{className:"w-full pixel-button text-[10px]",children:[i.jsx(Il,{className:"w-4 h-4 mr-2"}),"Criar Nova Guilda"]})}),i.jsxs(et,{className:"pixel-border",children:[i.jsx(tt,{children:i.jsx(rt,{className:"text-[12px]",children:" Criar Guilda"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ke,{placeholder:"Nome da Guilda",value:p,onChange:T=>v(T.target.value),className:"pixel-border text-[10px]"}),i.jsx(Pa,{placeholder:"Descrio (opcional)",value:g,onChange:T=>b(T.target.value),className:"pixel-border text-[10px]",rows:2}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-[10px]",children:"Cor do Braso:"}),i.jsx("div",{className:"flex gap-2 flex-wrap",children:v0.map(T=>i.jsx("button",{onClick:()=>y(T),className:`w-8 h-8 pixel-border ${x===T?"ring-2 ring-primary":""}`,style:{backgroundColor:T}},T))})]}),i.jsx(G,{onClick:k,disabled:d||!p.trim(),className:"w-full pixel-button text-[10px]",children:"Criar Guilda"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground",children:"Guildas Disponveis"}),i.jsxs(yt,{variant:"outline",className:"text-[8px]",children:[t.length," Total"]})]}),t.length===0?i.jsxs(Ge,{className:"pixel-border p-4 text-center",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Nenhuma guilda disponvel"}),i.jsx("p",{className:"text-[8px] text-muted-foreground mt-1",children:"Seja o primeiro a criar uma guilda!"})]}):i.jsx("div",{className:"space-y-2",children:t.slice(0,3).map(T=>{var A;return i.jsx(Ge,{className:"pixel-border",children:i.jsx(dt,{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 pixel-border flex items-center justify-center",style:{backgroundColor:T.emblem_color},children:i.jsx(cl,{className:"w-4 h-4 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-bold",children:T.name}),i.jsxs("p",{className:"text-[8px] text-muted-foreground flex items-center gap-1",children:[i.jsx(ul,{className:"w-2 h-2"}),((A=u.find(R=>R.id===T.id))==null?void 0:A.member_count)||0,"/20 membros"]})]})]}),(()=>{var z;const M=(((z=u.find(q=>q.id===T.id))==null?void 0:z.member_count)||0)>=20;return i.jsx(G,{size:"sm",onClick:()=>a(T.id),disabled:M,className:U("pixel-button text-[8px]",M&&"opacity-50 cursor-not-allowed bg-muted"),children:M?"Lotada":"Entrar"})})()]})})},T.id)})})]})]}),i.jsxs("div",{className:"space-y-4 pt-4 border-t border-white/5",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(md,{className:"w-4 h-4 text-gold"}),i.jsx("h3",{className:"text-[10px] font-bold text-primary grow-gold uppercase tracking-tighter",children:"Ranking: Elite de XP Acumulada"})]}),i.jsx("div",{className:"pixel-border bg-card/50 overflow-hidden",children:i.jsxs("table",{className:"w-full text-left text-[8px]",children:[i.jsx("thead",{className:"bg-muted/50 border-b border-border",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-2 font-bold",children:"Pos"}),i.jsx("th",{className:"p-2 font-bold",children:"Guilda"}),i.jsx("th",{className:"p-2 font-bold text-center",children:"XP Total"}),i.jsx("th",{className:"p-2 font-bold text-right",children:"Membros"})]})}),i.jsxs("tbody",{children:[(u||[]).slice(0,10).map((T,A)=>i.jsxs("tr",{className:"border-b border-border/50 hover:bg-muted/30 transition-colors",children:[i.jsxs("td",{className:"p-2 font-bold text-muted-foreground flex items-center gap-1",children:[A===0&&i.jsx(on,{className:"w-3 h-3 text-gold"}),"#",A+1]}),i.jsx("td",{className:"p-2",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 pixel-border",style:{backgroundColor:T.emblem_color}}),i.jsx("span",{className:"font-bold",children:T.name})]})}),i.jsx("td",{className:"p-2 text-center font-black text-primary glow-gold",children:T.total_xp.toLocaleString()}),i.jsxs("td",{className:"p-2 text-right font-mono text-muted-foreground",children:[T.member_count,"/20"]})]},T.id)),(!u||u.length===0)&&i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-4 text-center text-muted-foreground italic",children:"Nenhuma guilda no ranking ainda."})})]})]})})]})]})}function Kq(){const{signOut:e}=$e(),{profile:t,upgradeToPro:r,revive:n}=At(),{pendingTasks:s,completedTasks:a,createTask:o,completeTask:l,deleteTask:c,canCreateTask:u,isCreating:d,isCompleting:f,isDeleting:h}=Ng(),{myActiveRaid:p}=Ds();Cg();const{pendingChallenges:v,activeDuel:g}=Ta(),{pendingRequests:b}=jS(),[x,y]=m.useState("home"),[w,_]=m.useState(!1),[S,j]=m.useState(!1),[N,C]=m.useState(!1),[k,O]=m.useState(!1),[F,T]=m.useState("weapons"),A=async()=>{if(t){if(t.diamonds<5){$.error("Voc no tem diamantes suficientes. Abrindo a loja..."),T("diamonds"),_(!0);return}await r()}},R=t&&t.level>=Tn&&t.player_class==="apprentice",M=((v==null?void 0:v.length)||0)+(g?1:0),z=s.length,q=p?1:0,P=b.length,L=[{id:"home",label:"Incio",icon:sT,badge:0},{id:"pvp",label:"PvP",icon:Bt,badge:M},{id:"raids",label:"Raids",icon:vi,badge:q},{id:"guild",label:"Guilda",icon:cl,badge:0},{id:"social",label:"Social",icon:ul,badge:P},{id:"tasks",label:"Misses",icon:Iy,badge:z},{id:"profile",label:"Perfil",icon:bT,badge:0}];return i.jsxs("div",{className:"min-h-screen bg-background text-foreground pb-20 sm:pb-8 selection:bg-primary/30",children:[i.jsx("nav",{className:"sticky top-0 z-50 bg-[#1a103c] border-b-4 border-[#3d2b7a] shadow-2xl overflow-x-auto no-scrollbar",children:i.jsx("div",{className:"container max-w-7xl px-0 sm:px-6",children:i.jsxs("div",{className:"flex items-center justify-between min-w-[500px] sm:min-w-0",children:[i.jsxs("div",{className:"hidden lg:flex items-center gap-3 px-6 py-2 border-r-2 border-[#3d2b7a]/30",children:[i.jsx("span",{className:"text-xl",children:""}),i.jsx("span",{className:"text-[12px] font-black tracking-tighter uppercase text-primary glow-gold",children:"TasKLegends"}),i.jsx("span",{className:"text-xl",children:""})]}),i.jsx("div",{className:"flex-1 flex items-center justify-around sm:justify-center sm:gap-4 md:gap-8 lg:gap-12 py-1",children:L.map(D=>{const B=D.icon,V=x===D.id;return i.jsxs("button",{onClick:()=>y(D.id),className:U("flex flex-col items-center gap-1 px-3 py-2 transition-all relative group min-w-[64px]",V?"text-primary scale-110":"text-slate-400 hover:text-white"),children:[i.jsxs("div",{className:U("p-1.5 rounded-lg transition-colors relative",V?"bg-primary/10":"group-hover:bg-white/5"),children:[i.jsx(B,{className:U("w-6 h-6",V?"stroke-[3px]":"stroke-[2px]")}),D.badge>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-destructive text-white text-[8px] font-bold w-4 h-4 flex items-center justify-center rounded-full border-2 border-[#1a103c] animate-pulse",children:D.badge})]}),i.jsx("span",{className:U("text-[9px] font-bold uppercase tracking-widest",V?"text-primary glow-gold":""),children:D.label}),V&&i.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-8 h-1 bg-primary rounded-full shadow-[0_0_8px_rgba(255,183,0,1)]"})]},D.id)})}),i.jsx("div",{className:"hidden md:flex items-center gap-2 px-4 border-l-2 border-[#3d2b7a]/30",children:i.jsx(G,{variant:"ghost",size:"icon",onClick:()=>e(),className:"w-10 h-10 text-destructive/70 hover:text-destructive hover:bg-destructive/10",children:i.jsx(eg,{className:"w-5 h-5"})})})]})})}),i.jsx("main",{className:"container max-w-7xl py-6 px-4 sm:px-6",children:i.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[x==="home"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[t&&t.current_hp<=0&&i.jsxs("div",{className:"pixel-border bg-destructive/10 border-destructive p-4 mb-4 animate-pulse-slow flex flex-col items-center text-center gap-3 shadow-[0_0_15px_rgba(255,0,0,0.3)]",children:[i.jsxs("div",{className:"flex items-center gap-2 text-destructive font-black text-xs uppercase tracking-widest",children:[i.jsx(vi,{className:"w-5 h-5"}),i.jsx("span",{children:"VOC MORREU!"}),i.jsx(vi,{className:"w-5 h-5"})]}),i.jsxs("p",{className:"text-[10px] sm:text-[11px] font-bold text-muted-foreground leading-tight",children:["Suas atividades esto bloqueadas.",i.jsx("br",{}),"Gaste ",i.jsx("span",{className:"text-destructive",children:"5 diamantes"})," para reviver com 50% de HP."]}),i.jsxs(G,{size:"sm",onClick:async()=>{if(t){if(t.diamonds<5){$.error("Diamantes insuficientes! Abrindo loja..."),T("diamonds"),_(!0);return}n&&await n()}},className:"w-full pixel-button bg-destructive hover:bg-destructive/80 text-white font-black animate-pulse",children:[i.jsx(w1,{className:"mr-2 w-4 h-4"})," REANIMAR (5 )"]})]}),i.jsx(Zx,{}),R&&i.jsx(G,{onClick:()=>C(!0),className:"w-full pixel-button bg-gold hover:bg-gold/80 text-black font-black h-12 animate-bounce glow-gold text-[10px]",children:" ESCOLHER CLASSE "})]}),i.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[i.jsxs("div",{className:"pixel-border bg-card/40 p-6 flex flex-col items-center justify-center text-center space-y-4 min-h-[300px]",children:[i.jsx(G,{onClick:()=>_(!0),className:"pixel-button bg-gold text-black w-full max-w-xs sm:max-w-none sm:px-12 h-auto py-3 sm:h-12 glow-gold whitespace-normal leading-tight text-xs sm:text-sm",children:"ABRIR MERCADO DE EQUIPAMENTOS"}),i.jsx("h2",{className:"text-xl font-black text-primary glow-gold",children:"BEM-VINDO AO TASKLEGENDS"}),i.jsx("p",{className:"text-muted-foreground text-sm max-w-md",children:"Complete suas tarefas dirias para ganhar XP e Ouro. Junte-se a uma guilda e derrote chefes picos!"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full max-w-sm",children:[i.jsx(G,{onClick:()=>y("tasks"),className:"pixel-button bg-[#00ff88] hover:bg-[#00e67a] text-black text-[10px] font-black shadow-[0_0_20px_#00ff88] animate-pulse-glow transition-all uppercase",children:"VER MISSES"}),i.jsx(G,{onClick:()=>y("shop"),className:"pixel-button bg-[#bf00ff] hover:bg-[#a600e6] text-white text-[8px] sm:text-[9px] leading-tight h-auto py-3 px-4 whitespace-normal text-center font-black shadow-[0_0_20px_#bf00ff] animate-pulse-glow transition-all uppercase",children:"CRIE RECOMPENSAS EM OURO PARA EQUILIBRAR SUA ROTINA"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"pixel-border bg-card p-4",children:[i.jsxs("h3",{className:"text-[10px] font-bold text-accent mb-3 flex items-center gap-2",children:[i.jsx(md,{className:"w-4 h-4"})," RECENTES"]}),i.jsxs("div",{className:"space-y-2 opacity-60",children:[a.slice(0,3).map(D=>i.jsxs("div",{className:"text-[9px] border-b border-border pb-1",children:["Concludo: ",D.title]},D.id)),a.length===0&&i.jsx("p",{className:"text-[9px]",children:"Nenhuma atividade recente."})]})]}),i.jsxs("div",{className:"pixel-border bg-card p-4",children:[i.jsxs("h3",{className:"text-[10px] font-bold text-primary mb-3 flex items-center gap-2",children:[i.jsx(_u,{className:"w-4 h-4"})," DICA DO DIA"]}),i.jsx("p",{className:"text-[9px] leading-relaxed",children:"No esquea de checar seus hbitos diariamente para manter sua sequncia e ganhar bnus de ouro!"})]}),i.jsxs(G,{variant:"ghost",onClick:()=>j(!0),className:"pixel-border bg-card/40 p-4 h-auto flex flex-col items-center gap-2 hover:bg-primary/10 group border-dashed",children:[i.jsx(_u,{className:"w-5 h-5 text-primary group-hover:scale-110 transition-transform"}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-[9px] font-black text-primary",children:"MECNICAS DO JOGO"}),i.jsx("p",{className:"text-[7px] text-muted-foreground uppercase",children:"Guia de Atributos e Regras"})]})]}),i.jsxs(G,{variant:"ghost",onClick:()=>O(!0),className:"pixel-border bg-card/40 p-4 h-auto flex flex-col items-center gap-2 hover:bg-accent/10 group border-dashed",children:[i.jsx(op,{className:"w-5 h-5 text-accent group-hover:scale-110 transition-transform"}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-[9px] font-black text-accent",children:"SUPORTE TCNICO"}),i.jsx("p",{className:"text-[7px] text-muted-foreground uppercase",children:"Ajuda e Relato de Bugs"})]})]}),i.jsxs(G,{variant:"ghost",onClick:()=>y("tasks"),className:"pixel-border bg-card/40 p-4 h-auto flex flex-col items-center gap-2 hover:bg-emerald-500/10 group border-dashed",children:[i.jsx(Iy,{className:"w-5 h-5 text-emerald-500 group-hover:scale-110 transition-transform"}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-[9px] font-black text-emerald-500",children:"MISSES"}),i.jsx("p",{className:"text-[7px] text-muted-foreground uppercase",children:"Acesso Rpido"})]})]}),i.jsxs(G,{variant:"ghost",onClick:()=>_(!0),className:"pixel-border bg-card/40 p-4 h-auto flex flex-col items-center gap-2 hover:bg-gold/10 group border-dashed",children:[i.jsx(zc,{className:"w-5 h-5 text-gold group-hover:scale-110 transition-transform"}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-[8px] font-black text-gold leading-tight",children:"ITENS, EQUIPAMENTOS E DIAMANTES"}),i.jsx("p",{className:"text-[7px] text-muted-foreground uppercase",children:"Mercado Geral"})]})]})]})]})]}),x==="tasks"&&i.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[i.jsx("div",{className:"text-center px-6 py-3 bg-primary/10 pixel-border border-double border-primary/50",children:i.jsxs("p",{className:"text-[12px] sm:text-[14px] font-black text-primary glow-gold tracking-tighter leading-normal uppercase",children:[" LEMBRE-SE: A HONESTIDADE FAR VOC EVOLUIR NA VIDA E NO JOGO. ",i.jsx("br",{className:"hidden sm:block"}),"NO INVENTE TAREFAS QUE NO ACRESCENTARO POSITIVAMENTE NA SUA EVOLUO! "]})}),i.jsx("div",{className:"pixel-border bg-card/40 p-1",children:i.jsx(HF,{onSubmit:D=>o(D),canCreate:u(),isCreating:d,onUpgrade:A})}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(P8,{onUpgrade:A}),i.jsx("div",{className:"h-4"}),i.jsxs("div",{className:"flex items-center justify-between border-b-2 border-border pb-2",children:[i.jsxs("h2",{className:"text-[11px] font-black uppercase tracking-[0.2em] text-primary flex items-center gap-3",children:[i.jsx(Vi,{className:"w-4 h-4"})," Painel de Misses"]}),i.jsxs("span",{className:"text-[10px] bg-muted px-2 py-0.5 pixel-border font-bold",children:[s.length," ATIVAS"]})]}),s.length===0?i.jsxs("div",{className:"py-20 pixel-border border-dashed bg-muted/5 flex flex-col items-center justify-center gap-4",children:[i.jsx(Vi,{className:"w-8 h-8 opacity-20"}),i.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-widest font-bold",children:"Sem misses no momento!"})]}):i.jsx("div",{className:"grid gap-3",children:s.map(D=>i.jsx(zL,{task:D,onComplete:B=>l(B),onDelete:B=>c(B),disabled:f||h},D.id))})]})]}),x==="pvp"&&i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsx(Fq,{})}),x==="raids"&&i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsx(Wq,{})}),x==="guild"&&i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsx(Vq,{})}),x==="social"&&i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsx(Aq,{})}),x==="shop"&&i.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[i.jsx(nq,{}),i.jsx("div",{className:"h-px bg-border"})]}),x==="profile"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start",children:[i.jsx(Zx,{}),i.jsx(YM,{})]})]})}),i.jsx(O8,{open:w,onOpenChange:_,defaultTab:F}),i.jsx(Z8,{open:S,onOpenChange:j}),i.jsx(tq,{open:N,onOpenChange:C}),i.jsx(aq,{open:k,onOpenChange:O})]})}const Gq=()=>{const{user:e,loading:t}=$e();return t?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Hi,{className:"w-12 h-12 animate-spin text-primary mx-auto mb-4"}),i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Carregando aventura..."})]})}):e?i.jsx(Kq,{}):i.jsx(r5,{})},Qq=()=>{const e=R_();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),i.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),i.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})};function Yq(){const[e,t]=m.useState(!0),r=m.useRef(null);m.useEffect(()=>{console.log("BackgroundMusic montado!");const s=new Audio;return s.src="/assets/audio/background.mp3",s.loop=!0,s.volume=.5,s.preload="auto",r.current=s,s.addEventListener("error",a=>console.log("Erro no udio:",a)),s.addEventListener("canplay",()=>console.log("udio carregado!")),()=>{console.log("BackgroundMusic desmontado!"),s.pause(),s.src="",r.current=null}},[]);const n=()=>{const s=r.current;s&&(e?s.play().then(()=>t(!1)).catch(console.error):(s.pause(),t(!0)))};return i.jsxs("div",{className:"fixed bottom-20 left-4 z-[9999]",children:[i.jsx(G,{variant:"outline",size:"icon",onClick:n,className:"w-10 h-10 rounded-full border-2 border-primary bg-background/80 backdrop-blur-sm shadow-xl hover:bg-muted",title:e?"Tocar Msica":"Pausar Msica",children:e?i.jsx(_T,{className:"w-6 h-6"}):i.jsx(wT,{className:"w-6 h-6 animate-pulse"})}),!e&&i.jsx("div",{className:"absolute -top-8 left-0 right-0 text-center pointer-events-none",children:i.jsx("span",{className:"text-[8px] font-black uppercase text-primary glow-gold animate-bounce block",children:"Tocando "})})]})}const Xq=new YA,Jq=()=>i.jsx(XA,{client:Xq,children:i.jsx(EI,{children:i.jsxs(dg,{children:[i.jsx(QO,{children:i.jsxs(VO,{children:[i.jsx(Rp,{path:"/",element:i.jsx(Gq,{})}),i.jsx(Rp,{path:"*",element:i.jsx(Qq,{})})]})}),i.jsx(aP,{}),i.jsx(LP,{}),i.jsx(Yq,{})]})})}),uC=document.getElementById("root");if(!uC)throw new Error("Falha ao encontrar o elemento root");const Zq=zw(uC);Zq.render(i.jsx(Jq,{}));
